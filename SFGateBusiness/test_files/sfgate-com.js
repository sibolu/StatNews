(function(){"use strict";var n;n=function(n){var t,e,r,i;for(t=1,e=0,i=65521,r=0;r<n.length;)t=(t+n.charCodeAt(r))%i,e=(e+t)%i,r++;return e<<16|t};var t,e=function(){function n(t){if(!m){if(!o.body)return e(n);for(m=!0;t=g.shift();)t()}}function t(){h?(o.removeEventListener(d,t,a),n()):o[s]===c&&(o.detachEvent(v,t),n())}function e(n,t){setTimeout(n,+t>=0?t:1)}function r(n){"complete"===o.readyState||m?n():g.push(n)}var i=window,o=i.document,u=o.documentElement,a=!1,c="complete",s="readyState",f="attachEvent",l="addEventListener",d="DOMContentLoaded",v="onreadystatechange",h=l in o,p=a,m=a,g=[];if(o[s]===c)e(n);else if(h)o[l](d,t,a),i[l]("load",n,a);else{o[f](v,t),i[f]("onload",n);try{p=null==i.frameElement&&u}catch(y){}p&&p.doScroll&&!function w(){if(!m){try{p.doScroll("left")}catch(t){return e(w,50)}n()}}()}return r.version="1.2",r},r=function(){var n;try{n="undefined"==typeof window?global:window}catch(t){n={}}var e={Number:n.Number,Date:n.Date,String:n.String,Object:n.Object,SyntaxError:n.SyntaxError,TypeError:n.TypeError,Math:n.Math,JSON:n.JSON};return function(n){function t(e,r){function i(n){if(i[n]!==p)return i[n];var t;if("bug-string-char-index"==n)t="a"!="a"[0];else if("json"==n)t=i("json-stringify")&&i("json-parse");else{var e,a='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==n){var s=r.stringify,f="function"==typeof s&&y;if(f){(e=function(){return 1}).toJSON=e;try{f="0"===s(0)&&"0"===s(new o)&&'""'==s(new u)&&s(g)===p&&s(p)===p&&s()===p&&"1"===s(e)&&"[1]"==s([e])&&"[null]"==s([p])&&"null"==s(null)&&"[null,null,null]"==s([p,g,null])&&s({a:[e,!0,!1,null,"\x00\b\n\f\r	"]})==a&&"1"===s(null,e)&&"[\n 1,\n 2\n]"==s([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==s(new c(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==s(new c(864e13))&&'"-000001-01-01T00:00:00.000Z"'==s(new c(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==s(new c(-1))}catch(l){f=!1}}t=f}if("json-parse"==n){var d=r.parse;if("function"==typeof d)try{if(0===d("0")&&!d(!1)){e=d(a);var v=5==e.a.length&&1===e.a[0];if(v){try{v=!d('"	"')}catch(l){}if(v)try{v=1!==d("01")}catch(l){}if(v)try{v=1!==d("1.")}catch(l){}}}}catch(l){v=!1}t=v}}return i[n]=!!t}e||(e=n.Object()),r||(r=n.Object());var o=e.Number||n.Number,u=e.String||n.String,a=e.Object||n.Object,c=e.Date||n.Date,s=e.SyntaxError||n.SyntaxError,f=e.TypeError||n.TypeError,l=e.Math||n.Math,d=e.JSON||n.JSON;"object"==typeof d&&d&&(r.stringify=d.stringify,r.parse=d.parse);var v,h,p,m=a.prototype,g=m.toString,y=new c(-0xc782b5b800cec);try{y=-109252==y.getUTCFullYear()&&0===y.getUTCMonth()&&1===y.getUTCDate()&&10==y.getUTCHours()&&37==y.getUTCMinutes()&&6==y.getUTCSeconds()&&708==y.getUTCMilliseconds()}catch(w){}if(!i("json")){var b="[object Function]",I="[object Date]",E="[object Number]",N="[object String]",S="[object Array]",A="[object Boolean]",x=i("bug-string-char-index");if(!y)var C=l.floor,k=[0,31,59,90,120,151,181,212,243,273,304,334],M=function(n,t){return k[t]+365*(n-1970)+C((n-1969+(t=+(t>1)))/4)-C((n-1901+t)/100)+C((n-1601+t)/400)};(v=m.hasOwnProperty)||(v=function(n){var t,e={};return(e.__proto__=null,e.__proto__={toString:1},e).toString!=g?v=function(n){var t=this.__proto__,e=n in(this.__proto__=null,this);return this.__proto__=t,e}:(t=e.constructor,v=function(n){var e=(this.constructor||t).prototype;return n in this&&!(n in e&&this[n]===e[n])}),e=null,v.call(this,n)});var D={"boolean":1,number:1,string:1,undefined:1},R=function(n,t){var e=typeof n[t];return"object"==e?!!n[t]:!D[e]};if(h=function(n,t){var e,r,i,o=0;(e=function(){this.valueOf=0}).prototype.valueOf=0,r=new e;for(i in r)v.call(r,i)&&o++;return e=r=null,o?h=2==o?function(n,t){var e,r={},i=g.call(n)==b;for(e in n)i&&"prototype"==e||v.call(r,e)||!(r[e]=1)||!v.call(n,e)||t(e)}:function(n,t){var e,r,i=g.call(n)==b;for(e in n)i&&"prototype"==e||!v.call(n,e)||(r="constructor"===e)||t(e);(r||v.call(n,e="constructor"))&&t(e)}:(r=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],h=function(n,t){var e,i,o=g.call(n)==b,u=!o&&"function"!=typeof n.constructor&&R(n,"hasOwnProperty")?n.hasOwnProperty:v;for(e in n)o&&"prototype"==e||!u.call(n,e)||t(e);for(i=r.length;e=r[--i];u.call(n,e)&&t(e));}),h(n,t)},!i("json-stringify")){var _={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},U="000000",T=function(n,t){return(U+(t||0)).slice(-n)},j="\\u00",$=function(n){for(var t='"',e=0,r=n.length,i=!x||r>10,o=i&&(x?n.split(""):n);r>e;e++){var u=n.charCodeAt(e);switch(u){case 8:case 9:case 10:case 12:case 13:case 34:case 92:t+=_[u];break;default:if(32>u){t+=j+T(2,u.toString(16));break}t+=i?o[e]:n.charAt(e)}}return t+'"'},O=function(n,t,e,r,i,o,u){var a,c,s,l,d,m,y,w,b,x,k,D,R,_,U,j;try{a=t[n]}catch(P){}if("object"==typeof a&&a)if(c=g.call(a),c!=I||v.call(a,"toJSON"))"function"==typeof a.toJSON&&(c!=E&&c!=N&&c!=S||v.call(a,"toJSON"))&&(a=a.toJSON(n));else if(a>-1/0&&1/0>a){if(M){for(d=C(a/864e5),s=C(d/365.2425)+1970-1;M(s+1,0)<=d;s++);for(l=C((d-M(s,0))/30.42);M(s,l+1)<=d;l++);d=1+d-M(s,l),m=(a%864e5+864e5)%864e5,y=C(m/36e5)%24,w=C(m/6e4)%60,b=C(m/1e3)%60,x=m%1e3}else s=a.getUTCFullYear(),l=a.getUTCMonth(),d=a.getUTCDate(),y=a.getUTCHours(),w=a.getUTCMinutes(),b=a.getUTCSeconds(),x=a.getUTCMilliseconds();a=(0>=s||s>=1e4?(0>s?"-":"+")+T(6,0>s?-s:s):T(4,s))+"-"+T(2,l+1)+"-"+T(2,d)+"T"+T(2,y)+":"+T(2,w)+":"+T(2,b)+"."+T(3,x)+"Z"}else a=null;if(e&&(a=e.call(t,n,a)),null===a)return"null";if(c=g.call(a),c==A)return""+a;if(c==E)return a>-1/0&&1/0>a?""+a:"null";if(c==N)return $(""+a);if("object"==typeof a){for(_=u.length;_--;)if(u[_]===a)throw f();if(u.push(a),k=[],U=o,o+=i,c==S){for(R=0,_=a.length;_>R;R++)D=O(R,a,e,r,i,o,u),k.push(D===p?"null":D);j=k.length?i?"[\n"+o+k.join(",\n"+o)+"\n"+U+"]":"["+k.join(",")+"]":"[]"}else h(r||a,function(n){var t=O(n,a,e,r,i,o,u);t!==p&&k.push($(n)+":"+(i?" ":"")+t)}),j=k.length?i?"{\n"+o+k.join(",\n"+o)+"\n"+U+"}":"{"+k.join(",")+"}":"{}";return u.pop(),j}};r.stringify=function(n,t,e){var r,i,o,u;if("function"==typeof t||"object"==typeof t&&t)if((u=g.call(t))==b)i=t;else if(u==S){o={};for(var a,c=0,s=t.length;s>c;a=t[c++],u=g.call(a),(u==N||u==E)&&(o[a]=1));}if(e)if((u=g.call(e))==E){if((e-=e%1)>0)for(r="",e>10&&(e=10);r.length<e;r+=" ");}else u==N&&(r=e.length<=10?e:e.slice(0,10));return O("",(a={},a[""]=n,a),i,o,r,"",[])}}if(!i("json-parse")){var P,B,z=u.fromCharCode,K={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},L=function(){throw P=B=null,s()},q=function(){for(var n,t,e,r,i,o=B,u=o.length;u>P;)switch(i=o.charCodeAt(P)){case 9:case 10:case 13:case 32:P++;break;case 123:case 125:case 91:case 93:case 58:case 44:return n=x?o.charAt(P):o[P],P++,n;case 34:for(n="@",P++;u>P;)if(i=o.charCodeAt(P),32>i)L();else if(92==i)switch(i=o.charCodeAt(++P)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:n+=K[i],P++;break;case 117:for(t=++P,e=P+4;e>P;P++)i=o.charCodeAt(P),i>=48&&57>=i||i>=97&&102>=i||i>=65&&70>=i||L();n+=z("0x"+o.slice(t,P));break;default:L()}else{if(34==i)break;for(i=o.charCodeAt(P),t=P;i>=32&&92!=i&&34!=i;)i=o.charCodeAt(++P);n+=o.slice(t,P)}if(34==o.charCodeAt(P))return P++,n;L();default:if(t=P,45==i&&(r=!0,i=o.charCodeAt(++P)),i>=48&&57>=i){for(48==i&&(i=o.charCodeAt(P+1),i>=48&&57>=i)&&L(),r=!1;u>P&&(i=o.charCodeAt(P),i>=48&&57>=i);P++);if(46==o.charCodeAt(P)){for(e=++P;u>e&&(i=o.charCodeAt(e),i>=48&&57>=i);e++);e==P&&L(),P=e}if(i=o.charCodeAt(P),101==i||69==i){for(i=o.charCodeAt(++P),(43==i||45==i)&&P++,e=P;u>e&&(i=o.charCodeAt(e),i>=48&&57>=i);e++);e==P&&L(),P=e}return+o.slice(t,P)}if(r&&L(),"true"==o.slice(P,P+4))return P+=4,!0;if("false"==o.slice(P,P+5))return P+=5,!1;if("null"==o.slice(P,P+4))return P+=4,null;L()}return"$"},W=function(n){var t,e;if("$"==n&&L(),"string"==typeof n){if("@"==(x?n.charAt(0):n[0]))return n.slice(1);if("["==n){for(t=[];n=q(),"]"!=n;e||(e=!0))e&&(","==n?(n=q(),"]"==n&&L()):L()),","==n&&L(),t.push(W(n));return t}if("{"==n){for(t={};n=q(),"}"!=n;e||(e=!0))e&&(","==n?(n=q(),"}"==n&&L()):L()),(","==n||"string"!=typeof n||"@"!=(x?n.charAt(0):n[0])||":"!=q())&&L(),t[n.slice(1)]=W(q());return t}L()}return n},F=function(n,t,e){var r=G(n,t,e);r===p?delete n[t]:n[t]=r},G=function(n,t,e){var r,i=n[t];if("object"==typeof i&&i)if(g.call(i)==S)for(r=i.length;r--;)F(i,r,e);else h(i,function(n){F(i,n,e)});return e.call(n,t,i)};r.parse=function(n,t){var e,r;return P=0,B=""+n,e=W(q()),"$"!=q()&&L(),P=B=null,t&&g.call(t)==b?G((r={},r[""]=e,r),"",t):e}}}return r.runInContext=t,r}var e="function"==typeof define&&define.amd,r="object"==typeof global&&global;if(!r||r.global!==r&&r.window!==r||(n=r),"object"!=typeof exports||!exports||exports.nodeType||e){var i=n.JSON,o=t(n,n.JSON3={noConflict:function(){return n.JSON=i,o}});n.JSON={parse:o.parse,stringify:o.stringify}}else t(n,exports)}(e),e.JSON}();t=function(n){var t,e,r,i,o,u,a,c,s,f,l,d,v,h,p,m,g;return a=2636928640,c=4022730752,t=2147483648,v=624,e=2147483647,u=2567483615,i=1812433253,l=397,r=4294967296,o=65535,g=11,p=15,f=18,h=7,d=[],s=v,m={seed:function(n){var t,e;for(s=v,d[0]=n>>>0,t=1,e=[];v>t;)d[t]=d[t-1]^d[t-1]>>>30,d[t]=(i*((d[t]&o<<16)>>>16)<<16)+(d[t]&o)*i+t>>>0,e.push(t++);return e},random:function(){var n,i;if(s>=v){for(n=0;v>n;)d[n]=(1===(1&d[(n+1)%v])?u:0)^(d[n]&t|d[(n+1)%v]&e)>>>1^d[n+l-(n>=v-l?v:0)],n++;s=0}return i=d[s],i^=i>>>g,i^=i<<h&a,i^=i<<p&c,i^=i>>>f,s++,i/r+(0>i?1:0)}},m.seed(n||(new Date).getTime()),m};var i;i=function(n,t){var e,r,i,o,u,a,c;return i=S(n[t])?h(n[t]).clone():[],o=!1,(null!=(c=n[t])?c.__isApi:void 0)||(n[t]={__isApi:!0,push:function(n){return o?n():i.push(n)}}),a=function(e,r){var i,o,u,a,c,s,f;for(u=e.split("."),a=n[t],i=s=0,f=u.length-1;f>=0?f>=s:s>=f;i=f>=0?++s:--s)if(o=i===u.length-1,a){if(c=r(a,u[i],o),o)return c;a=a[u[i]]}},e=function(n){return a(n,function(n,t){return n[t]})},u=function(n,t){return a(n,function(n,e,r){return null!=n[e]?n[e]:n[e]=r?t:{}})},r=function(){return h(i).each(function(n){return n()}),o=!0},{processPushQueue:r,register:u,"try":function(n,t){return e(n)||u(n,t)}}};var o;o=function(n,t,e){return null!=n.addEventListener?n.addEventListener(t,e,!1):n.attachEvent("on"+t,e)};var u;u=function(n){var t,e;return e=0,t=l(),n=h(n),n.size()>0?n.each(function(r){return r.fail(t.reject).done(function(){return++e===n.size()?t.resolve():void 0})}):t.resolve(),t.promise()};var a,c=[].slice;a=function(n){var t;return t=!1,function(){var e;return e=1<=arguments.length?c.call(arguments,0):[],t?void 0:(t=!0,n.apply(null,e))}};var s;s={generate:function(){return Math.floor(1e9*s.randomGenerator.random()).toString(36)}},s.randomGenerator=t(n(""+Math.random()+(new Date).getTime()));var f;f=function(n){return x(n.setImmediate)?function(t){return n.setImmediate(t)}:"undefined"!=typeof n.MessageChannel?function(t){var e;return e=new n.MessageChannel,e.port1.onmessage=t,e.port2.postMessage(0)}:function(t){return n.setTimeout(t,0)}};var l,c=[].slice;l=function(){var n,t,e,r;return t=g(),r=!1,e=!1,n=[],t.on("done",function(){return r=!0}),t.on("fail",function(){return e=!0}),{promise:function(){return{done:function(e){return r?e.apply(null,n):t.on("done",e),this},fail:function(r){return e?r.apply(null,n):t.on("fail",r),this},then:function(i){return r||e?i.apply(null,n):t.on("then",i),this}}},resolve:function(){var i;return i=1<=arguments.length?c.call(arguments,0):[],n=i,r||e?void 0:(t.emit.apply(t,["done"].concat(c.call(i))),t.emit.apply(t,["then"].concat(c.call(i))))},reject:function(){var i;return i=1<=arguments.length?c.call(arguments,0):[],n=i,e||r?void 0:(t.emit.apply(t,["fail"].concat(c.call(i))),t.emit.apply(t,["then"].concat(c.call(i))))},isRejected:function(){return e},isResolved:function(){return r}}};var d,c=[].slice;d=function(){var n;return n=1<=arguments.length?c.call(arguments,0):[],{from:function(t){return{to:function(e){return h(n).each(function(n){return t[n]?e[n]=x(t[n])?function(){return t[n].apply(t,arguments)}:t[n]:void 0}),e}}}}};var v;v=function(n,t,e){return null!=n.removeEventListener?n.removeEventListener(t,e,!1):n.detachEvent("on"+t,e)};var h,c=[].slice,p=[].indexOf||function(n){for(var t=0,e=this.length;e>t;t++)if(t in this&&this[t]===n)return t;return-1};h=function(){var n,t,e,r,i,o,u,a;if(t=1<=arguments.length?c.call(arguments,0):[],1===t.length){if(n=t[0],n&&n.__isA)return n;e=S(n)?n:[n]}else e=t;return a=function(n,t){var e;return t?x(t)?t(n):(e=n[t],x(e)?e.call(n):e):n},i=function(n){var t,r,i,o;for(o=[],r=0,i=e.length;i>r;r++)t=e[r],o.push(n(t));return o},u=function(n){return null!=n&&n!==!1},o=function(n,t){var e;return null==n&&(n=u),e=h([]),i(function(r){return t(a(r,n))?e.push(r):void 0}),e},r=function(n,t){var e,r;return e=null,r=null,i(function(i){var o;return o=a(i,n),null==r||null!=r&&t(o,r)?(e=i,r=o):void 0}),e},{it:function(){return e},each:i,push:function(n){return e.push(n),this},get:function(n){return e[n]},size:function(){return e.length},firstItem:function(){return e[0]},lastItem:function(){return e[e.length-1]},empty:function(){return 0===this.size()},include:function(n){return p.call(e,n)>=0},clear:function(){return e=[]},uniq:function(){var n,t,r,i;for(t=h([]),r=0,i=e.length;i>r;r++)n=e[r],t.include(n)||t.push(n);return t},first:function(n){var t,r,i,o;for(i=0,o=e.length;o>i;i++)if(t=e[i],r=a(t,n),u(r))return t;return null},last:function(n){return h(e.slice(0).reverse()).first(n)},presence:function(){return e.length>0?this:void 0},map:function(n){var t;return t=h([]),i(function(e){return t.push(a(e,n))}),t},all:function(n){var t,r,i;for(r=0,i=e.length;i>r;r++)if(t=e[r],!a(t,n))return!1;return!0},any:function(n){var t,r,i;for(r=0,i=e.length;i>r;r++)if(t=e[r],a(t,n))return!0;return!1},none:function(n){var t,r,i;for(r=0,i=e.length;i>r;r++)if(t=e[r],a(t,n))return!1;return!0},min:function(n){return r(n,function(n,t){return t>n})},max:function(n){return r(n,function(n,t){return n>t})},remove:function(n){var t,r;for(r=null,t=e.length;t--&&t>=0;)(x(n)&&n(e[t])||e[t]===n)&&(x(n)&&(r=e[t]),e.splice(t,1));return r},reject:function(n){return o(n,function(n){return n===!1})},select:function(n){return o(n,function(n){return n===!0})},sum:function(n){var t;return t=0,i(function(e){return t+=a(e,n)}),t},concat:function(n){return null==n&&(n=[]),n.__isA&&(n=n.it()),h(e.concat(n))},compact:function(){return this.select(u)},flatten:function(){var n;return n=h([]),i(function(t){return n=n.concat(t)}),n},sort:function(n){return h(e.sort(n))},clone:function(){return e.slice()},__isA:!0}};var m;m=function(n){var t;return null==n&&(n={}),n&&n.__isH?n:(t=function(t){var e,r,i;i=[];for(e in n)r=n[e],i.push(t(e,r));return i},{it:function(){return n},each:t,extend:function(t){var e;return e={},m(n).each(function(n,t){return e[n]=t}),m(t).each(function(n,t){return e[n]=t}),e},merge:function(t){var e;return e={},m(n).each(function(n,t){return e[n]=t}),m(t).each(function(t,r){return e[t]=k(r)?e[t]?m(n[t]).merge(r):r:r}),e},clone:function(){var n;return n={},t(function(t,e){return n[t]=function(){return k(e)?m(e).clone():e}()}),n},"delete":function(t){var e;return e=n[t],delete n[t],e},__isH:!0})};var g,c=[].slice;g=function(n){var t,e;return null==n&&(n={}),e={},t={},{on:function(r,i){if(!x(i))throw new Error("EventEmitter.on: callback not a function");return null==t[r]&&(t[r]=[]),n.playback&&h(e[r]||[]).each(function(n){return i.apply(null,n)}),void t[r].push(i)},remove:function(n,e){var r,i;return r=null!=(i=t[n])?i.indexOf(e):void 0,null!=r?(t[n].splice(r,1),e):void 0},emit:function(){var r,i;return i=arguments[0],r=2<=arguments.length?c.call(arguments,1):[],n.playback&&(null==e[i]&&(e[i]=[]),e[i].push(r)),void h(t[i]||[]).each(function(n){return n.apply(null,r)})},delegate:function(n,t){return this.on(n,function(){var e;return e=1<=arguments.length?c.call(arguments,0):[],t.emit.apply(t,[n].concat(c.call(e)))})}}};var y;y=function(n){var t;return t={},{on:function(e,r){return o(n,e,r),null==t[e]&&(t[e]=[]),t[e].push(r)},remove:function(e,r){var i,o;return v(n,e,r),i=null!=(o=t[e])?o.indexOf(r):void 0,null!=i&&-1!==i?t[e].splice(i,1):void 0},removeAll:function(){var e,r,i,o,u;for(e in t)for(r=t[e],o=0,u=r.length;u>o;o++)i=r[o],v(n,e,i);return t={}}}};var w;w=function(n){var t;return t=U(n),t["try"]("registry",function(){var t;return t={},{get:function(e){return null==e&&(e="default"),null!=t[e]?t[e]:t[e]=y(n)},removeAllScopes:function(){var n,e,r;r=[];for(e in t)n=t[e],r.push(n.removeAll());return r}}})};var b,c=[].slice;b=function(n,t){var e,r,i,o,u,a;return null==t&&(t={}),e=10,a=h([]),i=0,o=g(t.eventEmitter),o.on("crash",function(){return i++}),r=function(t,r,u){return null==r&&(r=null),null==u&&(u={}),e>i?(null==t.withContext&&(t=I(t)),t=t.withContext(function(){return r?n+"("+r+")":n}()),t=t.withMeta({lastScope:r}),t=t.withMeta(u),o.emit("crash",t)):void 0},u=function(n,t){if(!x(t))throw new Error("guard: callback not a function");return function(){var e,i,o;e=1<=arguments.length?c.call(arguments,0):[],o=void 0;try{o=t.apply(null,e)}catch(u){i=u,r(I(i),n)}return o}},u.on=function(n,t){return u("Guard#on."+n,function(){return o.on(n,t)})()},u.emit=function(){var n,t;return t=arguments[0],n=2<=arguments.length?c.call(arguments,1):[],u("Guard#emit."+t,function(){return o.emit.apply(o,[t].concat(c.call(n)))})()},u.emitError=r,u.attach=function(n,t,e){return n.on(t,u(t,e)),a.any(function(t){return n===t})?void 0:(n.on("crash",function(n){return r(n,t)}),a.push(n))},u.delegate=function(n,t,e){return null==e&&(e=null),u.attach(n,t,function(){var n,r;return n=1<=arguments.length?c.call(arguments,0):[],(r=e||u).emit.apply(r,[t].concat(c.call(n)))})},u};var I;I=function(n,t,e){return null==t&&(t=[]),null==e&&(e={}),{error:n,meta:e,withContext:function(r){return I(n,[r].concat(t),e)},withMeta:function(r){return I(n,t,m(e).extend(r))},isPublic:function(){return n["public"]===!0},toString:function(){return this.isPublic()?n.toString():t.join(":")+": "+n.message}}};var E;E=function(){var n;return n={},{await:function(t){return u(n[t]||[])},addHook:function(t,e){return null==n[t]&&(n[t]=[]),n[t].push(e)}}};var N;N=function(n){return n};var S;S=function(n){return"[object Array]"===Object.prototype.toString.call(n)};var A;A=function(n){return $(n,"nodeType")};var x;x=function(n){return"function"==typeof n};var C;C=function(n){return"[object Number]"===Object.prototype.toString.call(n)};var k;k=function(n){return null!=n&&"[object Object]"===Object.prototype.toString.call(n)};var M;M=function(n){return null==n?!1:R(n)||S(n)?n.length>0:k(n)?Object.keys(n).length>0:x(n)?!0:void 0};var D;D=function(n){return"[object RegExp]"===Object.prototype.toString.call(n)};var R;R=function(n){return null!=n&&"[object String]"===Object.prototype.toString.call(n)};var _;_=function(n,t){var e,i,u,a;return null==t&&(t={}),null==t.eventEmitter&&(t.eventEmitter={}),null==(a=t.eventEmitter).playback&&(a.playback=!0),u=g(t.eventEmitter),i=function(n,t){return t.channel=n,r.stringify(t)},e=function(n){var t;try{return r.parse(n)}catch(e){return t=e,{}}},o(n,"message",function(n){var t,r;return n&&n.data&&(r=e(n.data),r&&(t=r.channel))?u.emit(t,r,n):void 0}),{on:function(n,t){return u.on(n,t)},emit:function(t,e,r){var o;return null==e&&(e={}),null==r&&(r=null),o=i(t,e),r?r.source.postMessage(o,r.origin):n.top.postMessage(o,"*")}}};var U;U=function(n){var t,e,r,i,o,u;return null==n[o=U.baseName]&&(n[o]={}),t=null!=(r=n[U.baseName])[u=U.instanceId]?r[u]:r[u]=++U.counter,e=null!=(i=U.data)[t]?i[t]:i[t]={id:t},{get:function(n){return e[n]},set:function(n,t){return e[n]=t},"try":function(n,t){var e;return null!=(e=this.get(n))?e:this.set(n,t())}}},U.baseName="__burt",U.instanceId=s.generate(),U.reset=function(){return U.counter=0,U.data={}},U.reset();var T;T=function(n,t){var e,r;return null==t&&(t={}),r=n.message,e=n.description,{name:"PublicError","public":!0,data:t,message:r,description:e,toString:function(){return P(e).compile(t)}}},T.prototype=Error.prototype,T.register=function(n,t){return{message:n,description:t}},T.MISSING_NAME=T.register("yisgob","Burt unit is missing name"),T.INVALID_CLOUD_KEY=T.register("yschde","Invalid cloud key format: {{cloudKey}}"),T.MISSING_TRACKING_KEY_AND_SITE_NAME=T.register("lptfjg","Missing tracking key and site name"),T.MISSING_TRACKING_KEY=T.register("vcfbnm","Missing tracking key"),T.INVALID_TRACKING_KEY=T.register("pstyjd","Invalid tracking key"),T.MISSING_SITE_NAME=T.register("jzsfwk","Missing site name"),T.MISSING_DOM_ID=T.register("hjgsrw","Did not find any node with id `{{id}}`"),T.INVALID_DEMOGRAPHICS_PROVIDER=T.register("qlcfgj","Invalid demographics provider `{{name}}`"),T.UNKNOWN_UNIT_TYPE=T.register("zapdwl","Unit type `{{type}}` is not valid"),T.INVALID_COMPONENT=T.register("tcgeho","Cannot use {{component}}, does not exist"),T.INVALID_RANGE=T.register("xljvmk","Not within valid range {{min}}..{{max}}"),T.MISSING_XDI_ID=T.register("lfsyvq","Missing xdi id for {{name}}");var j;j=function(n,t){var e,r;return null==t&&(t={}),r=n.message,e=n.description,{data:t,message:r,description:e,toString:function(){return P(e).compile(t)}}},j.register=function(n,t){return{message:n,description:t}},j.DUPLICATE_NAME=j.register("zspobr","Duplicate name {{name}}"),j.MISSING_DOMAIN=j.register("dkyozx","Did not call #setDomain, using domain {{domain}}");var $;$=function(n,t){return null!=(null!=n?n[t]:void 0)};var O;O=function(n){return null==n&&(n=""),{startsWith:function(t){return 0===n.indexOf(t)},endsWith:function(t){return-1!==n.indexOf(t,n.length-t.length)},toArray:function(){return h(n.split(",")).select(M).map(z).it()}}};var P;P=function(n){return{compile:function(t){var e,r,i;null==t&&(t={}),r=new String(n);for(e in t)i=t[e],r=r.replace("{{"+e+"}}",i);return r}}};var B;B=function(n){var t;return t=function(t,e){var r;return r=n.setTimeout(e,t),{stop:function(){return n.clearTimeout(r)}}},{delay:t,every:function(n,e){var r,i,o;return r=1,o=void 0,i=function(){var u;return u=!1,e(function(){return o=t(n,function(){return u?void 0:(u=!0,i())})},r++)},o=t(n,i)}}};var z;z=function(n){return $(n,"trim")?n.trim():n.replace(/^\s+|\s+$/g,"")};var K;K=function(){var n,t,e,r,i,o,u;return u=!1,n={},e={},i=[],r=g(),t=function(n,t,r,i){return e[n]={fn:t,factory:i,dependencies:r}},o=function(t,r){var i;return i=0,h(r.dependencies).each(function(r){if(!e[r]){if("$"===r.charAt(0))return void(void 0===t[i++]&&t.push(null));throw new Error("Missing definition for "+r)}return t.push(function(){return e[r].factory?r.match(/^[A-Z]/)?{"new":function(){return o(Array.prototype.slice.call(arguments,0),e[r])}}:o([],e[r]):null!=n[r]?n[r]:n[r]=o([],e[r])}())}),r.fn.apply(null,t)},{factory:function(n,e,r){return null==r&&(r=[]),t(n,e,r,!0)},service:function(n,e,r){return null==r&&(r=[]),t(n,e,r,!1)},middleware:function(n,t){return null==t&&(t=[]),i.push({fn:n,dependencies:t})},run:a(function(n){var t,r;return t=0,(r=function(){return i.length>t?o([a(r)],i[t++]):o([],e[n]),null})()})}};var L;L=K();var q;q=function(n,t){var e,r,i,o;return t.setTimeout&&(null!=(e=t.document)?null!=(r=e.documentElement)?r.getBoundingClientRect:void 0:void 0)&&-1===(null!=(i=t.location)?null!=(o=i.search)?"function"==typeof o.indexOf?o.indexOf("fb_xd_fragment"):void 0:void 0:void 0)?n():void 0};var W;W=function(n,t,e){var r;return e.get("id")||(r=t.get("richUserId"))&&e.set("id",r),n()};var F;F=function(n,t){var e;return e=b("errorMiddleware"),e.on("crash",t.push),e("next",n).call()};var G;G=function(n,t){return t.processPushQueue(),n()};var V;V=function(n,t,e,r){return t(e.sampleRate())||r.get("burtns")?n():void 0};var H;H=function(n,t){var e;return e=h(t.__burtTest||[]),e.each(function(n){return n(L)}),n()};var J;J=function(n,t,e){var r;return(r=t.get("id"))&&e.set("id",r),n()};var Y;Y=function(){};var X;X=function(n,t,e,r){var i;return r.get("burt-inject")?(i=t("script",{src:e}),i.on("load",n),i.on("error",n)):void 0};var Z;Z=function(n){return n.burtApi.double};var Q;Q=function(){return"_burtApi"};var nt;nt=function(){return"_burtAgencyDa"};var tt;tt=function(n,t,e,r,i,o,u){var a;return a=b("doubleController"),a.on("crash",e.push),r.addMeta({category:n.getCategory()}),i.setId(n.getMediaKey()),i.setName(n.getSiteName()),t["new"](),r.sync("burt",{write:!1}),n.on("demographics-provider",function(n){return r.sync(n,{write:!1})}),a.attach(n,"annotation",r.annotate),a.attach(n,"connection",r.connect),a.attach(n,"user-segments",r.syncSegments),a.attach(n,"unit",function(n){var t;return t=o["new"](u["new"](n.node),n.meta),a.attach(n,"annotation",function(n){return"span"!==n.source?t.annotate(n):void 0}),a.attach(n,"connection",function(n){return"span"!==n.source?t.connect(n):void 0}),a.attach(n,"restart",function(n){return t.restart(n)})})};var et;et=function(n,t){return n.getDomain()||t};var rt;rt=function(){return{filter:function(n){return n.cks=[],n}}};var it;it=function(n,t){var e;return e=t["new"](),e.on("burt.double.available",function(){return e.on("burt.double.ready",n),e.emit("burt.double.start")})};var ot;ot=function(n,t){return t.register("use",function(){}),t.register("version",function(){}),t.register("trackById",function(){}),t.register("trackByNode",function(){}),t.register("withUnits",function(){}),t.register("findUnit",function(){}),t.register("findUnits",function(){}),t.register("withUserSegments",function(){}),t.register("connect",function(){}),t.register("annotate",function(){}),t.register("startUnitTracking",function(){}),t.register("version",function(){}),t.register("setDemographicsProvider",function(){}),t.register("startTracking",function(){}),n()};var ut;ut=function(){};var at;at=function(){var n;return n=b("identifier",{eventEmitter:{playback:!0}}),{identified:function(){return n.emit("identified")},on:n.on}};var ct;ct=function(n,t){return t.on("identified",n)};var st,c=[].slice;st=function(n,t,e,r,i,o,u){var a,s,f,l,d,v,h,p,g,y,w,I,E,N,S,A,x,C,k,M,D;return g=b("masterApi",{eventEmitter:{playback:!0}}),g.on("crash",n.push),y=!1,k=!1,w=void 0,N=void 0,v=void 0,f=void 0,A=void 0,l=[],d=function(n,t,e){return g.emit("connection",{scope:n,name:t,value:e})},a=function(n,t,e){return g.emit("annotation",{scope:n,name:t,value:e})},x=function(n,t){var e;return null==t&&(t={}),e=i["new"](t),g.emit("track-by-id",n,e.meta),e.api},C=function(n,t){var e;return null==t&&(t={}),e=i["new"](t),g.emit("track-by-node",n,e.meta),e.api},M=function(){var n;return n=1<=arguments.length?c.call(arguments,0):[],g.emit.apply(g,["with-units"].concat(c.call(n)))},p=function(){var n,t;return n=1<=arguments.length?c.call(arguments,0):[],t=u["new"](n),t.matches().map(function(n){return i["new"](n.meta).api}).it()},h=function(){var n;return n=1<=arguments.length?c.call(arguments,0):[],p.apply(null,n)[0]},D=function(n){return g.emit("user-segments",n)},E=function(n){if(!o["new"](n).isValid())throw new T(T.INVALID_DEMOGRAPHICS_PROVIDER,{name:n});return g.emit("demographics-provider",n)},S=function(){return g.emit("start-unit-tracking")},s={setTrackingKey:function(n,t){if(k=!0,!n)throw new T(T.MISSING_TRACKING_KEY);if(!n.match(/^[A-Z0-9]{12}$/))throw new T(T.INVALID_TRACKING_KEY,{mediaKey:n});if(!t)throw new T(T.MISSING_SITE_NAME);return w=n,N=t,y=!0},setDomain:function(n){return v=n},setCategory:function(n,t){return f=n,A=t},addCloudKey:function(n){if(!n.match(/^[A-Z0-9]{12}$/))throw new T(T.INVALID_CLOUD_KEY,{cloudKey:n});return l.push(n)},startUnitTracking:S,trackById:x,trackByNode:C,setDemographicsProvider:E,withUserSegments:D,connect:d,annotate:a,withUnits:M,findUnit:h,findUnits:p},I=function(n,i){if(null==i&&(i=function(){}),n.call(s,s),null==f&&(f=e.generate()),!k&&!y)throw new T(T.MISSING_TRACKING_KEY_AND_SITE_NAME);return v||t.push(j.MISSING_DOMAIN,{domain:r}),i()},m({on:g.on,run:I,getMediaKey:function(){return w},getSiteName:function(){return N},getDomain:function(){return v},getCategory:function(){return f},getSubCategory:function(){return A},getCloudKeys:function(){return l}}).merge(s)};var ft;ft=function(n,t,e,r,i){return t.register("version",i.toString()),t.register("trackById",e.trackById),t.register("trackByNode",e.trackByNode),t.register("withUnits",e.withUnits),t.register("findUnit",e.findUnit),t.register("findUnits",e.findUnits),t.register("withUserSegments",e.withUserSegments),t.register("connect",e.connect),t.register("annotate",e.annotate),t.register("startUnitTracking",e.startUnitTracking),t.register("version",e.version),t.register("setDemographicsProvider",e.setDemographicsProvider),t.register("startTracking",a(function(n){return e.run(n,r.identified)})),n()};var lt,c=[].slice;lt=function(n,t,e,r,i,o,u,a,s,f,l,d,v,h,p,m,g){var y,w,I;return y=b("masterController"),y.on("crash",n.push),r.setId(t.getMediaKey()),r.setName(t.getSiteName()),e.sync("burt"),e.addMeta({category:t.getCategory()}),e.addMeta({subCategory:t.getSubCategory()}),e.addMeta({cloudKeys:t.getCloudKeys()}),o["new"](),y.attach(t,"demographics-provider",e.sync),y.attach(t,"annotation",e.annotate),y.attach(t,"connection",e.connect),y.attach(t,"user-segments",function(n){return e.on("user-segments",function(){var t;return t=1<=arguments.length?c.call(arguments,0):[],i(function(){return n.apply(null,t)})}),e.syncSegments()}),e.on("unit",function(n){var t;return t=s["new"](n.meta),t.setUnit(n),t.on("annotation",n.annotate),t.on("connection",n.connect),t.on("restart",n.restart)}),y.attach(t,"with-units",function(){var n,t,e;return n=1<=arguments.length?c.call(arguments,0):[],t=n.pop(),e=a["new"](n),e.on("match",function(n){return i(function(){return t(s["new"](n.meta).api)})})}),I=u["new"](),y.attach(t,"start-unit-tracking",function(){return I.trackByClass("burt-unit")}),y.attach(t,"track-by-id",function(n,t){return I.trackById(n,t)}),y.attach(t,"track-by-node",function(n,t){return I.trackByNode(n,t)}),w=f["new"](),w.register("pow_wow",l),w.register("po",d,{crossDomain:!0}),w.register("dev",v),w.register("double",h),w.register("activity",p),w.register("watcher",m),w.register("xdi",g,{crossDomain:!0})};var dt;dt=function(n,t){return n.getDomain()||t};var vt,c=[].slice;vt=function(n,t,e){var r,i,o,u,a,s;return r=b("xdiApi",{eventEmitter:{playback:!0}}),r.on("crash",n.push),a=function(n,t){var r;return r=e["new"](n),t(r),r.api},o=function(n,t){return null==t&&(t={}),a(t,function(t){return r.emit("track-by-id",n,t.meta)})},u=function(n,t){return null==t&&(t={}),a(t,function(t){return r.emit("track-by-node",n,t.meta)})},i=function(){return r.emit("start-unit-tracking")},s=function(){var n;return n=1<=arguments.length?c.call(arguments,0):[],r.emit.apply(r,["with-units"].concat(c.call(n)))},{on:r.on,run:function(n){return t.register("trackById",o),t.register("trackByNode",u),t.register("startUnitTracking",i),t.register("withUnits",s),n()}}};var ht;ht=function(n,t){return t.run(n)};var pt,c=[].slice;pt=function(n,t,e,r,i,o,u){var a,s,f;return a=b("xdiController"),a.on("crash",n.push),s=_(e),n.on("crash",function(n){return s.emit("burt.xdi.error",{"public":n.isPublic(),error:n.error})}),a.attach(t,"unit",function(n){var t;return t=u["new"](n.meta),t.setUnit(n),t.on("annotation",n.annotate),t.on("connection",n.connect),t.on("restart",n.restart),a.attach(n,"ready",function(){return s.emit("burt.xdi.unit",n.meta)}),a.attach(n,"annotation",function(t){return s.emit("burt.xdi.unit.annotation",{xdiId:n.meta.xdiId,annotation:t})}),a.attach(n,"connection",function(t){return s.emit("burt.xdi.unit.connection",{xdiId:n.meta.xdiId,connection:t})}),a.attach(n,"restart",function(t){return s.emit("burt.xdi.unit.restart",{xdiId:n.meta.xdiId,meta:t})})}),a.attach(r,"with-units",function(){var n,t,e;return n=1<=arguments.length?c.call(arguments,0):[],t=n.pop(),e=i["new"](n),e.on("match",function(n){return t(u["new"](n.meta).api)})}),f=o["new"](),a.attach(r,"start-unit-tracking",function(){return f.trackByClass("burt-unit")}),a.attach(r,"track-by-id",function(n,t){return f.trackById(n,t)}),a.attach(r,"track-by-node",function(n,t){return f.trackByNode(n,t)})};var mt;mt=function(n){return n};var gt;gt=function(n,t,e){var r;return e.hasPostMessage()?(r=_(t),r.on("burt.xdi.ready",n),r.emit("burt.xdi.start")):void 0};var yt;yt=function(n,t,e){var r;
return r=b("ActivityConsumer",{eventEmitter:{playback:!0}}),r.on("crash",e.push),r.delegate(t,"active"),r.delegate(t,"inactive"),{start:function(e){var i;return i={on:r.on},d("setActive","setInactive").from(t).to(i),n.register("activity",i),e()}}};var wt;wt=function(n,t,e){var r;return r=function(){return(t.get("burt-dev")||{}).enabled},r()&&n.enableDevMode(),{start:function(i){return r()?(n.enableProdMode(),e.info("dev-mode: off")):(n.enableDevMode(),e.info("dev-mode: on")),t.set("burt-dev",{enabled:!r()}),i()}}};var bt;bt=function(n,t,e,r,i,o){var u;return u=b("DoubleConsumer",{eventEmitter:{playback:!0}}),u.on("crash",n.push),{on:u.on,start:function(a){var c;return c={on:u.on,getMediaKey:function(){return i},getSiteName:function(){return o}},d("getCategory","getDomain").from(r).to(c),t.register("double",c),u.delegate(e,"annotation"),u.delegate(e,"connection"),u.delegate(e,"user-segments"),u.delegate(r,"demographics-provider"),u.attach(e,"unit",function(t){var e,r,i,o;return i=b("unit",{eventEmitter:{playback:!0}}),i.on("crash",n.push),u.delegate(t,"annotation",i),u.delegate(t,"connection",i),u.delegate(t,"restart",i),o=t.meta,e=o.name,r=o.type,u.emit("unit",{meta:{name:e,type:r},node:t.node.node,on:i.on})}),a()}}};var It;It=function(){return"DATACALIB100"};var Et;Et=function(n){return n.getSiteName()+"-da"};var Nt;Nt=function(n,t,e,r,i,o,u,a){var c,s,f,l,d,v;return c=b("PoConsumer",{eventEmitter:{playback:!0}}),c.on("crash",e.push),f=_(o),v=function(n){return{id:n.getId(),name:n.meta.name}},d=function(n){var t;return t=n.geo(),{id:n.getId(),top:t.top,left:t.left,width:t.width,height:t.height,visibility:t.visibility()}},l={category:n.getCategory()||"unknown",pageDimension:{width:t.width(),height:t.height()}},s=function(n){var t;return t=u["new"](n).hostname(),h(i).any(function(n){return O(t).endsWith(n)})},c.on("page.ready",function(){return f.emit("burt.po.page.ready",l)}),{start:function(){var n;return c.emit("page.ready"),n=function(n){var t,e;return c.emit("units.new",n),c.attach(n,"change",function(){return c.emit("unit.change",n)}),e=n.geo(),t=["width","height","left","top"],a.every(500,c("timer",function(r){var i,o;return i=n.geo(),o=h(t).sum(function(n){return+(e[n]!==i[n])}),e=i,o>0&&c.emit("unit.change",n),r()})),c.attach(n,"invisible",function(){return c.emit("unit.change",n)}),c.attach(n,"visible",function(){return c.emit("unit.change",n)})},c.attach(t,"unit",function(t){return t.isReady()?n(t):c.attach(t,"ready",function(){return n(t)})}),c.attach(f,"burt.po.inject",function(n,t){return s(t.origin)?r("SCRIPT",{src:n.url,type:"text/javascript"}):void 0}),c.on("units.new",function(n){return f.emit("burt.po.units.new",v(n)),f.emit("burt.po.unit.change",d(n))}),c.on("unit.change",function(n){return f.emit("burt.po.unit.change",d(n))})}}};var St;St=function(){return["localhost","burthub.com","burthub.local","burthub.dev"]};var At,c=[].slice;At=function(n,t,e,r,i,o,u,s,f){var l,d,v,p;return l=b("PowWowConsumer",{eventEmitter:{playback:!0}}),l.on("crash",e.push),v=(o.get("powwow")||{}).started,v&&u("SCRIPT",{src:s,id:"powwow-script"}),p=h([]),d=function(n){var t,e,r,i,o,u,a,c,s;return c=n.meta,i=c.name,u=c.type,t=c.cloudKeys,s=n.geo(),a=s.width,e=s.height,o=s.top,r=s.left,{id:n.getId(),name:i,type:u,cloudKeys:t,width:a,height:e,top:o,left:r,filled:n.isFilled()}},{start:a(function(u){return l.emit("pow_wow.ready",{mediaKey:f.getMediaKey(),category:f.getCategory(),domain:f.getDomain(),cloudKeys:f.getCloudKeys()}),f.on("demographics-provider",function(n){return l.emit("pow_wow.demographics-provider",n)}),t.on("annotation",function(n){return l.emit("pow_wow.annotation",n)}),t.on("connection",function(n){return l.emit("pow_wow.connection",n)}),t.on("unit",function(n){var t,e;return t=n.meta.name,p.include(t)?(e=j(j.DUPLICATE_NAME,{name:t}),l.emit("pow_wow.warning",{code:e.message,message:e.toString()})):p.push(t),l.emit("pow_wow.unit",d(n)),n.on("annotation",function(t){return l.emit("pow_wow.unit.annotation",n.getId(),t)}),n.on("connection",function(t){return l.emit("pow_wow.unit.connection",n.getId(),t)}),i.every(1e3,function(t){return l.emit("pow_wow.unit.change",n.getId(),d(n)),t()})}),e.on("crash",function(n){return n.isPublic()?l.emit("pow_wow.error",{code:n.error.message,message:n.toString()}):void 0}),r.on("warning",function(n){return l.emit("pow_wow.warning",{code:n.message,message:n.toString()})}),n.register("powWow.on",l.on),n.register("powWow.emit",function(){var n,t;return t=arguments[0],n=2<=arguments.length?c.call(arguments,1):[],"started"===t?o.set("powwow",{started:n[0]}):void 0}),u()})}};var xt;xt=function(){return"http://dev.burt.io/panel/panel.js"};var Ct;Ct=function(n,t,e){var r,i;return r=t.timeout,i=t.timestamp,{type:"activity",ty:n,vl:r,ct:i,wd:{w:e.viewport.width(),h:e.viewport.height()},ws:{x:e.viewport.left(),y:e.viewport.top()}}};var kt;kt=function(n,t){return{type:"annotation",xs:n.scope,xn:n.name,xv:n.value,si:t}};var Mt;Mt=function(n,t){return{type:"connection",ys:n.scope,yn:n.name,yv:n.value,si:t}};var Dt;Dt=function(n){if(!n.type)throw new Error("CustomEvent type is missing");return{type:"customevent",cc:n.type,ac:n.action,lb:n.label,cv:n.value}};var Rt;Rt=function(n){return null==n&&(n={}),{type:"end",pc:null!=n.pageReady,et:n.type}};var _t;_t=function(n,t){var e;return{type:"error",ms:n.toString(),si:null!=(e=n.meta)?e.sessionId:void 0,eu:t.url.toString()}};var Ut;Ut=function(n,t,e,r){var i;return i=n.geo(),{type:"event",si:n.meta.sessionId,ty:t,mp:{x:e.left,y:e.top},vz:i.visibility(),ad:{w:i.width,h:i.height},ap:{x:i.left,y:i.top},pd:{w:r.width(),h:r.height()},wd:{w:r.viewport.width(),h:r.viewport.height()},ws:{x:r.viewport.left(),y:r.viewport.top()}}};var Tt;Tt=function(n,t){var e;return e=n.geo(),{type:"fill",si:n.meta.sessionId,vz:e.visibility(),ad:{w:e.width,h:e.height},ap:{x:e.left,y:e.top},lu:n.meta.loadUrl,wu:n.meta.wrapperUrl,mt:n.meta.mediaType,nc:n.meta.nodeCount,ti:n.meta.connectValue,cks:h(n.meta.cloudKeys||[]).concat(t.meta.cloudKeys||[]).it()}};var jt;jt=function(n,t,e,r,i){return m({av:e.toString()+"-JS",ct:r.elapsed(),mk:t.getId(),ui:i.id,wn:t.getName()}).extend(n)};var $t;$t=function(){return{filter:N}};var Ot;Ot=function(n,t,e){var i,o,u,a,c,s,f,l,d,v,p,m;for(f={},u=d=0,p=t.length;p>d;u=++d)c=t[u],f[c]=!0;for(a={},v=0,m=n.length;m>v;v++)c=n[v],a[c]=!0,f[c]=!0;return i=function(n){return n?e.encodeURIComponent(n):void 0},o={id:function(n){return(null!=n?n.match(/^[A-Z0-9]{12}$/):void 0)?n:void 0},"boolean":function(n){return n?"1":n===!1?"0":void 0},identity:function(n){return i(n)},dimension:function(n){var t;return n&&(t=[],h("w","h").each(function(e){return function(r){var i;return null!=n[r]&&(i=e.integer(n[r]))?t.push(i):void 0}}(this)),2===t.length)?t.join("x"):void 0},position:function(n){var t;return n&&(t=[],h("x","y").each(function(e){return function(r){var i;return null!=n[r]&&(i=e.signed_integer(n[r]))?t.push(i):void 0}}(this)),2===t.length)?t.join("x"):void 0},downcase:function(n){return n?n.toLowerCase():void 0},integer:function(n){return(""+n).match(/^\d+$/)?n.toString():void 0},signed_integer:function(n){return(""+n).match(/^-?\d+$/)?n.toString():void 0},list:function(n){return n?n.join(","):void 0},sample:function(n){return n&&1===n?void 0:n},json:function(n){return i(S(n)||k(n)?r.stringify(n):n)}},s={pi:"id",vi:"id",mk:"id",ui:"id",si:"id",ae:"boolean",fs:"boolean",ss:"boolean",co:"boolean",ce:"boolean",pc:"boolean",ru:"boolean",ed:"boolean",type:"identity",ei:"identity",pr:"identity",ca:"identity",sc:"identity",eu:"identity",et:"identity",ln:"identity",lr:"identity",rf:"identity",av:"identity",ty:"identity",vl:"identity",pn:"identity",ms:"identity",md:"identity",wu:"identity",ti:"identity",ac:"identity",cc:"identity",lb:"identity",rt:"identity",lu:"identity",mt:"identity",xs:"identity",xn:"identity",ys:"identity",yn:"identity",xv:"json",yv:"json",sr:"sample",tz:"signed_integer",ct:"signed_integer",sn:"integer",vz:"integer",nc:"integer",cv:"integer",ad:"dimension",pd:"dimension",sd:"dimension",wd:"dimension",ws:"position",ap:"position",mp:"position",wn:"downcase",cks:["id"]},l=function(n,t){var e,r,i,u,a,c;if(s[n]){if(S(s[n])){for(r=[],c=t||[],u=0,a=c.length;a>u;u++)e=c[u],(i=o[s[n][0]](e))&&r.push(i);return o.list(r)}return o[s[n]](t)}},{serialize:function(n){var t,e,r,i,u,c,d,v;d=[],t={},u=function(n,e){var r;return s[n]?null!=e&&(r=l(n,e))?d.push(n+"="+r):a[n]?(t["invalid "+n]="Mandatory param "+n+"="+e+" is invalid",d.push(n+"="+o.identity(e))):void 0:t["undefined "+n]="Param "+n+" not defined"};for(e in f)c=f[e],null!=n[e]&&u(e,n[e]);for(e in n)v=n[e],f[e]||u(e,v);for(r in a)i=a[r],null==n[r]&&(t["missing "+r]="Mandatory param "+r+" is missing");return{serializedFragment:d.join("&"),errors:t}}}};var Pt;Pt=function(n,t,e,r,i,o,u){return{type:"page",ae:!0,pc:n.isReady(),tz:e.zone(),ca:t.meta.category||"unknown",sc:t.meta.subCategory,ed:!O(t.url.hostname()).endsWith(r),ln:t.language(),co:i.isEnabled(),ru:u.returningUser,pd:{w:t.width(),h:t.height()},sd:{w:t.screen.width(),h:t.screen.height()},wd:{w:t.viewport.width(),h:t.viewport.height()},ws:{x:t.viewport.left(),y:t.viewport.top()},cks:t.meta.cloudKeys,eu:t.url.toString(),lr:o.last(),rf:o.orig()}};var Bt;Bt=function(n){return{type:"pageping",pd:{w:n.width(),h:n.height()},wd:{w:n.viewport.width(),h:n.viewport.height()},ws:{x:n.viewport.left(),y:n.viewport.top()}}};var zt;zt=function(n,t,e){var r;return null==t&&(t=!1),r=n.geo(t),{type:"ping",si:n.meta.sessionId,vz:r.visibility(),ad:{w:r.width,h:r.height},ap:{x:r.left,y:r.top},pd:{w:e.width(),h:e.height()},wd:{w:e.viewport.width(),h:e.viewport.height()},ws:{x:e.viewport.left(),y:e.viewport.top()}}};var Kt;Kt=function(n,t){return{type:"placement",pn:n.meta.name,si:n.meta.sessionId,cks:h(n.meta.cloudKeys||[]).concat(t.meta.cloudKeys||[]).it()}};var Lt;Lt=function(n,t,e){var r;return null==t&&(t={}),r={type:"ready",rt:n,pc:!0,pd:{w:e.width(),h:e.height()},wd:{w:e.viewport.width(),h:e.viewport.height()},ws:{x:e.viewport.left(),y:e.viewport.top()}},t.timestamp&&(r.ct=t.timestamp),r};var qt;qt=function(n,t,e){var r;return null==t&&(t=!1),r=n.geo(t),{type:"ping",si:n.meta.sessionId,vz:0,ad:{w:r.width,h:r.height},ap:{x:r.left,y:r.top},pd:{w:e.width(),h:e.height()},wd:{w:e.viewport.width(),h:e.viewport.height()},ws:{x:e.viewport.left(),y:e.viewport.top()}}};var Wt;Wt=function(n,t,e,r){return{type:"sync",ei:n,fs:t,ss:e,pr:r}};var Ft;Ft=function(n,t,e,r,i,o){var u,a;return a=function(n,t){return null==t&&(t=null),e.send(i["new"](n,t))},u=b("RichActivityHandler"),u.on("crash",t.push),u.attach(r,"active",a),u.attach(r,"inactive",a),u.attach(r,"end",function(t){return e.send(o["new"]({pageReady:n.isReady(),type:t}),{flush:!0,fast:!0,keepBuffer:!0})})};var Gt;Gt=function(){return"https://bomcl.richmetrics.com/"};var Vt;Vt=function(n,t,e,r,i,o,u,a,c,s,f){var l,d;return l=b("RichConsumer"),l.on("crash",t.push),e["new"](),d=s["new"](n.window),r["new"](d),i["new"](),u["new"](d),a["new"](),c["new"](d),f["new"](),l.attach(n,"unit",function(n){return o["new"](n)})};var Ht;Ht=function(n,t,e){var r,i;return r=10,i=0,n.on("crash",function(n){return("function"==typeof n.isPublic?n.isPublic():0)?void 0:(i++<r&&t.send(e["new"](n)),i===r?t.send(e["new"]("Error limit "+r+" reached")):void 0)})};var Jt;Jt=function(){return[1,1,2,4,6,8,10]};var Yt;Yt=function(n,t){return{generate:function(){var e,r,i;for(e="";e.length<6;)e=Math.floor(36*t.next()).toString(36)+e;return r=e.substring(0,6).toUpperCase(),i=Math.floor(n.now()/1e3).toString(36).toUpperCase(),i+r}}};var Xt;Xt=function(n){return n.getName().replace(/\./g,"-")};var Zt;Zt=function(n){return"//"+n+".c.richmetrics.com/log"};var Qt;Qt=function(){return["ct","pi","mk","wn","sn","ui"]};var ne;ne=function(n,t,e,r,i,o,u){var a;return a=b("RichPageHandler"),a.on("crash",r.push),e.send(i["new"](n),{flush:!0}),a.attach(t,"annotation",function(n){return e.send(o["new"](n))}),a.attach(t,"connection",function(n){return e.send(u["new"](n))})};var te;te=function(){return 5e3};var ee;ee=function(){return[40]};var re;re=function(n,t,e,r){var i;return i=b("RichPageReadyHandler"),i.on("crash",r.push),n.onReady(i("pageReady",function(n,r){return t.send(e["new"](n,r),{flush:!0})}))};var ie;ie=function(n,t,e,r){var i,o;return i=!1,o=b("RichPagepingHandler"),o.on("crash",n.push),o.on("crash",function(){return i=!0,e.stop()}),o.attach(e,"event",function(){return t.send(r["new"]())}),t.on("send",o("send-reset",function(){return i?void 0:e.reset()})),e.start()};var oe;oe=function(){return[1,2,4,8,15,20,25,30,90]};var ue;ue=function(){return["type","sn"]};var ae;ae=function(n,t,e){return n.on("user-segments",function(n,r,i){var o;return o=[],o.push(r?1:0),o.push(n.length?n.join(","):"_"),o=o.join("|"),t.send(e["new"](o,!r,i,"bomcl_segments"))})};var ce;ce=function(n,t,e,r){var i;return i=b("RichSyncHandler"),i.on("crash",n.push),e.on("sync",function(n,e){var i,o,u;return i=e.externalId,o=e.fresh,u=e.success,i?t.send(r["new"](i,o,u,n)):void 0})};var se;se=function(){return"https://sync.richmetrics.com/"};var fe;fe=function(n,t,e,r,i,o,u,a,c,s,f,l){var d,v,h,p;return v=b("RichUnitHandler"),v.on("crash",function(t){return t=t.withMeta({sessionId:n.meta.sessionId}),e.push(t)}),p=function(){return n.meta.sessionId=t.generate(),r.send(o["new"](n))},p(),v.attach(n,"annotation",function(t){return r.send(s["new"](t,n.meta.sessionId))}),v.attach(n,"connection",function(t){return r.send(f["new"](t,n.meta.sessionId))}),v.attach(n,"restart",function(){return r.send(l["new"](n,!0)),p(),n.visibility()>0?i.reset():i.stop()}),h=!1,d=function(){var t;if(!h)return h=!0,v.attach(n,"interaction",function(t,e){return r.send(a["new"](n,t,e))}),n.visibility()>0&&i.start(),t=function(t){return null==t&&(t=!1),r.send(c["new"](n,t))},v.attach(i,"event",t),v.attach(n,"change",function(){return i.reset()}),v.attach(n,"visible",function(){return i.start(),t(!0)}),v.attach(n,"invisible",function(){return i.stop(),t(!0)})},v.attach(n,"ready",function(){return r.send(u["new"](n)),d()})};var le;le=function(n,t,e,r,i,o,u,a){var c,s,f,l,d,v,h,p,m,g,y;return d=i["new"](),l=u["new"](),y=1,h=t.generate(),v=b("transport"),v.on("crash",n.push),m=[],p={},c=function(n){return n.join(";")},f=function(n,t){return null==t&&(t=!1),0===m.length||(r.get(c(m),n),t)?void 0:m=[]},s=v("enqueue",function(n){var t,e,i,o,u,a;a=d.serialize(n),u=a.serializedFragment,i=a.errors;for(t in i)e=i[t],p[t]||(p[t]=!0,v.emitError(new Error(e),"serialize",{sessionId:n.si}));return r.checkLength(u)?(o=c(m.concat([u])),r.checkLength(o)||f(),m.push(u)):v.emitError(new Error("Too large fragment: "+n.type),"enqueue-size",{sessionId:n.si})}),e.start(),v.attach(e,"event",f),g=v("send",function(n,t){var e;return null==t&&(t={}),n.sn=y++,n.pi=h,e=o["new"](n),e=l.filter(e),v.emit("send",e),s(e),t.flush||a.flushInstant?f(t.fast,t.keepBuffer):void 0}),{on:v.on,send:g}};var de;de=function(n,t){var e,r;return r=!0,(e=n.get("id"))||(e=t.generate(),r=!1,n.set("id",e)),{id:e,returningUser:r}};var ve;ve=function(n,t,e,r,i,o,u,a){var c;return c=b("WatcherConsumer",{eventEmitter:{playback:!0}}),c.on("crash",e.push),{start:function(e){var c;return c=function(n){return r.every(1e3,function(t){return n.isFulfilled()&&n.runCallback(),t()})},n.register("addWatch",function(n){var t,e;return e=o["new"](),e.register(u),t=e.getApi(),n(t),c(e),{start:t.start,stop:t.stop,restart:t.restart}}),t.register("addWatch",function(n,t){var e,r;return e=l(),i.on("unit",function(r){var i,s;return n===r.getId()?(s=o["new"](),s.register(u),s.register(a,r),i=s.getApi(),t(i),c(s),e.resolve(i)):void 0}),r=e.promise(),{start:function(){return r.done(function(n){return n.start()})},stop:function(){return r.done(function(n){return n.stop()})},restart:function(){return r.done(function(n){return n.restart()})}}}),e()}}};var he;he=function(n,t,e){var r,i,o;return r=b("XdiConsumer"),r.on("crash",e.push),i=_(n),o=function(n,e){return r.attach(t,"unit",function(t){return"xdi"===t.meta.type&&t.meta.xdiId===n?e(t):void 0})},r.attach(i,"burt.xdi.error",function(n){throw n["public"]?new T(n.error):new Error(n.error)}),r.attach(i,"burt.xdi.unit",function(n){if(!n.xdiId)throw new T(T.MISSING_XDI_ID,{name:n.name});return o(n.xdiId,function(t){return t.addMeta({cloudKeys:h(t.meta.cloudKeys||[]).concat(n.cloudKeys).it(),loadUrl:n.loadUrl,wrapperUrl:n.wrapperUrl,mediaType:n.mediaType,nodeCount:n.nodeCount}),t.ready()})}),r.attach(i,"burt.xdi.unit.annotation",function(n){return o(n.xdiId,function(t){return t.annotate(n.annotation)})}),r.attach(i,"burt.xdi.unit.connection",function(n){return o(n.xdiId,function(t){return t.connect(n.connection)})}),r.attach(i,"burt.xdi.unit.restart",function(n){return o(n.xdiId,function(t){return t.restart(n.meta)})}),{start:function(n){return n()}}};var pe;pe=function(n,t,e,r,i,o,u,a){var c,s,f,l,d,v,p,m,g,y;return l=b("Activity",{eventEmitter:{playback:!0}}),l.on("crash",t.push),y=a["new"](u),s=y.document(),c=!1,g=void 0,d=i.getInitialEventsToIgnore(),o(function(){return n.delay(100,function(){return d={}})}),f=function(n){return null==n&&(n={}),n.timestamp=r.elapsed(),n},v=function(){return g&&g.stop(),g=n.delay(e,l("timout",function(){return m("timeout",{timeout:e})}))},p=function(n,t){return null==t&&(t={}),d[n]?void delete d[n]:(v(),c?void 0:(c=!0,l.emit("active",n,f(t))))},m=function(n,t){return null==t&&(t={}),c?(c=!1,l.emit("inactive",n,f(t))):void 0},y.on("blur",l("blur",function(){return m("blur")})),h("keydown","mousedown","mousemove").each(function(n){return s.on(n,l(n,function(){return p(n)}))}),h("mousewheel","touchmove","resize","focus","DOMMouseScroll","wheel").each(function(n){return y.on(n,l(n,function(){return p(n)}))}),h("unload","beforeunload").each(function(n){return y.on(n,l(n,function(){return void l.emit("end",n)}))}),{on:l.on,setActive:function(){return p("active")},setInactive:function(){return m("inactive")},isActive:function(){return c}}};var me;me=function(){return 1e3};var ge;ge=function(){return 6e4};var ye;ye=function(n,t,e,r,i){var o,u,a,c,s;return s=0,c=b("adNodeFinder"),c.on("crash",r.push),o=function(r,o){var u,a,c,s,f;return c=r.get("tagName"),("OBJECT"===c||"EMBED"===c||"IMG"===c)&&(f=r.geo(),s=f.width,u=f.height,i>s||i>u)?!1:(a=function(){switch(c){case"OBJECT":case"EMBED":return t["new"](r);case"IMG":return n["new"](r);case"IFRAME":return e["new"](r);default:return!1}}(),a?(o.push(a),!0):!1)},u=function(n,t){var e,r,i,a;if(null==t&&(t=0),!n)throw new Error("Node not found");return a=h([]),e=o(n,a),!e&&2>t&&(r=n.find("IMG, OBJECT, EMBED, IFRAME"),i=h([]),1===r.size()?i.push(r.firstItem()):r.size()>1&&r.each(function(n){var t;return t=!1,r.each(function(e){return n!==e&&n.isChildOf(e)?t=!0:void 0}),t?void 0:i.push(n)}),i.each(function(n){var e;return e=u(n,t+1),e.each(a.push)})),a},a=function(n){var t,e;return e=0,t=null,n.each(function(n){var r,i,o,u;return u=n.node.geo(),o=u.width,i=u.height,r=o*i,r>e&&n.filled()?(t=n,e=r):void 0}),t},{find:u,getLargestNode:a}};var we;we=function(n,t,e,r,i){var o,u,a;return u=b("bomclSegments"),u.on("crash",i.push),a=n["new"](t,"bomcl"),o=u("get-segments",function(n){return a.request(""+e.getName()+"/"+r.id,"segments",function(t){var e,r,i;return e=t.data,r=t.source,i=t.success,S(e)||(e=[],i=!1),n(e,r,i)})}),function(n){return o(function(t,e,r){return n(t,"cookie"===e,r)})}};var be;be=function(n,t,e){var r,i,o,u;return u=e["new"](t),o=null,i=function(){return{width:0,height:0,top:0,left:0,visibility:function(){return 0}}},r=function(n){var t;return t=u.calculate(n.left,n.top,n.width,n.height),t>0?Math.round(100*t):0},{geo:function(t){return t&&o?o:o=function(){var t,e,o,u,a,c,s,f,l,d;return n.empty()?i():(o=n.map("geo").select(function(n){return n.width>0&&n.height>0}),o.empty()?i():(f=o.max(function(n){return n.left+n.width}),s=f.left+f.width,e=o.max(function(n){return n.top+n.height}),t=e.top+e.height,l=o.min("top").top,a=o.min("left").left,d=s-a,u=t-l,c={top:l,left:a,width:d,height:u,visibility:function(){return this.vis?this.vis:this.vis=r(c)}}))}()},visibility:function(n){var t;return t=this.geo(n),t.visibility()}}};var Ie;Ie=function(n){var t;return t=b("Carrier",{eventEmitter:{playback:!0}}),n["try"]("carrier",{on:t.on,emit:t.emit})};var Ee;Ee=function(){return{next:function(){return 1}}};var Ne;Ne=function(){return{adler32:n}};var Se;Se=function(){var n,t;return n=function(){return(new Date).getTime()},t=n(),{startTime:t,now:n,zone:function(){return(new Date).getTimezoneOffset().toString()},elapsed:function(){return n()-t},minutes:function(n){return{fromNow:function(){var t;return t=new Date,t=new Date(t.setMinutes(t.getMinutes()+n))}}}}};var Ae;Ae=function(n){var t,e;return t="burt"===n?"id":n,e={burt:{write:!0},cint:{write:!1}},{isValid:function(){return"burt"===n||"cint"===n},config:function(r){var i;return null==r&&(r={}),this.isValid()?(i=m(e[n]).merge(r),i.provider=n,i.cookieName=t,i):{}}}};var xe;xe=function(n,t,e,r,i,o,a,c,s,f){var d,v,p,m,g,y,I;if(!n)throw new Error("Node not found");return y=b("DomNode"),y.on("crash",s.push),R(n)&&(n=t.document.createElement(n)),m=function(){return{width:0,height:0,top:0,left:0}},d=e["new"](n.ownerDocument),p={},v=function(n,e){var r,i,o;if(!n.style[e]&&!p[e])if(t.getComputedStyle)o=t.getComputedStyle(n,null),o&&o[e]&&(p[e]=o[e]);else if(n.currentStyle){if(r=n.currentStyle[e],"inherit"===r&&n.parentNode)try{r=v(n.parentNode,e)}catch(u){i=u}p[e]=r}return n.style[e]||p[e]},I=U(n),g=w(n),{data:function(){return I},id:function(){return I.get("id")},node:n,document:d,window:d.window(),getEventRegister:function(n){return g.get(n)},on:function(n,t){var e;return"crash"===n?y.on("crash",t):(e=this.getEventRegister(),e.on(n,t))},removeEvent:function(n,t){var e;return e=this.getEventRegister(),e.remove(n,t)},find:function(t){return this.isIframe()?i["new"](this).find(t):c["new"](n).find(t)},geo:function(){var t,e;if(!n.getBoundingClientRect)throw new Error(n.tagName+" has no getBoundingClientRect");if(this.isHidden())return m();try{e=n.getBoundingClientRect()}catch(r){return t=r,m()}return{top:Math.ceil(f.viewport.top()+e.top-f.document.clientTop()),left:Math.ceil(f.viewport.left()+e.left-f.document.clientLeft()),width:Math.round(e.width||n.offsetWidth),height:Math.round(e.height||n.offsetHeight)}},area:function(){var n,t,e;return e=this.geo(),t=e.width,n=e.height,t*n},get:function(t){return"src"===t?n.src:"class"===t?n.className:n.getAttribute(t)||n[t]},set:function(t,e){return n.setAttribute(t,e)},dataAttr:function(n){return this.get("data-"+n)},parent:function(){return n.parentNode},insertBefore:function(t){return this.parent().insertBefore(t.node,n)},remove:function(){var t;return g.removeAllScopes(),null!=n.removeNode?n.removeNode(!0):null!=(t=this.parent())?t.removeChild(n):void 0},isChildOf:function(t){return n.parentNode===t.node},isHidden:function(){return"hidden"===this.style("visibility")||"none"===this.style("display")},style:function(t){return v(n,t)},isIframe:function(){return"IFRAME"===n.tagName},isImage:function(){return"IMG"===n.tagName},isFlash:function(){var t;return"OBJECT"===(t=n.tagName)||"EMBED"===t},loaded:function(){var n;return this.isImage()?o["new"](this).loaded():this.isFlash()?a["new"](this).loaded():this.isIframe()?i["new"](this).loaded():(n=l(),u(this.find("img, object, embed, iframe").map("loaded")).then(n.resolve),n.promise())},hasId:function(t){return t===n.id||t==="#"+n.id},hasClass:function(t){return M(n.className)?h(n.className.split(" ")).any(function(n){return n===t||"."+n===t}):!1},equals:function(t){return n===t}}};var Ce;Ce=function(n,t){return{find:function(e){var r,i,o,u,a,c,s,f,l,d;if("#"!==e.slice(0,1)){if(i=h([]),"."===e.slice(0,1))if(null!=n.getElementsByClassName)for(l=n.getElementsByClassName(e.slice(1)),a=0,s=l.length;s>a;a++)r=l[a],i.push(t["new"](r));else for(o=new RegExp("(^| )"+e.slice(1)+"( |$)"),d=n.getElementsByTagName("*"),c=0,f=d.length;f>c;c++)r=d[c],o.test(r.className)&&i.push(t["new"](r));else u=h(e.split(",")).map(z),u.each(function(e){var r,o,u,a,c;for(a=n.getElementsByTagName(e),c=[],o=0,u=a.length;u>o;o++)r=a[o],c.push(i.push(t["new"](r)));return c});return i}return(r=n.getElementById(e.slice(1)))?t["new"](r):void 0}}};var ke;ke=function(n,t,e){var r,i;return r=0,i=g({playback:!0}),i.on("crash",function(i){return r++,t.throwErrors?n.delay(0,function(){if(e.error(i.toString()),i.error)throw i.error}):void 0}),{push:function(n){if(!k(n))throw new Error("errorHandler.push was called with a non object");return 100>r?i.emit("crash",n):void 0},on:i.on}};var Me;Me=function(n){var t,e,r,i;return i=n.navigator.userAgent,e=void 0,t=function(){var n,t;return null!=e?e:(n=new RegExp("MSIE[\\/ ]([\\d\\w\\.\\-]+)","i"),t=i.match(n),e=t?t[1]:!1)},r={},r.initialEvents={},t()?(r.crazyScriptOrder=!0,r.shortDomainBug=!0,r.initialEvents.focus=!0,t()<="8.0"&&(r.initialEvents.mousemove=!0)):/Opera/.test(i)?r.crazyScriptOrder=!0:i.match(/webkit/i)&&i.match(/(iPad|iPhone|Android|Mobile)/)?r.initialEvents.resize=!0:/Firefox/.test(i)&&(r.initialEvents.focus=!0),{getInitialEventsToIgnore:function(){return r.initialEvents},hasInitialMouseMove:function(){return!!r.initialEvents.mousemove},hasInitialFocus:function(){return!!r.initialEvents.focus},hasInitialResize:function(){return!!r.initialEvents.resize},hasCrazyScriptOrder:function(){return!!r.crazyScriptOrder},hasShortDomainBug:function(){return!!r.shortDomainBug},hasPostMessage:function(){return $(n,"postMessage")}}};var De;De=function(){var n;return n=function(t,e){var r,i;if(0===e.length)return!0;try{return i=t[e.shift()],null!=i?n(i,e):!1}catch(o){return r=o,!1}}};var Re;Re=function(){return s};var _e;_e=function(n,t,e){var r;return r=b("inject"),function(i,o){var u,a,c,s,f;null==o&&(o={}),s=t["new"](i);for(u in o)f=o[u],s.set(u,f);return a=e["new"](n.document),c=a.find("script").firstItem(),c.insertBefore(s),r.delegate(s,"load"),r.delegate(s,"error"),{on:r.on}}};var Ue;Ue=function(n,t,e,r,i){var o,u;return o=b("LazyLoader"),o.on("crash",n.push),u={},e.register("use",o("use",function(n,t){var e;if(null==t&&(t=function(){}),e=u[n])return e.on("burt."+n+".available",function(){return e.on("burt."+n+".ready",t),e.emit("burt."+n+".start")});throw new T(T.INVALID_COMPONENT,{component:n})})),{register:function(n,e,a){return null==a&&(a={}),o("lazy:"+n,function(){var c,s;if(!a.crossDomain||r.hasPostMessage())return s=e["new"](),u[n]=c=a.crossDomain?_(t):i["new"](),c.emit("burt."+n+".available"),o.attach(c,"burt."+n+".start",function(t,e){return s.start(function(){return c.emit("burt."+n+".ready",t,e)})})})()}}};var Te,c=[].slice;Te=function(n){var t;return t=function(){var t,e;return t=1<=arguments.length?c.call(arguments,0):[],(e=n.console)?e.log.apply(e,t):void 0},{warn:function(n){return t("[WARNING]",n)},error:function(n){return t("[ERROR]",n)},info:function(n){return t("[INFO]",n)}}};var je;je=function(){return{numberGenerator:function(n){return t(n)}}};var $e;$e=function(n,t,e){var r,i,o,u,a;return o=b("FlashNode"),o.on("crash",e.push),a=n.data(),r=n.find("embed, object").lastItem()||n,r!==n&&(i=r.geo(),u=n.geo(),(0===i.width||0===i.height)&&u.width>0&&u.height>0&&(r=n)),{node:r,loadUrl:function(){switch(r.get("tagName")){case"OBJECT":return r.get("data")||function(){var n,t,e,i;for(i=r.node.childNodes,t=0,e=i.length;e>t;t++)if(n=i[t],"movie"===n.name)return n.value}();case"EMBED":return r.get("src")}},mediaType:function(){return r.get("tagName")},filled:function(){return!!a["try"]("filled",function(){var t,e,r;return r=n.geo(),e=r.width,t=r.height,t>10&&e>10?!0:null})},loaded:function(){return a["try"]("loadPromise",function(){var n,e;return e=function(n){var t;try{return void 0!==n.PercentLoaded()}catch(e){return t=e,!1}},n=l(),o("initialCheck",function(){return e(r.node)&&r.node.PercentLoaded()>=100?n.resolve():t.every(200,o("loaded",function(t,i){if(!n.isResolved()){if(!e(r.node)||r.node.PercentLoaded()>=100)return n.resolve();if(50>i)return t()}}))})(),n.promise()})}}};var Oe;Oe=function(n,t,e,r,i,a,c){var s,f,d,v,p,m;return d=b("IframeNode"),d.on("crash",e.push),s=function(){return v()?i.find(a["new"](n.node.contentWindow.document.body)):h([])},p=null,f=function(){return null!=p?p:p=i.getLargestNode(s())},v=function(){return r(n.node,["contentWindow","document","body","childNodes"])},m=n.data(),{node:n,loadUrl:function(){var n;return n=f(),n?n.loadUrl():null},wrapperUrl:function(){var t,e;return e=f(),e&&e.wrapperUrl?e.wrapperUrl():(t=n.get("src"),O(t).startsWith("javascript:")?void 0:t)},mediaType:function(){return"IFRAME"},filled:function(){return!!m["try"]("filled",function(){return v()?f()?!0:null:!0})},loaded:function(){return m["try"]("loadPromise",function(){var e,r,i;return e=l(),r=l(),o(n.node,"load",r.resolve),r.promise().then(function(){var n,t;return t=s().map("loaded"),n=u(t),n.then(function(){return e.resolve()})}),i=c.now(),t.every(100,d("loaded",function(t){var o;return v()&&(o=n.node.contentWindow.document,r.isResolved()||"complete"===o.readyState&&o&&o.location&&"about:blank"!==o.location.href&&r.resolve()),c.now()-i<5e3?t():r.isResolved()?void 0:e.resolve()})),e.promise()})},isAccessible:v,find:function(t){return a["new"](n.node.contentWindow.document.body).find(t)}}};var Pe;Pe=function(n,t,e){var r,i;return r=b("ImgNode"),r.on("crash",e.push),i=n.data(),{node:n,loadUrl:function(){return n.get("src")},mediaType:function(){return"IMG"},filled:function(){return!!i["try"]("filled",function(){var t,e,r;return r=n.geo(),e=r.width,t=r.height,t>10&&e>10?!0:null})},loaded:function(){return i["try"]("loadPromise",function(){var e;return e=l(),r("initialCheck",function(){return n.node.complete?e.resolve():(o(n.node,"load",e.resolve),t.every(200,r("loaded",function(t,r){if(!e.isResolved()){if(n.node.complete)return e.resolve();if(50>r)return t()}})))})(),e.promise()})}}};var Be;Be=function(n,t,e){return e["new"](n,t)};var ze;ze=function(n,t,e,r){var i,o,u,a,c,s,f,l,d,v,h,p,m,g;if(h=b("PageReady"),h.on("crash",r.push),u="DOMContentLoaded",c="pageready",a="load",i=n.document(),o=i.it(),"complete"===o.readyState&&(p=o.readyState),f=[],m=0,l=function(n){return t.delay(0,h("defer",function(){return n(p,{timestamp:m})}))},h.on(c,function(n){var t,r;if(!p){for(p=n,m=e.elapsed(),r=[];t=f.pop();)r.push(l(t));return r}}),h.attach(i,"readystatechange",function(){return h.emit(c,o.readyState)}),h.attach(i,u,function(){return h.emit(c,u)}),h.attach(n,a,function(){return h.emit(c,a)}),o.attachEvent){g=!1;try{g=null==n.window.frameElement&&o.documentElement}catch(y){v=y}g&&o.documentElement.doScroll&&(d=function(){try{o.documentElement.doScroll("left")}catch(n){return v=n,void t.delay(50,h("doScrollCheck",d))}return h.emit(c,"scroll")})()}return s=function(n){return p?l(n):f.push(n)},{onReady:s,isReady:function(){return!!p}}};var Ke;Ke=function(){return"_burtAgency"};var Le;Le=function(n,t,e,r,i){var o;return o=function(n){return k(n)&&null!=n.value&&null!=n.expires?i.now()<new Date(n.expires).getTime()?n.value:void 0:n},{get:function(t){var r;return null==t&&(t=null),r=n.get(e)||{},t?o(r[t]):r},set:function(r,u,a){var c,s,f,l,d,v,h;null==a&&(a={}),c=this.get(r),u=c&&k(c)&&k(u)?m(c).merge(u):u,a.expires&&(C(a.expires)&&(f=a.expires,l=new Date(i.now()),l.setDate(l.getDate()+f),a.expires=l.getTime()),u={expires:a.expires,value:u}),s={},h=this.get();for(d in h)v=h[d],null!=o(v)&&(s[d]=v);return s[r]=u,n.set(e,s,t)},isEnabled:function(){var n;return n=r.generate(),this.set("random",n),this.get("random")===n}}};var qe;qe=function(n){var t,e,r;return t=n.document,r=function(t){return n.encodeURIComponent(t)},e=function(t){return n.decodeURIComponent(t)},{set:function(n,e,i){var o,u,a,c;null==e&&(e=""),null==i&&(i={}),null==i.path&&(i.path="/"),null==i.expires&&(i.expires=365),null==i.secure&&(i.secure=!1),o=[];for(a in i)c=i[a],"domain"!==a||c||(c=""),"expires"===a&&(C(c)&&(u=c,c=new Date,c.setUTCDate(c.getUTCDate()+u)),null!=c.toUTCString&&(c=c.toUTCString())),"secure"===a?c&&o.push("; "+a):c&&o.push("; "+a+"="+c);return t.cookie=r(n)+"="+r(e)+o.join(""),!i.domain||e&&this.get(n)===e?void 0:this.set(n,e,m(i).extend({domain:null}))
},get:function(n){var r,i,o,u,a,c,s;for(i=t.cookie.split("; "),a=0,c=i.length;c>a;a++)if(r=i[a],s=r.split("="),o=s[0],u=s[1],e(o)===n)return e(u)}}};var We;We=function(){return"/"};var Fe;Fe=function(n,t,e,r){return{path:e,domain:function(){var e,i;return"localhost"===t?void 0:(e=n.document.domain,i=r.hasShortDomainBug(),i&&t===e&&t.match(/(\.|^)[^.]{2}\.[^\.]+$/)&&2===t.split(".").length?null:i&&t.split(".").length<3&&t.match(/(\.|^)[^.]{2}\.[^\.]+$/)?"."+e:"."+t)}()}};var Ge;Ge=function(n){return{get:function(t){var e;try{return r.parse(n.get(t))}catch(i){e=i}},set:function(t,e,i){return null==i&&(i={}),n.set(t,r.stringify(e),i)}}};var Ve;Ve=function(n,t,e,r,i){var o,u,a;return o=void 0,a=void 0,u=0,{createSeed:function(){var t,e,o,c,s,f,l,d,v,h,p,m,g,y;if(d=[],o=function(n){return(null!=n?n.toString:void 0)?(n=n.toString(),d.push(n)):void 0},t=function(n){var t,e;e=[];for(t in n)e.push(x(n[t])?void 0:o(n[t]));return e},e=function(n,t){var e,r,i,u,a,c,s,f,l;for(l=[],a=0,s=t.length;s>a;a++){for(u=t[a],e=n,c=0,f=u.length;f>c;c++){i=u[c];try{e=e[i]}catch(d){r=d,e=i}}l.push(o(e))}return l},e(n,[["location","href"],["document","referrer"]]),f=n.navigator,e(f,[["userAgent"],["language"],["product"],["appVersion"],["onLine"],["platform"],["vendor"],["appCodeName"],["cookieEnabled"],["appName"],["productSub"],["vendorSub"]]),f.plugins)for(g=f.plugins,v=0,p=g.length;p>v;v++)l=g[v],t(l);if(f.mimeTypes)for(y=f.mimeTypes,h=0,m=y.length;m>h;h++)s=y[h],t(s);return n.screen&&t(n.screen),n.history&&o(n.history.length),n.Math&&o(n.Math.random()),o(++u),o(i.zone()),o(i.startTime),o(r.toString),c=i.now(),o(c),o(i.elapsed()),a=d.join("|")},next:function(){return null==a&&(a=this.createSeed()),null==o&&(o=t.numberGenerator(e.adler32(a))),o.random()}}};var He;He=function(n,t,e,r){var i,o;return o=n.document.referrer,i=n.location.hostname,{last:function(){return o},orig:function(){return t.get("referrer")||function(){var n;return o&&i&&(n=new RegExp("^(https?://)?([^/]*)"+e,"i"),!n.test(o))?(t.set("referrer",o,{expires:r.minutes(30).fromNow()}),o):void 0}()}}};var Je;Je=function(n,t,e,r,i,o,u){var a,c,s,f,l;return f=b("Request"),f.on("crash",r.push),c=o["new"](t.document),a=function(t){return(n+t).length<=e},s=f("get",function(t,e){var r,o;if(!a(t))throw new Error("Request too long");return e?(o=i["new"]("img"),o.set("src",n+"?"+t)):(o=i["new"]("script"),o.set("src",n+"?"+t),o.set("type","text/javascript"),r=c.find("script").firstItem(),r.insertBefore(o),h("load","error").each(function(n){return o.on(n,f(n,function(){return o.remove()}))}),o.on("readystatechange",f("readystatechange",function(){var n;return n=o.get("readyState"),!n||/loaded|complete/.test(n)?o.remove():void 0})))}),l=f("jsonp",function(n,e){var r,i;return!e&&x(n)&&(e=n,n=""),i="burtAgency_requestCallback_"+u.generate(),t[i]=f("request",e),r=[],n&&r.push(n),r.push("callback="+i),s(r.join("&"))}),{jsonp:l,get:s,checkLength:a}};var Ye;Ye=function(n,t){return t["new"](n)};var Xe;Xe=function(){return 1900};var Ze;Ze=function(n,t,e,r,i,o){var u,a,c,s,f,l,d,v,h,p,m,g;return null==e&&(e=null),d=b("ResponseRequest"),d.on("crash",o.push),u="cookie",p=function(n){return s(i.get(t),n)},a=function(n){var e;return e=i.get(t),e[n]=void 0,g(e)},g=function(n){return i.set(t,n,{expires:1})},s=function(n,t){return n?t?n[t]:n:void 0},v=function(t,i){var o;return o=r["new"](""+n+t),o.jsonp(d("request",function(n){return e&&(n=e(n)),g(n),i(n)}))},l=function(n,t,e){return v(n,function(n){var r,i;return r=s(n,t),i=t&&R(r)&&r!==p(t)?!1:!0,e(r,i)})},f=function(n,t,e,r){var i;return!r.force&&(i=p(t))?e(i,u,!0):(r.force&&a(t),l(n,t,function(n,t){return u="server",e(n,u,t)}))},c=function(n,t,e,r){return f(n,t,e,r)},h=function(n){return function(t,e,r){return n({data:t,success:!!r,source:e})}},m=function(n,t,e,r){return null==r&&(r={}),2===arguments.length&&(n=arguments[0],e=arguments[1],t=null),c(n,t,h(e),r)},{force:function(n,t,e){return m(n,t,e,{force:!0})},request:m}};var Qe;Qe=function(n){return function(t){var e;return t?(e=parseInt(n.id.substring(0,6),36)+parseInt(n.id.substring(6,12),36),e%t===0):!0}};var nr;nr=function(n,t,e,r){var i,o,u,a,c,s,f,l;return null==t&&(t=0),c=void 0,l=!0,i=-1,o=b("Scheduler"),o.on("crash",function(){return f()}),u=o("next",function(){return l?void 0:(n.length>i+1&&i++,c=e.delay(t+1e3*n[i]*r.next(),o("timer",function(){return u(),o.emit("event")})))}),f=function(){return l=!0,i=-1,c?c.stop():void 0},s=function(){return l?(l=!1,u()):void 0},a=function(){return this.stop(),this.start()},{stop:f,start:s,reset:a,on:o.on}};var tr;tr=function(n,t){return t["new"](n)};var er;er=function(){return{next:function(){return Math.random()}}};var rr;rr=function(n,t,e,r){var i,o,u,a,c,s;return u=b("sync"),u.on("crash",r.push),a=!1,c=function(n){var t,e,r,i,o,u,a,c;for(r={},a=n.split("; "),o=0,u=a.length;u>o;o++)t=a[o],c=t.split("="),e=c[0],i=c[1],r[e]=i;return r},s=n["new"](t,"sync",c),o=function(n,t){var r,i,o;return r=n.cookieName||n.provider,"cint"===r&&(o=t,t=function(n,t,e){return n&&12===n.length&&n.match(/[A-Z]/)?s.force("delete/cint",null,function(){return o(void 0,void 0,!1)}):o(n,t,e)}),a?t(void 0,"failed",!1):n.write?(i=e.generate(),s.request("s/sync/"+r+"/"+i,r,function(n){return"server"===n.source&&n.data===i&&(n.source="fresh"),t(n.data,n.source,n.success)})):s.request("status",r,function(n){return t(n.data,n.source,!!n.data||n.success)})},i=function(n,t){return o(n,function(n,e,r){return r||(a=!0),t({externalId:n,success:!!r,fresh:"fresh"===e})})}};var ir;ir=function(n,t){var e;return e=t.document.createElement("a"),e.href=n,{normalize:function(){var t,r,i;return t=(e.href||"").length,i=(e.search||"").length,r=e.href.slice(0,t-i),r.length<n.length?r:n},host:function(){return e.host},hostname:function(){return e.hostname},port:function(){return Number(e.port)||(this.protocol().match(/https/)?443:80)},search:function(){return e.search},pathname:function(){return"/"===e.pathname[0]?e.pathname:"/"+e.pathname},protocol:function(){return e.protocol},encode:function(){return t.encodeURIComponent(n)},toString:function(){return n}}};var or;or=function(n,t){var e;return e=t["new"](n),{calculate:function(n,t,r,i){var o,u,a,c,s,f,l;return c={x:{start:e.left(),end:e.left()+e.width()},y:{start:e.top(),end:e.top()+e.height()}},u={x:{start:n,end:n+r},y:{start:t,end:t+i}},o={x:this.intersect(u.x,c.x),y:this.intersect(u.y,c.y)},l=o.x.start-o.x.end,s=o.y.start-o.y.end,f=l*s,a=r*i,0===a?0:f/a},intersect:function(n,t){return n.end<n.start||t.end<t.start||t.end<n.start||n.end<t.start?{start:0,end:0}:{start:Math.max(t.start,n.start),end:Math.min(n.end,t.end)}}}};var ur;ur=function(n,t){var e;return e=g({playback:!0}),e.on("warning",function(e){return n.throwErrors?t.warn(e.toString()):void 0}),{on:e.on,push:function(n,t){return null==t&&(t={}),e.emit("warning",j(n,t))}}};var ar;ar=function(n,t,e,r,i){var o;return o=b("WindowObserver"),o.on("crash",t.stop),U(n.it())["try"]("WindowObserver",function(){var u,a,c;return c=void 0,u=!1,a=function(){var n;return c?u=!0:(u=!1,o.emit("change"),n=Math.round(i/2+i/2*r.next()),c=e.delay(n,function(){return c.stop(),c=null,u&&a(),t.start()}))},o.attach(n,"resize",function(){return t.stop(),a()}),o.attach(n,"scroll",function(){return t.stop(),a()}),t.start(),o.attach(t,"event",function(){return o.emit("change")}),{on:o.on}})};var cr;cr=function(){return[8]};var sr;sr=function(){return window};var fr;fr=function(n,t){return i(n,t)};var lr;lr=function(){return"burtApi"};var dr;dr=function(){return"//m.burt.io/current.js"};var vr;vr=function(n){return n.document.domain.replace(/^www\./,"")};var hr;hr=function(){return{flushInstant:!1,throwErrors:!1,enableDevMode:function(){return this.flushInstant=!0,this.throwErrors=!0},enableProdMode:function(){return this.flushInstant=!1,this.throwErrors=!1}}};var pr;pr=function(){return window};var mr;mr=function(){var n;return n=b("unitApi",{eventEmitter:{playback:!0}}),{register:function(t,e){return n.emit("register",t,e)},on:n.on}};var gr;gr=function(){return{major:1,minor:6,patch:0,preReleaseId:null,toString:function(){var n;return n="x"+this.major+"."+this.minor+"."+this.patch,null!=this.preReleaseId&&(n+="-"+this.preReleaseId),n}}};var yr,c=[].slice;yr=function(n,t,e,r,i){var o;return o=n.uid||t.generate(),i["try"](o,function(){var t,i,u;return i=b("ApiUnit",{eventEmitter:{playback:!0}}),i.on("crash",e.push),u=void 0,t={getName:function(){return n.name||(u?u.meta.name:void 0)},getMeta:function(){return n},getNode:function(){return u?u.node.node:void 0},annotate:function(n,t,e){return i.emit("annotation",{scope:n,name:t,value:e})},connect:function(n,t,e){return i.emit("connection",{scope:n,name:t,value:e})},restart:function(n){return null==n&&(n={}),i.emit("restart",n)}},r.on("register",function(n,e){return t[n]=function(){var n;return n=1<=arguments.length?c.call(arguments,0):[],e.apply(null,[o].concat(c.call(n)))}}),{on:i.on,api:t,meta:function(){var t;return t=m(n).clone(),null==t.uid&&(t.uid=o),t}(),setUnit:function(n){return u=n}}})};var wr;wr=function(){var n;return n={},{"try":function(t,e){return null!=n[t]?n[t]:n[t]=e()}}};var br;br=function(n,t,e,r,i,o,u,a,c,s){var f,d,v,p,g,y,w,I,E,N;if(null==t&&(t={}),g={type:"ad",cloudKeys:[],connections:[],annotations:[]},d=l(),p=b("BurtUnit"),p.on("crash",e.push),p.on("crash",function(n){return"meta"===n.meta.lastScope?d.reject():void 0}),v=function(n){var t,e,r;r=[];for(t in n)e=n[t],r.push(e?S(g[t])?g[t]=g[t].concat(e):g[t]=e:void 0);return r},E=function(n){if(!n.match(/^[A-Z0-9]{12}$/))throw new T(T.INVALID_CLOUD_KEY,{cloudKey:n})},v(c["new"](n).getMetadata()),v(t),w=g.type,y=g.name,f=g.cloudKeys,N=g.xdiId,!y&&!N)throw new T(T.MISSING_NAME);return h(f).each(E),I=function(){switch(w){case"area":return o["new"](n,g);case"ad":return u["new"](n,g);case"xdi":return a["new"](n,g);default:throw new T(T.UNKNOWN_UNIT_TYPE,{type:w})}}(),I.addHook("ready",d.promise()),I.on("restart",function(t){return null==t&&(t={}),g={type:g.type,cloudKeys:[],name:g.name},v(c["new"](n).getMetadata()),v(t),I.addMeta(g)}),p.attach(I,"almost-ready",function(){return s["new"](n).find(p("meta",function(n){var t,e,r;return n.each(function(n){return v(c["new"](n).getMetadata())}),f=g.cloudKeys,e=g.connectProvider,t=g.connectId,r=g.connectValue,h(f).each(E),h(m(g)["delete"]("connections")||[]).each(I.connect),h(m(g)["delete"]("annotations")||[]).each(I.annotate),I.addMeta(g),d.resolve()}))}),r.addUnit(I),I};var Ir;Ir=function(n,t){return{find:function(e){var r,i,o;return r=n.find(".burt-unit-metadata"),i=l(),i.promise().then(function(){return e(r)}),o=n.find("IFRAME").select(function(n){return t["new"](n).isAccessible()}),o.size()>0?u(o.map("loaded")).then(function(){return o.each(function(n){var e;return e=t["new"](n),e.find(".burt-unit-metadata").each(r.push)}),i.resolve()}):i.resolve()}}};var Er;Er=function(n){return{getMetadata:function(){var t,e,r,i,o,u,a,c,s,f;return f={name:n.dataAttr("name"),type:n.dataAttr("type"),xdiId:n.dataAttr("xdi-id"),connectProvider:n.dataAttr("connect-provider"),connectId:n.dataAttr("connect-id"),cloudKeys:(o=n.dataAttr("cloud-keys"))?O(o).toArray():void 0},M(f.connectProvider)&&M(f.connectId)&&(f.connectValue=n.dataAttr("connect-value")),a=n.dataAttr("connect-scope"),u=n.dataAttr("connect-name"),c=n.dataAttr("connect-value"),s=n.dataAttr("connect-values"),a&&u&&(c||s)&&(f.connections=[{scope:a,name:u,value:c||O(s).toArray(),source:"span"}]),e=n.dataAttr("annotate-scope"),t=n.dataAttr("annotate-name"),r=n.dataAttr("annotate-value"),i=n.dataAttr("annotate-values"),e&&t&&(r||i)&&(f.annotations=[{scope:e,name:t,value:r||O(i).toArray(),source:"span"}]),f}}};var Nr;Nr=function(n){return{generate:function(){var t;return t=n.location.pathname.split("/"),t.length>=2?""===t[1]?"frontpage":t[1]:void 0}}};var Sr;Sr=function(n,t){var e,r,i;return e=b("UnitMatcher",{eventEmitter:{playback:!0}}),r=function(t){var e;return e=t.meta.name,h(n).empty()?!0:h(n).any(function(n){if(R(n)){if(n===e)return!0;if(O(n).startsWith("#")&&t.node.hasId(n))return!0;if(O(n).startsWith(".")&&t.node.hasClass(n))return!0}else{if(D(n)&&e.match(n))return!0;if(A(n)&&t.node.equals(n))return!0}})},i=function(){return h(t.getUnits()).select(r)},t.on("unit",function(n){return r(n)?e.emit("match",n):void 0}),{on:e.on,matches:i}};var Ar;Ar=function(n,t,e,r,i){var o;return o=b("UnitTracker"),o.on("crash",t.push),{trackById:function(t,i){return null==i&&(i={}),n(o("ready-id",function(){var n;if(n=e.find("#"+t),!n)throw new T(T.MISSING_DOM_ID,{id:t});return r["new"](n,i)}))},trackByNode:function(n,t){return null==t&&(t={}),r["new"](i["new"](n),t)},trackByClass:function(t){return n(o("ready-class",function(){return e.find("."+t).each(o("each",function(n){return r["new"](n)}))}))},on:o.on}};var xr;xr=function(n,t,e,r,i,o,a,c){var s,f,l,d,v,p,m,g,y,w;return null==t&&(t={}),m=h([]),s={},d=!1,g=e["new"](n,t),g.isFilled=function(){return d},l=b("AdUnit"),l.on("crash",g.emitError),v=void 0,p=0,f=function(t){var e,i,o,c,f;return null==t&&(t=!1),c=!1,o={},i=[],e=r.find(n),e.each(function(n){var t;return t=n.node.id(),o[t]=!0,s[t]?void 0:(i.push(n),m.push(n),g.addNode(n.node),s[t]=!0,c=!0)}),h(g.getNodes()).map("id").each(function(n){return o[n]?void 0:(g.removeNode(n),m.remove(function(t){return t.node.id()===n}),s[n]=void 0,c=!0)}),!d&&t&&m.any("filled")&&(c=!0),t&&c?(a.stop(),f=u(h(i).map("loaded")),f.then(l("addedNodesLoaded",function(){return y(),g.ready(),a.start()}))):void 0},y=function(){return m.any("filled")?(v=r.getLargestNode(m),v?(d=!0,g.meta.mediaType=v.mediaType(),g.meta.loadUrl=function(){var n,t;return n=v.loadUrl(),n&&(t=i["new"](n),t.encode().length>1400&&(n=t.normalize())),n}(),!v.loadUrl()&&v.wrapperUrl&&(g.meta.wrapperUrl=v.wrapperUrl()),g.meta.nodeCount=m.size()):d=!1):d=!1},l.attach(a,"event",function(){return f(!0)}),w=function(){return n.loaded().then(l("loaded",function(){return f(),y(),g.ready(),a.start()}))},o(l("domReady",function(){return w()})),g.on("restart",function(){return a.stop(),c(w)}),g};var Cr;Cr=function(){return 20};var kr;kr=function(){return[1,2,4,8,15,20,25,30,90]};var Mr;Mr=function(n,t,e){return U(n)["try"]("Doc",function(){return{it:function(){return n},window:function(){return e["new"](n.defaultView||n.parentWindow)},find:function(e){return t["new"](n).find(e)},on:function(t,e){return o(n,t,e)},clientTop:function(){var t,e;return(null!=(t=n.documentElement)?t.clientTop:void 0)||(null!=(e=n.body)?e.clientTop:void 0)||0},clientLeft:function(){var t,e;return(null!=(t=n.documentElement)?t.clientLeft:void 0)||(null!=(e=n.body)?e.clientLeft:void 0)||0}}})};var Dr,c=[].slice;Dr=function(n,t,e,r,i,o,u,s,f,l,d){var v,p,g,y,w,I,E,N;return y=b("page",{eventEmitter:{playback:!0}}),y.on("crash",r.push),N=u["new"](n),g=s["new"](n.document),w=f["new"](N),E=l["new"](N),v=n.document,p=function(n){var t,e,r,i,o;return h(null!=(t=v.body)?t["scroll"+n]:void 0,null!=(e=v.body)?e["offset"+n]:void 0,null!=(r=v.documentElement)?r["client"+n]:void 0,null!=(i=v.documentElement)?i["scroll"+n]:void 0,null!=(o=v.documentElement)?o["offset"+n]:void 0).max()},I=[],y.on("unit",function(n){return I.push(n)}),{on:y.on,url:o["new"](n.location.href),window:N,document:g,width:function(){return p("Width")},height:function(){return p("Height")},viewport:E,screen:w,language:function(){return n.navigator.language||n.navigator.userLanguage},addUnit:function(n){return y.emit("unit",n)},meta:{},addMeta:function(n){return this.meta=m(this.meta).merge(n)},connect:function(n){return y.emit("connection",n)},annotate:function(n){return y.emit("annotation",n)},find:function(t){return i["new"](n.document).find(t)},syncSegments:a(function(){return t(function(){var n;return n=1<=arguments.length?c.call(arguments,0):[],y.emit.apply(y,["user-segments"].concat(c.call(n)))})}),sync:function(n,t){var r;return null==t&&(t={}),r=d["new"](n).config(t),e(r,function(t){return y.emit("sync",n,t)})},getUnits:function(){return I}}};var Rr;Rr=function(n){var t;return t=n.it(),{width:function(){return t.screen.width},height:function(){return t.screen.height}}};var _r;_r=function(n){var t,e,r;return e=n.it(),t=e.document,r=function(n){return C(n)&&n>0},{top:function(){var n,r,i,o;return r=e.pageYOffset,C(r)?r:(i=null!=(o=t.documentElement)?o.scrollTop:void 0,C(i)?i:(n=t.body)?n.scrollTop:0)},left:function(){var n,r,i,o;return r=e.pageXOffset,C(r)?r:(i=null!=(o=t.documentElement)?o.scrollLeft:void 0,C(i)?i:(n=t.body)?n.scrollLeft:0)},width:function(){var n,i;return e.innerWidth||h(null!=(n=t.documentElement)?n.clientWidth:void 0,null!=(i=t.body)?i.clientWidth:void 0).first(r)||0},height:function(){var n,i;return e.innerHeight||h(null!=(n=t.documentElement)?n.clientHeight:void 0,null!=(i=t.body)?i.clientHeight:void 0).first(r)||0}}};var Ur;Ur=function(n,t){return U(n)["try"]("Win",function(){return{it:function(){return n},document:function(){return t["new"](n.document)},on:function(t,e){return o(n,t,e)}}})};var Tr;Tr=function(){return{setId:function(n){return this.id=n},setName:function(n){return this.name=n},getId:function(){return this.id},getName:function(){return this.name}}};var jr;jr=function(n,t,e,r,i){var o,u,a;return null==t&&(t={}),u=e["new"](n,t),u.isFilled=function(){return!0},o=b("AreaUnit"),o.on("crash",u.emitError),u.addNode(n),a=function(){return n.loaded().then(o("loaded",function(){return u.ready()}))},u.on("restart",function(){return i(a)}),r(o("domReady",a)),u};var $r;$r=function(n,t,e,r,i,o){var u,a,c,s,f,l,v,p,m,g,y,w;for(null==t&&(t={}),c=b("Unit",{eventEmitter:{playback:!0}}),c.on("crash",e.push),l=!1,c.on("restart",function(){return l=!1}),s=E(),v=h([]),f=null!=t.uid?t.uid:t.uid=o.generate(),p={node:n,getId:function(){return f},ready:function(){return!l&&this.isFilled()?(l=!0,c.emit("almost-ready"),s.await("ready").then(function(){return c.emit("ready")})):void 0},isFilled:function(){throw new Error("Not implemented #isFilled")},getNodes:function(){return v.it()},addNode:function(n){return v.push(n),c.emit("addNode",n)},removeNode:function(n){var t;return t=v.remove(function(t){return t.id()===n}),t?c.emit("removeNode",t):void 0},isReady:function(){return l},meta:t,addMeta:function(n){var t,e,r;r=[];for(t in n)e=n[t],S(e)&&0===e.length||r.push(this.meta[t]=e);return r},connect:function(n){return c.emit("connection",n)},annotate:function(n){return c.emit("annotation",n)},restart:function(n){return c.emit("restart",n)}},d("addHook").from(s).to(p),d("on","emit","emitError").from(c).to(p),u=i["new"](v,n.window),d("geo","visibility").from(u).to(p),m=r["new"](p,n.window),w=["interaction","change","visible","invisible"],g=0,y=w.length;y>g;g++)a=w[g],c.delegate(m,a,p);return p};var Or;Or=function(n,t,e,r){var i,o,u,a,c,f,l,d,v,h,p,m,g;return c=b("UnitObserver",{eventEmitter:{playback:!0}}),m=r["new"](t),l=0,u=0,p=function(){return 0===l&&u>0},h=function(){return l>0&&0===u},g=function(){return l>0&&l!==u},o=function(t){return null==t&&(t=!1),u=n.visibility(),p()?c.emit("visible"):h()?c.emit("invisible"):g()?c.emit("change"):t&&u>0&&c.emit("change"),l=u},c.attach(e["new"](t),"change",o),a=function(n){var t,e;return e=0,t=0,n.pageX||n.pageY?(e=n.pageY,t=n.pageX):(n.clientX||n.clientY)&&(e=n.clientY+m.top(),t=n.clientX+m.left()),{top:e,left:t}},f=function(n,t,e){var r,i,o,u,s,f;return i=a(t,n),o=i.top,r=i.left,s=n.geo(),f=s.top,u=s.left,c.emit("interaction",e,{top:o-f,left:r-u})},d="unitObs."+s.generate(),v=function(n){var t;return t=n.getEventRegister(d),t.removeAll()},i=function(n){var t;return t=n.getEventRegister(d),t.on("click",c("click",function(t){return f(n,t,"click")})),t.on("mouseover",c("mouseover",function(t){return f(n,t,"mouseEnter")})),t.on("mouseout",c("mouseout",function(t){return f(n,t,"mouseExit")}))},n.on("addNode",function(n){return i(n),o(!0)}),n.on("removeNode",function(n){return v(n),o(!0)}),{on:c.on}};var Pr;Pr=function(n,t,e){var r;return null==t&&(t={}),r=e["new"](n,t),r.isFilled=function(){return!0},r.addNode(n),r};var Br;Br=function(n,t,e,r){var i,o,u,a,c,s,f;return o=b("ActivityWatcher"),o.on("crash",r.push),i=h([]),a=!0,c=!1,u=function(t){var r,o;if(!n.isSuspended())return o=e.now(),n.getRequireContinuous()?i.clear():(r=i.lastItem())&&null==r.end&&(r.end=o),c&&t||a&&!t?void 0:i.push({start:o})},o.attach(t,"active",function(){return u(!0)}),o.attach(t,"inactive",function(){return u(!1)}),s=function(){return u(t.isActive())},f=function(){return i.clear()},n.on("stop",f),n.on("start",s),n.on("restart",function(){return f(),s()}),{getEvents:function(){return i},api:{setRequireActive:function(n){return n&&(c=!1),a=n},setRequireInactive:function(n){return n&&(a=!1),c=n}}}};var zr;zr=function(n,t){var e,r,i;return i=function(n,t){return n.end?t>=n.start&&t<=n.end:t>=n.start},e=function(t){return n.all(function(n){return n.any(function(n){return i(n,t)})})},r=function(e){var r;return r=h([]),n.each(function(n){var t;return t=n.last(function(n){return i(n,e)}),r.push(t)}),r.min("end").end||t.now()},{overlaps:function(){var t,i;return t=h([]),i=n.map(function(n){return n.map("start")}).flatten().sort(function(n,t){return n-t}).uniq(),i.each(function(n){var i;return e(n)&&(i=r(n),i-n>0)?t.push({start:n,end:i}):void 0}),t}}};var Kr;Kr=function(n,t,e,r){var i,o,u,a,c,s,f;return o=b("VisibilityWatcher"),o.on("crash",r.push),a=0,u=100,i=h([]),c=function(){var r,o,c,s;if(!n.isSuspended())return o=e.now(),c=t.visibility(),s=c>=a&&u>=c,n.getRequireContinuous()&&!s?i.clear():(r=i.lastItem())&&null==r.end&&(r.end=o),s?i.push({start:o}):void 0},t.on("visible",c),t.on("invisible",c),t.on("change",c),s=c,f=function(){return i.clear()},n.on("start",s),n.on("stop",f),n.on("restart",function(){return f(),s()}),{getEvents:function(){return i},api:{setVisibility:function(n,t){if(null==t&&(t=100),0>n||n>100||0>t||t>100)throw new T(T.INVALID_RANGE);return a=n,u=t}}}};var Lr,c=[].slice;Lr=function(n,t){var e,r,i,o,u,a,s,f,l,d,v;return i=b("Watcher"),i.on("crash",n.push),v=h([]),l=!0,r=0,u=!1,o=null,s=function(){return l=!1,i.emit("start")},f=function(){return l=!0,i.emit("stop")},a=function(){return l=!1,i.emit("restart")},e={start:s,stop:f,restart:a,setDuration:function(n){return r=1e3*n},setRequireContinuous:function(n){return u=n},register:function(n){return o=n}},d={on:i.on,isSuspended:function(){return l},getRequireContinuous:function(){return u}},{getApi:function(){return e=m(e).clone(),v.each(function(n){return e=m(e).extend(n.api)}),e},register:function(){var n,t;return t=arguments[0],n=2<=arguments.length?c.call(arguments,1):[],n=[d].concat(n),v.push(t["new"].apply(t,n))},runCallback:function(){return f(),o?o():void 0},isFulfilled:function(){var n,e;return l?!1:v.empty()?!1:(n=t["new"](v.map("getEvents")),(e=n.overlaps().presence())?e.sum(function(n){return n.end-n.start})>=r:!1)}}},L.factory("R0",Vt,["p1h","e3c","R8","R2","R5","R7","R1","R4","R3","P37","R6"]),L.factory("R1",Ft,["$40","e3c","t17","a36","Ab","Ec"]),L.factory("R2",ne,["$40","p1h","t17","e3c","Ph","Ap","Cq"]),L.factory("R3",re,["$40","t17","Rn","e3c"]),L.factory("R4",ie,["e3c","t17","pz","Pi"]),L.factory("R5",ce,["e3c","t17","p1h","Sl"]),L.factory("R6",ae,["p1h","t17","Sl"]),L.factory("R7",fe,["$41","r18","e3c","t17","rv","Pm","Ff","Ee","Pj","Ap","Cq","Rk"]),L.factory("R8",Ht,["e3c","t17","Ed"]),L.factory("F9",jt,["$42","s1g","v19","c3a","v2s"]),L.factory("Fa",$t),L.factory("Ab",Ct,["$43","$44","p1h"]),L.factory("Ec",Rt,["$44"]),L.factory("Ed",_t,["$45","p1h"]),L.factory("Ee",Ut,["$41","$43","$46","p1h"]),L.factory("Ff",Tt,["$41","p1h"]),L.factory("Fg",Ot,["r11","r10","a3v"]),L.factory("Ph",Pt,["$40","p1h","c3a","d1e","p3p","r3h","v2s"]),L.factory("Pi",Bt,["p1h"]),L.factory("Pj",zt,["$41","$47","p1h"]),L.factory("Rk",qt,["$41","$47","p1h"]),L.factory("Sl",Wt,["$48","$49","$4a","$4b"]),L.factory("Pm",Kt,["$41","p1h"]),L.factory("Rn",Lt,["$43","$44","p1h"]),L.factory("Co",Dt,["$42"]),L.factory("Ap",kt,["$4c","$4d"]),L.factory("Cq",Mt,["$4e","$4d"]),L.service("rr",Xt,["s1g"]),L.service("rs",Zt,["rr"]),L.service("rt",se),L.service("ru",Gt),L.factory("rv",tr,["r13","R2k"]),L.factory("tw",tr,["r16","N2l"]),L.factory("wx",tr,["w2i","R2k"]),L.factory("ay",tr,["f2m","R2k"]),L.service("pz",Be,["r14","r15","R2k"]),L.service("r10",ue),L.service("r11",Qt),L.service("r12",Ye,["rs","R2t"]),L.service("r13",oe),L.service("r14",ee),L.service("r15",te),L.service("r16",Jt),L.service("t17",le,["e3c","r18","tw","r12","Fg","F9","Fa","e1d"]),L.service("r18",Yt,["c3a","r2n"]),L.service("v19",gr),L.service("b1a",lr),L.service("b1b",Ke),L.service("b1c",fr,["s3w","b1a"]),L.service("e1d",hr),L.service("d1e",vr,["s3w"]),L.service("c1f",dr),L.service("s1g",Tr),L.service("p1h",Dr,["s3w","b3k","s3j","e3c","D3b","U2z","W2y","D2x","S1i","V1j","D1k"]),L.factory("S1i",Rr,["$4f"]),L.factory("V1j",_r,["$4f"]),L.factory("D1k",Ae,["$4b"]),L.service("l1l",Te,["s3w"]),L.factory("U1m",$r,["$4g","$4h","e3c","U1q","B2w","i3e"]),L.factory("A1n",jr,["$4i","$4h","U1m","d3g","d2r"]),L.factory("A1o",xr,["$4g","$4h","U1m","a34","U2z","d3g","ay","d2r"]),L.factory("X1p",Pr,["$4g","$4h","U1m"]),L.factory("U1q",Or,["$41","$4f","W2j","V1j"]),L.factory("U1r",Ar,["d3g","e3c","p1h","B1s","D30"]),L.factory("B1s",br,["$4g","$4h","e3c","p1h","D30","A1n","A1o","X1p","B1t","B1u"]),L.factory("B1t",Er,["$4g"]),L.factory("B1u",Ir,["$4g","I33"]),L.factory("A1v",yr,["$4h","i3e","e3c","u1w","a1x"]),L.service("u1w",mr),L.service("a1x",wr),L.service("s1y",Nr,["s3w"]),L.factory("U1z",Sr,["$4j","p1h"]),L.service("m20",st,["e3c","w3d","s1y","d3u","A1v","D1k","U1z"]),L.factory("D21",bt,["e3c","b1c","p1h","m20","d22","d23"]),L.service("d22",It),L.service("d23",Et,["m20"]),L.factory("P24",At,["b1c","p1h","e3c","w3d","t2q","s3s","i3n","p27","m20"]),L.factory("X25",he,["s3w","p1h","e3c"]),L.factory("D26",wt,["e1d","s3s","l1l"]),L.factory("p27",xt),L.factory("A28",yt,["b1c","a36","e3c"]),L.factory("W29",ve,["b1c","u1w","e3c","t2q","p1h","W2a","A2b","V2c"]),L.factory("W2a",Lr,["e3c","O2d"]),L.factory("A2b",Br,["$4k","a36","c3a","e3c"]),L.factory("V2c",Kr,["$4k","$41","c3a","e3c"]),L.factory("O2d",zr,["$4l","c3a"]),L.service("p2e",St),L.factory("P2f",Nt,["m20","p1h","e3c","i3n","p2e","s3w","U2z","t2q"]),L.factory("L2g",Ue,["e3c","s3w","b1c","f38","C3o"]),L.service("a2h",me),L.service("w2i",cr),L.factory("W2j",ar,["$4m","wx","t2q","s2p","a2h"]),L.factory("R2k",nr,["$4n","$4o","t2q","s2p"]),L.factory("N2l",nr,["$4n","$4o","t2q","c2o"]),L.service("f2m",kr),L.service("r2n",Ve,["a3v","m3f","c39","v19","c3a"]),L.service("c2o",Ee),L.service("s2p",er),L.service("t2q",B,["a3v"]),L.service("d2r",f,["a3v"]),L.service("v2s",de,["p3p","r18"]),L.factory("R2t",Je,["$4p","s3w","r2u","e3c","D30","D2x","i3e"]),L.service("r2u",Xe),L.factory("R2v",Ze,["$4p","$4q","$4r","R2t","p3p","e3c"]),L.factory("B2w",be,["$4i","$4f","V3l"]),L.factory("D2x",Mr,["$4s","D3b","W2y"]),L.factory("W2y",Ur,["$4f","D2x"]),L.factory("U2z",ir,["$4t","a3v"]),L.factory("D30",xe,["$4g","s3w","D2x","D30","I33","I32","F31","D3b","e3c","p1h"]),L.factory("F31",$e,["$4u","t2q","e3c"]),L.factory("I32",Pe,["$4u","t2q","e3c"]),L.factory("I33",Oe,["$4u","t2q","e3c","h3m","a34","D30","c3a"]),L.factory("a34",ye,["I32","F31","I33","e3c","m3x"]),L.service("a35",ge),L.service("a36",pe,["t2q","e3c","a35","c3a","f38","d3g","s3w","W2y"]),L.factory("P37",ze,["$4m","t2q","c3a","e3c"]),L.service("f38",Me,["a3v"]),L.service("c39",Ne),L.service("c3a",Se),L.factory("D3b",Ce,["$4v","D30"]),L.service("e3c",ke,["t2q","e1d","l1l"]),L.service("w3d",ur,["e1d","l1l"]),L.service("i3e",Re),L.service("m3f",je),L.service("d3g",e),L.service("r3h",He,["s3w","p3p","d1e","c3a"]),L.service("s3i",Qe,["v2s"]),L.service("s3j",rr,["R2v","rt","r18","e3c"]),L.service("b3k",we,["R2v","ru","s1g","v2s","e3c"]),L.factory("V3l",or,["$4f","V1j"]),L.service("h3m",De),L.service("i3n",_e,["s3w","D30","D2x"]),L.factory("C3o",Ie,["b1c"]),L.service("p3p",Le,["s3s","c3q","b1b","r18","c3a"]),L.service("c3q",Fe,["s3w","d1e","c3t","f38"]),L.service("c3r",qe,["s3w"]),L.service("s3s",Ge,["c3r"]),L.service("c3t",We),L.service("d3u",vr,["s3w"]),L.service("a3v",sr),L.service("s3w",pr),L.service("m3x",Cr),L.service("m3y",lt,["e3c","m20","p1h","s1g","d2r","R0","U1r","U1z","A1v","L2g","P24","P2f","D26","D21","A28","W29","X25"]),L.service("d1e",dt,["m20","d3u"]),L.service("i3z",at),L.middleware(F,["$4w","e3c"]),L.middleware(q,["$4w","s3w"]),L.middleware(ft,["$4w","b1c","m20","i3z","v19"]),L.middleware(G,["$4w","b1c"]),L.middleware(ct,["$4w","i3z"]),L.middleware(W,["$4w","c3r","p3p"]),L.run("m3y")}).call(this);