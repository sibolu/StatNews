
var HDN={property:"SFC ",site:"sfgate",domain:"sfgate.com",cookieDomain:".sfgate.com",regUrl:"http://www.sfgate.com",regAuthCookie:"chron_user_auth",regDemoCookie:"hc_customize",siteUrl:"http://www.sfgate.com/",imageServer:"http://www.sfgate.com",jskEPBUrl:"http://sfgate.com/profile/",zipcode:"94101",gtvt_partner_id:"8t+JDlhcVc8="};document.domain=HDN.domain;if(window['hearstPlaceAd']===undefined){function hearstPlaceAd(){};}
(function(a,b){function cy(a){return f.isWindow(a)?a:a.nodeType===9?a.defaultView||a.parentWindow:!1}function cv(a){if(!ck[a]){var b=c.body,d=f("<"+a+">").appendTo(b),e=d.css("display");d.remove();if(e==="none"||e===""){cl||(cl=c.createElement("iframe"),cl.frameBorder=cl.width=cl.height=0),b.appendChild(cl);if(!cm||!cl.createElement)cm=(cl.contentWindow||cl.contentDocument).document,cm.write((c.compatMode==="CSS1Compat"?"<!doctype html>":"")+"<html><body>"),cm.close();d=cm.createElement(a),cm.body.appendChild(d),e=f.css(d,"display"),b.removeChild(cl)}ck[a]=e}return ck[a]}function cu(a,b){var c={};f.each(cq.concat.apply([],cq.slice(0,b)),function(){c[this]=a});return c}function ct(){cr=b}function cs(){setTimeout(ct,0);return cr=f.now()}function cj(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function ci(){try{return new a.XMLHttpRequest}catch(b){}}function cc(a,c){a.dataFilter&&(c=a.dataFilter(c,a.dataType));var d=a.dataTypes,e={},g,h,i=d.length,j,k=d[0],l,m,n,o,p;for(g=1;g<i;g++){if(g===1)for(h in a.converters)typeof h=="string"&&(e[h.toLowerCase()]=a.converters[h]);l=k,k=d[g];if(k==="*")k=l;else if(l!=="*"&&l!==k){m=l+" "+k,n=e[m]||e["* "+k];if(!n){p=b;for(o in e){j=o.split(" ");if(j[0]===l||j[0]==="*"){p=e[j[1]+" "+k];if(p){o=e[o],o===!0?n=p:p===!0&&(n=o);break}}}}!n&&!p&&f.error("No conversion from "+m.replace(" "," to ")),n!==!0&&(c=n?n(c):p(o(c)))}}return c}function cb(a,c,d){var e=a.contents,f=a.dataTypes,g=a.responseFields,h,i,j,k;for(i in g)i in d&&(c[g[i]]=d[i]);while(f[0]==="*")f.shift(),h===b&&(h=a.mimeType||c.getResponseHeader("content-type"));if(h)for(i in e)if(e[i]&&e[i].test(h)){f.unshift(i);break}if(f[0]in d)j=f[0];else{for(i in d){if(!f[0]||a.converters[i+" "+f[0]]){j=i;break}k||(k=i)}j=j||k}if(j){j!==f[0]&&f.unshift(j);return d[j]}}function ca(a,b,c,d){if(f.isArray(b))f.each(b,function(b,e){c||bE.test(a)?d(a,e):ca(a+"["+(typeof e=="object"||f.isArray(e)?b:"")+"]",e,c,d)});else if(!c&&b!=null&&typeof b=="object")for(var e in b)ca(a+"["+e+"]",b[e],c,d);else d(a,b)}function b_(a,c){var d,e,g=f.ajaxSettings.flatOptions||{};for(d in c)c[d]!==b&&((g[d]?a:e||(e={}))[d]=c[d]);e&&f.extend(!0,a,e)}function b$(a,c,d,e,f,g){f=f||c.dataTypes[0],g=g||{},g[f]=!0;var h=a[f],i=0,j=h?h.length:0,k=a===bT,l;for(;i<j&&(k||!l);i++)l=h[i](c,d,e),typeof l=="string"&&(!k||g[l]?l=b:(c.dataTypes.unshift(l),l=b$(a,c,d,e,l,g)));(k||!l)&&!g["*"]&&(l=b$(a,c,d,e,"*",g));return l}function bZ(a){return function(b,c){typeof b!="string"&&(c=b,b="*");if(f.isFunction(c)){var d=b.toLowerCase().split(bP),e=0,g=d.length,h,i,j;for(;e<g;e++)h=d[e],j=/^\+/.test(h),j&&(h=h.substr(1)||"*"),i=a[h]=a[h]||[],i[j?"unshift":"push"](c)}}}function bC(a,b,c){var d=b==="width"?a.offsetWidth:a.offsetHeight,e=b==="width"?bx:by,g=0,h=e.length;if(d>0){if(c!=="border")for(;g<h;g++)c||(d-=parseFloat(f.css(a,"padding"+e[g]))||0),c==="margin"?d+=parseFloat(f.css(a,c+e[g]))||0:d-=parseFloat(f.css(a,"border"+e[g]+"Width"))||0;return d+"px"}d=bz(a,b,b);if(d<0||d==null)d=a.style[b]||0;d=parseFloat(d)||0;if(c)for(;g<h;g++)d+=parseFloat(f.css(a,"padding"+e[g]))||0,c!=="padding"&&(d+=parseFloat(f.css(a,"border"+e[g]+"Width"))||0),c==="margin"&&(d+=parseFloat(f.css(a,c+e[g]))||0);return d+"px"}function bp(a,b){b.src?f.ajax({url:b.src,async:!1,dataType:"script"}):f.globalEval((b.text||b.textContent||b.innerHTML||"").replace(bf,"/*$0*/")),b.parentNode&&b.parentNode.removeChild(b)}function bo(a){var b=c.createElement("div");bh.appendChild(b),b.innerHTML=a.outerHTML;return b.firstChild}function bn(a){var b=(a.nodeName||"").toLowerCase();b==="input"?bm(a):b!=="script"&&typeof a.getElementsByTagName!="undefined"&&f.grep(a.getElementsByTagName("input"),bm)}function bm(a){if(a.type==="checkbox"||a.type==="radio")a.defaultChecked=a.checked}function bl(a){return typeof a.getElementsByTagName!="undefined"?a.getElementsByTagName("*"):typeof a.querySelectorAll!="undefined"?a.querySelectorAll("*"):[]}function bk(a,b){var c;if(b.nodeType===1){b.clearAttributes&&b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),c=b.nodeName.toLowerCase();if(c==="object")b.outerHTML=a.outerHTML;else if(c!=="input"||a.type!=="checkbox"&&a.type!=="radio"){if(c==="option")b.selected=a.defaultSelected;else if(c==="input"||c==="textarea")b.defaultValue=a.defaultValue}else a.checked&&(b.defaultChecked=b.checked=a.checked),b.value!==a.value&&(b.value=a.value);b.removeAttribute(f.expando)}}function bj(a,b){if(b.nodeType===1&&!!f.hasData(a)){var c,d,e,g=f._data(a),h=f._data(b,g),i=g.events;if(i){delete h.handle,h.events={};for(c in i)for(d=0,e=i[c].length;d<e;d++)f.event.add(b,c+(i[c][d].namespace?".":"")+i[c][d].namespace,i[c][d],i[c][d].data)}h.data&&(h.data=f.extend({},h.data))}}function bi(a,b){return f.nodeName(a,"table")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function U(a){var b=V.split("|"),c=a.createDocumentFragment();if(c.createElement)while(b.length)c.createElement(b.pop());return c}function T(a,b,c){b=b||0;if(f.isFunction(b))return f.grep(a,function(a,d){var e=!!b.call(a,d,a);return e===c});if(b.nodeType)return f.grep(a,function(a,d){return a===b===c});if(typeof b=="string"){var d=f.grep(a,function(a){return a.nodeType===1});if(O.test(b))return f.filter(b,d,!c);b=f.filter(b,d)}return f.grep(a,function(a,d){return f.inArray(a,b)>=0===c})}function S(a){return!a||!a.parentNode||a.parentNode.nodeType===11}function K(){return!0}function J(){return!1}function n(a,b,c){var d=b+"defer",e=b+"queue",g=b+"mark",h=f._data(a,d);h&&(c==="queue"||!f._data(a,e))&&(c==="mark"||!f._data(a,g))&&setTimeout(function(){!f._data(a,e)&&!f._data(a,g)&&(f.removeData(a,d,!0),h.fire())},0)}function m(a){for(var b in a){if(b==="data"&&f.isEmptyObject(a[b]))continue;if(b!=="toJSON")return!1}return!0}function l(a,c,d){if(d===b&&a.nodeType===1){var e="data-"+c.replace(k,"-$1").toLowerCase();d=a.getAttribute(e);if(typeof d=="string"){try{d=d==="true"?!0:d==="false"?!1:d==="null"?null:f.isNumeric(d)?parseFloat(d):j.test(d)?f.parseJSON(d):d}catch(g){}f.data(a,c,d)}else d=b}return d}function h(a){var b=g[a]={},c,d;a=a.split(/\s+/);for(c=0,d=a.length;c<d;c++)b[a[c]]=!0;return b}var c=a.document,d=a.navigator,e=a.location,f=function(){function J(){if(!e.isReady){try{c.documentElement.doScroll("left")}catch(a){setTimeout(J,1);return}e.ready()}}var e=function(a,b){return new e.fn.init(a,b,h)},f=a.jQuery,g=a.$,h,i=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,j=/\S/,k=/^\s+/,l=/\s+$/,m=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,n=/^[\],:{}\s]*$/,o=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,p=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,q=/(?:^|:|,)(?:\s*\[)+/g,r=/(webkit)[ \/]([\w.]+)/,s=/(opera)(?:.*version)?[ \/]([\w.]+)/,t=/(msie) ([\w.]+)/,u=/(mozilla)(?:.*? rv:([\w.]+))?/,v=/-([a-z]|[0-9])/ig,w=/^-ms-/,x=function(a,b){return(b+"").toUpperCase()},y=d.userAgent,z,A,B,C=Object.prototype.toString,D=Object.prototype.hasOwnProperty,E=Array.prototype.push,F=Array.prototype.slice,G=String.prototype.trim,H=Array.prototype.indexOf,I={};e.fn=e.prototype={constructor:e,init:function(a,d,f){var g,h,j,k;if(!a)return this;if(a.nodeType){this.context=this[0]=a,this.length=1;return this}if(a==="body"&&!d&&c.body){this.context=c,this[0]=c.body,this.selector=a,this.length=1;return this}if(typeof a=="string"){a.charAt(0)!=="<"||a.charAt(a.length-1)!==">"||a.length<3?g=i.exec(a):g=[null,a,null];if(g&&(g[1]||!d)){if(g[1]){d=d instanceof e?d[0]:d,k=d?d.ownerDocument||d:c,j=m.exec(a),j?e.isPlainObject(d)?(a=[c.createElement(j[1])],e.fn.attr.call(a,d,!0)):a=[k.createElement(j[1])]:(j=e.buildFragment([g[1]],[k]),a=(j.cacheable?e.clone(j.fragment):j.fragment).childNodes);return e.merge(this,a)}h=c.getElementById(g[2]);if(h&&h.parentNode){if(h.id!==g[2])return f.find(a);this.length=1,this[0]=h}this.context=c,this.selector=a;return this}return!d||d.jquery?(d||f).find(a):this.constructor(d).find(a)}if(e.isFunction(a))return f.ready(a);a.selector!==b&&(this.selector=a.selector,this.context=a.context);return e.makeArray(a,this)},selector:"",jquery:"1.7.1",length:0,size:function(){return this.length},toArray:function(){return F.call(this,0)},get:function(a){return a==null?this.toArray():a<0?this[this.length+a]:this[a]},pushStack:function(a,b,c){var d=this.constructor();e.isArray(a)?E.apply(d,a):e.merge(d,a),d.prevObject=this,d.context=this.context,b==="find"?d.selector=this.selector+(this.selector?" ":"")+c:b&&(d.selector=this.selector+"."+b+"("+c+")");return d},each:function(a,b){return e.each(this,a,b)},ready:function(a){e.bindReady(),A.add(a);return this},eq:function(a){a=+a;return a===-1?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(F.apply(this,arguments),"slice",F.call(arguments).join(","))},map:function(a){return this.pushStack(e.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:E,sort:[].sort,splice:[].splice},e.fn.init.prototype=e.fn,e.extend=e.fn.extend=function(){var a,c,d,f,g,h,i=arguments[0]||{},j=1,k=arguments.length,l=!1;typeof i=="boolean"&&(l=i,i=arguments[1]||{},j=2),typeof i!="object"&&!e.isFunction(i)&&(i={}),k===j&&(i=this,--j);for(;j<k;j++)if((a=arguments[j])!=null)for(c in a){d=i[c],f=a[c];if(i===f)continue;l&&f&&(e.isPlainObject(f)||(g=e.isArray(f)))?(g?(g=!1,h=d&&e.isArray(d)?d:[]):h=d&&e.isPlainObject(d)?d:{},i[c]=e.extend(l,h,f)):f!==b&&(i[c]=f)}return i},e.extend({noConflict:function(b){a.$===e&&(a.$=g),b&&a.jQuery===e&&(a.jQuery=f);return e},isReady:!1,readyWait:1,holdReady:function(a){a?e.readyWait++:e.ready(!0)},ready:function(a){if(a===!0&&!--e.readyWait||a!==!0&&!e.isReady){if(!c.body)return setTimeout(e.ready,1);e.isReady=!0;if(a!==!0&&--e.readyWait>0)return;A.fireWith(c,[e]),e.fn.trigger&&e(c).trigger("ready").off("ready")}},bindReady:function(){if(!A){A=e.Callbacks("once memory");if(c.readyState==="complete")return setTimeout(e.ready,1);if(c.addEventListener)c.addEventListener("DOMContentLoaded",B,!1),a.addEventListener("load",e.ready,!1);else if(c.attachEvent){c.attachEvent("onreadystatechange",B),a.attachEvent("onload",e.ready);var b=!1;try{b=a.frameElement==null}catch(d){}c.documentElement.doScroll&&b&&J()}}},isFunction:function(a){return e.type(a)==="function"},isArray:Array.isArray||function(a){return e.type(a)==="array"},isWindow:function(a){return a&&typeof a=="object"&&"setInterval"in a},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return a==null?String(a):I[C.call(a)]||"object"},isPlainObject:function(a){if(!a||e.type(a)!=="object"||a.nodeType||e.isWindow(a))return!1;try{if(a.constructor&&!D.call(a,"constructor")&&!D.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}var d;for(d in a);return d===b||D.call(a,d)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw new Error(a)},parseJSON:function(b){if(typeof b!="string"||!b)return null;b=e.trim(b);if(a.JSON&&a.JSON.parse)return a.JSON.parse(b);if(n.test(b.replace(o,"@").replace(p,"]").replace(q,"")))return(new Function("return "+b))();e.error("Invalid JSON: "+b)},parseXML:function(c){var d,f;try{a.DOMParser?(f=new DOMParser,d=f.parseFromString(c,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(c))}catch(g){d=b}(!d||!d.documentElement||d.getElementsByTagName("parsererror").length)&&e.error("Invalid XML: "+c);return d},noop:function(){},globalEval:function(b){b&&j.test(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(w,"ms-").replace(v,x)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},each:function(a,c,d){var f,g=0,h=a.length,i=h===b||e.isFunction(a);if(d){if(i){for(f in a)if(c.apply(a[f],d)===!1)break}else for(;g<h;)if(c.apply(a[g++],d)===!1)break}else if(i){for(f in a)if(c.call(a[f],f,a[f])===!1)break}else for(;g<h;)if(c.call(a[g],g,a[g++])===!1)break;return a},trim:G?function(a){return a==null?"":G.call(a)}:function(a){return a==null?"":(a+"").replace(k,"").replace(l,"")},makeArray:function(a,b){var c=b||[];if(a!=null){var d=e.type(a);a.length==null||d==="string"||d==="function"||d==="regexp"||e.isWindow(a)?E.call(c,a):e.merge(c,a)}return c},inArray:function(a,b,c){var d;if(b){if(H)return H.call(b,a,c);d=b.length,c=c?c<0?Math.max(0,d+c):c:0;for(;c<d;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,c){var d=a.length,e=0;if(typeof c.length=="number")for(var f=c.length;e<f;e++)a[d++]=c[e];else while(c[e]!==b)a[d++]=c[e++];a.length=d;return a},grep:function(a,b,c){var d=[],e;c=!!c;for(var f=0,g=a.length;f<g;f++)e=!!b(a[f],f),c!==e&&d.push(a[f]);return d},map:function(a,c,d){var f,g,h=[],i=0,j=a.length,k=a instanceof e||j!==b&&typeof j=="number"&&(j>0&&a[0]&&a[j-1]||j===0||e.isArray(a));if(k)for(;i<j;i++)f=c(a[i],i,d),f!=null&&(h[h.length]=f);else for(g in a)f=c(a[g],g,d),f!=null&&(h[h.length]=f);return h.concat.apply([],h)},guid:1,proxy:function(a,c){if(typeof c=="string"){var d=a[c];c=a,a=d}if(!e.isFunction(a))return b;var f=F.call(arguments,2),g=function(){return a.apply(c,f.concat(F.call(arguments)))};g.guid=a.guid=a.guid||g.guid||e.guid++;return g},access:function(a,c,d,f,g,h){var i=a.length;if(typeof c=="object"){for(var j in c)e.access(a,j,c[j],f,g,d);return a}if(d!==b){f=!h&&f&&e.isFunction(d);for(var k=0;k<i;k++)g(a[k],c,f?d.call(a[k],k,g(a[k],c)):d,h);return a}return i?g(a[0],c):b},now:function(){return(new Date).getTime()},uaMatch:function(a){a=a.toLowerCase();var b=r.exec(a)||s.exec(a)||t.exec(a)||a.indexOf("compatible")<0&&u.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},sub:function(){function a(b,c){return new a.fn.init(b,c)}e.extend(!0,a,this),a.superclass=this,a.fn=a.prototype=this(),a.fn.constructor=a,a.sub=this.sub,a.fn.init=function(d,f){f&&f instanceof e&&!(f instanceof a)&&(f=a(f));return e.fn.init.call(this,d,f,b)},a.fn.init.prototype=a.fn;var b=a(c);return a},browser:{}}),e.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){I["[object "+b+"]"]=b.toLowerCase()}),z=e.uaMatch(y),z.browser&&(e.browser[z.browser]=!0,e.browser.version=z.version),e.browser.webkit&&(e.browser.safari=!0),j.test(" ")&&(k=/^[\s\xA0]+/,l=/[\s\xA0]+$/),h=e(c),c.addEventListener?B=function(){c.removeEventListener("DOMContentLoaded",B,!1),e.ready()}:c.attachEvent&&(B=function(){c.readyState==="complete"&&(c.detachEvent("onreadystatechange",B),e.ready())});return e}(),g={};f.Callbacks=function(a){a=a?g[a]||h(a):{};var c=[],d=[],e,i,j,k,l,m=function(b){var d,e,g,h,i;for(d=0,e=b.length;d<e;d++)g=b[d],h=f.type(g),h==="array"?m(g):h==="function"&&(!a.unique||!o.has(g))&&c.push(g)},n=function(b,f){f=f||[],e=!a.memory||[b,f],i=!0,l=j||0,j=0,k=c.length;for(;c&&l<k;l++)if(c[l].apply(b,f)===!1&&a.stopOnFalse){e=!0;break}i=!1,c&&(a.once?e===!0?o.disable():c=[]:d&&d.length&&(e=d.shift(),o.fireWith(e[0],e[1])))},o={add:function(){if(c){var a=c.length;m(arguments),i?k=c.length:e&&e!==!0&&(j=a,n(e[0],e[1]))}return this},remove:function(){if(c){var b=arguments,d=0,e=b.length;for(;d<e;d++)for(var f=0;f<c.length;f++)if(b[d]===c[f]){i&&f<=k&&(k--,f<=l&&l--),c.splice(f--,1);if(a.unique)break}}return this},has:function(a){if(c){var b=0,d=c.length;for(;b<d;b++)if(a===c[b])return!0}return!1},empty:function(){c=[];return this},disable:function(){c=d=e=b;return this},disabled:function(){return!c},lock:function(){d=b,(!e||e===!0)&&o.disable();return this},locked:function(){return!d},fireWith:function(b,c){d&&(i?a.once||d.push([b,c]):(!a.once||!e)&&n(b,c));return this},fire:function(){o.fireWith(this,arguments);return this},fired:function(){return!!e}};return o};var i=[].slice;f.extend({Deferred:function(a){var b=f.Callbacks("once memory"),c=f.Callbacks("once memory"),d=f.Callbacks("memory"),e="pending",g={resolve:b,reject:c,notify:d},h={done:b.add,fail:c.add,progress:d.add,state:function(){return e},isResolved:b.fired,isRejected:c.fired,then:function(a,b,c){i.done(a).fail(b).progress(c);return this},always:function(){i.done.apply(i,arguments).fail.apply(i,arguments);return this},pipe:function(a,b,c){return f.Deferred(function(d){f.each({done:[a,"resolve"],fail:[b,"reject"],progress:[c,"notify"]},function(a,b){var c=b[0],e=b[1],g;f.isFunction(c)?i[a](function(){g=c.apply(this,arguments),g&&f.isFunction(g.promise)?g.promise().then(d.resolve,d.reject,d.notify):d[e+"With"](this===i?d:this,[g])}):i[a](d[e])})}).promise()},promise:function(a){if(a==null)a=h;else for(var b in h)a[b]=h[b];return a}},i=h.promise({}),j;for(j in g)i[j]=g[j].fire,i[j+"With"]=g[j].fireWith;i.done(function(){e="resolved"},c.disable,d.lock).fail(function(){e="rejected"},b.disable,d.lock),a&&a.call(i,i);return i},when:function(a){function m(a){return function(b){e[a]=arguments.length>1?i.call(arguments,0):b,j.notifyWith(k,e)}}function l(a){return function(c){b[a]=arguments.length>1?i.call(arguments,0):c,--g||j.resolveWith(j,b)}}var b=i.call(arguments,0),c=0,d=b.length,e=Array(d),g=d,h=d,j=d<=1&&a&&f.isFunction(a.promise)?a:f.Deferred(),k=j.promise();if(d>1){for(;c<d;c++)b[c]&&b[c].promise&&f.isFunction(b[c].promise)?b[c].promise().then(l(c),j.reject,m(c)):--g;g||j.resolveWith(j,b)}else j!==a&&j.resolveWith(j,d?[a]:[]);return k}}),f.support=function(){var b,d,e,g,h,i,j,k,l,m,n,o,p,q=c.createElement("div"),r=c.documentElement;q.setAttribute("className","t"),q.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",d=q.getElementsByTagName("*"),e=q.getElementsByTagName("a")[0];if(!d||!d.length||!e)return{};g=c.createElement("select"),h=g.appendChild(c.createElement("option")),i=q.getElementsByTagName("input")[0],b={leadingWhitespace:q.firstChild.nodeType===3,tbody:!q.getElementsByTagName("tbody").length,htmlSerialize:!!q.getElementsByTagName("link").length,style:/top/.test(e.getAttribute("style")),hrefNormalized:e.getAttribute("href")==="/a",opacity:/^0.55/.test(e.style.opacity),cssFloat:!!e.style.cssFloat,checkOn:i.value==="on",optSelected:h.selected,getSetAttribute:q.className!=="t",enctype:!!c.createElement("form").enctype,html5Clone:c.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0},i.checked=!0,b.noCloneChecked=i.cloneNode(!0).checked,g.disabled=!0,b.optDisabled=!h.disabled;try{delete q.test}catch(s){b.deleteExpando=!1}!q.addEventListener&&q.attachEvent&&q.fireEvent&&(q.attachEvent("onclick",function(){b.noCloneEvent=!1}),q.cloneNode(!0).fireEvent("onclick")),i=c.createElement("input"),i.value="t",i.setAttribute("type","radio"),b.radioValue=i.value==="t",i.setAttribute("checked","checked"),q.appendChild(i),k=c.createDocumentFragment(),k.appendChild(q.lastChild),b.checkClone=k.cloneNode(!0).cloneNode(!0).lastChild.checked,b.appendChecked=i.checked,k.removeChild(i),k.appendChild(q),q.innerHTML="",a.getComputedStyle&&(j=c.createElement("div"),j.style.width="0",j.style.marginRight="0",q.style.width="2px",q.appendChild(j),b.reliableMarginRight=(parseInt((a.getComputedStyle(j,null)||{marginRight:0}).marginRight,10)||0)===0);if(q.attachEvent)for(o in{submit:1,change:1,focusin:1})n="on"+o,p=n in q,p||(q.setAttribute(n,"return;"),p=typeof q[n]=="function"),b[o+"Bubbles"]=p;k.removeChild(q),k=g=h=j=q=i=null,f(function(){var a,d,e,g,h,i,j,k,m,n,o,r=c.getElementsByTagName("body")[0];!r||(j=1,k="position:absolute;top:0;left:0;width:1px;height:1px;margin:0;",m="visibility:hidden;border:0;",n="style='"+k+"border:5px solid #000;padding:0;'",o="<div "+n+"><div></div></div>"+"<table "+n+" cellpadding='0' cellspacing='0'>"+"<tr><td></td></tr></table>",a=c.createElement("div"),a.style.cssText=m+"width:0;height:0;position:static;top:0;margin-top:"+j+"px",r.insertBefore(a,r.firstChild),q=c.createElement("div"),a.appendChild(q),q.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>",l=q.getElementsByTagName("td"),p=l[0].offsetHeight===0,l[0].style.display="",l[1].style.display="none",b.reliableHiddenOffsets=p&&l[0].offsetHeight===0,q.innerHTML="",q.style.width=q.style.paddingLeft="1px",f.boxModel=b.boxModel=q.offsetWidth===2,typeof q.style.zoom!="undefined"&&(q.style.display="inline",q.style.zoom=1,b.inlineBlockNeedsLayout=q.offsetWidth===2,q.style.display="",q.innerHTML="<div style='width:4px;'></div>",b.shrinkWrapBlocks=q.offsetWidth!==2),q.style.cssText=k+m,q.innerHTML=o,d=q.firstChild,e=d.firstChild,h=d.nextSibling.firstChild.firstChild,i={doesNotAddBorder:e.offsetTop!==5,doesAddBorderForTableAndCells:h.offsetTop===5},e.style.position="fixed",e.style.top="20px",i.fixedPosition=e.offsetTop===20||e.offsetTop===15,e.style.position=e.style.top="",d.style.overflow="hidden",d.style.position="relative",i.subtractsBorderForOverflowNotVisible=e.offsetTop===-5,i.doesNotIncludeMarginInBodyOffset=r.offsetTop!==j,r.removeChild(a),q=a=null,f.extend(b,i))});return b}();var j=/^(?:\{.*\}|\[.*\])$/,k=/([A-Z])/g;f.extend({cache:{},uuid:0,expando:"jQuery"+(f.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){a=a.nodeType?f.cache[a[f.expando]]:a[f.expando];return!!a&&!m(a)},data:function(a,c,d,e){if(!!f.acceptData(a)){var g,h,i,j=f.expando,k=typeof c=="string",l=a.nodeType,m=l?f.cache:a,n=l?a[j]:a[j]&&j,o=c==="events";if((!n||!m[n]||!o&&!e&&!m[n].data)&&k&&d===b)return;n||(l?a[j]=n=++f.uuid:n=j),m[n]||(m[n]={},l||(m[n].toJSON=f.noop));if(typeof c=="object"||typeof c=="function")e?m[n]=f.extend(m[n],c):m[n].data=f.extend(m[n].data,c);g=h=m[n],e||(h.data||(h.data={}),h=h.data),d!==b&&(h[f.camelCase(c)]=d);if(o&&!h[c])return g.events;k?(i=h[c],i==null&&(i=h[f.camelCase(c)])):i=h;return i}},removeData:function(a,b,c){if(!!f.acceptData(a)){var d,e,g,h=f.expando,i=a.nodeType,j=i?f.cache:a,k=i?a[h]:h;if(!j[k])return;if(b){d=c?j[k]:j[k].data;if(d){f.isArray(b)||(b in d?b=[b]:(b=f.camelCase(b),b in d?b=[b]:b=b.split(" ")));for(e=0,g=b.length;e<g;e++)delete d[b[e]];if(!(c?m:f.isEmptyObject)(d))return}}if(!c){delete j[k].data;if(!m(j[k]))return}f.support.deleteExpando||!j.setInterval?delete j[k]:j[k]=null,i&&(f.support.deleteExpando?delete a[h]:a.removeAttribute?a.removeAttribute(h):a[h]=null)}},_data:function(a,b,c){return f.data(a,b,c,!0)},acceptData:function(a){if(a.nodeName){var b=f.noData[a.nodeName.toLowerCase()];if(b)return b!==!0&&a.getAttribute("classid")===b}return!0}}),f.fn.extend({data:function(a,c){var d,e,g,h=null;if(typeof a=="undefined"){if(this.length){h=f.data(this[0]);if(this[0].nodeType===1&&!f._data(this[0],"parsedAttrs")){e=this[0].attributes;for(var i=0,j=e.length;i<j;i++)g=e[i].name,g.indexOf("data-")===0&&(g=f.camelCase(g.substring(5)),l(this[0],g,h[g]));f._data(this[0],"parsedAttrs",!0)}}return h}if(typeof a=="object")return this.each(function(){f.data(this,a)});d=a.split("."),d[1]=d[1]?"."+d[1]:"";if(c===b){h=this.triggerHandler("getData"+d[1]+"!",[d[0]]),h===b&&this.length&&(h=f.data(this[0],a),h=l(this[0],a,h));return h===b&&d[1]?this.data(d[0]):h}return this.each(function(){var b=f(this),e=[d[0],c];b.triggerHandler("setData"+d[1]+"!",e),f.data(this,a,c),b.triggerHandler("changeData"+d[1]+"!",e)})},removeData:function(a){return this.each(function(){f.removeData(this,a)})}}),f.extend({_mark:function(a,b){a&&(b=(b||"fx")+"mark",f._data(a,b,(f._data(a,b)||0)+1))},_unmark:function(a,b,c){a!==!0&&(c=b,b=a,a=!1);if(b){c=c||"fx";var d=c+"mark",e=a?0:(f._data(b,d)||1)-1;e?f._data(b,d,e):(f.removeData(b,d,!0),n(b,c,"mark"))}},queue:function(a,b,c){var d;if(a){b=(b||"fx")+"queue",d=f._data(a,b),c&&(!d||f.isArray(c)?d=f._data(a,b,f.makeArray(c)):d.push(c));return d||[]}},dequeue:function(a,b){b=b||"fx";var c=f.queue(a,b),d=c.shift(),e={};d==="inprogress"&&(d=c.shift()),d&&(b==="fx"&&c.unshift("inprogress"),f._data(a,b+".run",e),d.call(a,function(){f.dequeue(a,b)},e)),c.length||(f.removeData(a,b+"queue "+b+".run",!0),n(a,b,"queue"))}}),f.fn.extend({queue:function(a,c){typeof a!="string"&&(c=a,a="fx");if(c===b)return f.queue(this[0],a);return this.each(function(){var b=f.queue(this,a,c);a==="fx"&&b[0]!=="inprogress"&&f.dequeue(this,a)})},dequeue:function(a){return this.each(function(){f.dequeue(this,a)})},delay:function(a,b){a=f.fx?f.fx.speeds[a]||a:a,b=b||"fx";return this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){function m(){--h||d.resolveWith(e,[e])}typeof a!="string"&&(c=a,a=b),a=a||"fx";var d=f.Deferred(),e=this,g=e.length,h=1,i=a+"defer",j=a+"queue",k=a+"mark",l;while(g--)if(l=f.data(e[g],i,b,!0)||(f.data(e[g],j,b,!0)||f.data(e[g],k,b,!0))&&f.data(e[g],i,f.Callbacks("once memory"),!0))h++,l.add(m);m();return d.promise()}});var o=/[\n\t\r]/g,p=/\s+/,q=/\r/g,r=/^(?:button|input)$/i,s=/^(?:button|input|object|select|textarea)$/i,t=/^a(?:rea)?$/i,u=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,v=f.support.getSetAttribute,w,x,y;f.fn.extend({attr:function(a,b){return f.access(this,a,b,!0,f.attr)},removeAttr:function(a){return this.each(function(){f.removeAttr(this,a)})},prop:function(a,b){return f.access(this,a,b,!0,f.prop)},removeProp:function(a){a=f.propFix[a]||a;return this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,e,g,h,i;if(f.isFunction(a))return this.each(function(b){f(this).addClass(a.call(this,b,this.className))});if(a&&typeof a=="string"){b=a.split(p);for(c=0,d=this.length;c<d;c++){e=this[c];if(e.nodeType===1)if(!e.className&&b.length===1)e.className=a;else{g=" "+e.className+" ";for(h=0,i=b.length;h<i;h++)~g.indexOf(" "+b[h]+" ")||(g+=b[h]+" ");e.className=f.trim(g)}}}return this},removeClass:function(a){var c,d,e,g,h,i,j;if(f.isFunction(a))return this.each(function(b){f(this).removeClass(a.call(this,b,this.className))});if(a&&typeof a=="string"||a===b){c=(a||"").split(p);for(d=0,e=this.length;d<e;d++){g=this[d];if(g.nodeType===1&&g.className)if(a){h=(" "+g.className+" ").replace(o," ");for(i=0,j=c.length;i<j;i++)h=h.replace(" "+c[i]+" "," ");g.className=f.trim(h)}else g.className=""}}return this},toggleClass:function(a,b){var c=typeof a,d=typeof b=="boolean";if(f.isFunction(a))return this.each(function(c){f(this).toggleClass(a.call(this,c,this.className,b),b)});return this.each(function(){if(c==="string"){var e,g=0,h=f(this),i=b,j=a.split(p);while(e=j[g++])i=d?i:!h.hasClass(e),h[i?"addClass":"removeClass"](e)}else if(c==="undefined"||c==="boolean")this.className&&f._data(this,"__className__",this.className),this.className=this.className||a===!1?"":f._data(this,"__className__")||""})},hasClass:function(a){var b=" "+a+" ",c=0,d=this.length;for(;c<d;c++)if(this[c].nodeType===1&&(" "+this[c].className+" ").replace(o," ").indexOf(b)>-1)return!0;return!1},val:function(a){var c,d,e,g=this[0];{if(!!arguments.length){e=f.isFunction(a);return this.each(function(d){var g=f(this),h;if(this.nodeType===1){e?h=a.call(this,d,g.val()):h=a,h==null?h="":typeof h=="number"?h+="":f.isArray(h)&&(h=f.map(h,function(a){return a==null?"":a+""})),c=f.valHooks[this.nodeName.toLowerCase()]||f.valHooks[this.type];if(!c||!("set"in c)||c.set(this,h,"value")===b)this.value=h}})}if(g){c=f.valHooks[g.nodeName.toLowerCase()]||f.valHooks[g.type];if(c&&"get"in c&&(d=c.get(g,"value"))!==b)return d;d=g.value;return typeof d=="string"?d.replace(q,""):d==null?"":d}}}}),f.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,c,d,e,g=a.selectedIndex,h=[],i=a.options,j=a.type==="select-one";if(g<0)return null;c=j?g:0,d=j?g+1:i.length;for(;c<d;c++){e=i[c];if(e.selected&&(f.support.optDisabled?!e.disabled:e.getAttribute("disabled")===null)&&(!e.parentNode.disabled||!f.nodeName(e.parentNode,"optgroup"))){b=f(e).val();if(j)return b;h.push(b)}}if(j&&!h.length&&i.length)return f(i[g]).val();return h},set:function(a,b){var c=f.makeArray(b);f(a).find("option").each(function(){this.selected=f.inArray(f(this).val(),c)>=0}),c.length||(a.selectedIndex=-1);return c}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(a,c,d,e){var g,h,i,j=a.nodeType;if(!!a&&j!==3&&j!==8&&j!==2){if(e&&c in f.attrFn)return f(a)[c](d);if(typeof a.getAttribute=="undefined")return f.prop(a,c,d);i=j!==1||!f.isXMLDoc(a),i&&(c=c.toLowerCase(),h=f.attrHooks[c]||(u.test(c)?x:w));if(d!==b){if(d===null){f.removeAttr(a,c);return}if(h&&"set"in h&&i&&(g=h.set(a,d,c))!==b)return g;a.setAttribute(c,""+d);return d}if(h&&"get"in h&&i&&(g=h.get(a,c))!==null)return g;g=a.getAttribute(c);return g===null?b:g}},removeAttr:function(a,b){var c,d,e,g,h=0;if(b&&a.nodeType===1){d=b.toLowerCase().split(p),g=d.length;for(;h<g;h++)e=d[h],e&&(c=f.propFix[e]||e,f.attr(a,e,""),a.removeAttribute(v?e:c),u.test(e)&&c in a&&(a[c]=!1))}},attrHooks:{type:{set:function(a,b){if(r.test(a.nodeName)&&a.parentNode)f.error("type property can't be changed");else if(!f.support.radioValue&&b==="radio"&&f.nodeName(a,"input")){var c=a.value;a.setAttribute("type",b),c&&(a.value=c);return b}}},value:{get:function(a,b){if(w&&f.nodeName(a,"button"))return w.get(a,b);return b in a?a.value:null},set:function(a,b,c){if(w&&f.nodeName(a,"button"))return w.set(a,b,c);a.value=b}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,c,d){var e,g,h,i=a.nodeType;if(!!a&&i!==3&&i!==8&&i!==2){h=i!==1||!f.isXMLDoc(a),h&&(c=f.propFix[c]||c,g=f.propHooks[c]);return d!==b?g&&"set"in g&&(e=g.set(a,d,c))!==b?e:a[c]=d:g&&"get"in g&&(e=g.get(a,c))!==null?e:a[c]}},propHooks:{tabIndex:{get:function(a){var c=a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):s.test(a.nodeName)||t.test(a.nodeName)&&a.href?0:b}}}}),f.attrHooks.tabindex=f.propHooks.tabIndex,x={get:function(a,c){var d,e=f.prop(a,c);return e===!0||typeof e!="boolean"&&(d=a.getAttributeNode(c))&&d.nodeValue!==!1?c.toLowerCase():b},set:function(a,b,c){var d;b===!1?f.removeAttr(a,c):(d=f.propFix[c]||c,d in a&&(a[d]=!0),a.setAttribute(c,c.toLowerCase()));return c}},v||(y={name:!0,id:!0},w=f.valHooks.button={get:function(a,c){var d;d=a.getAttributeNode(c);return d&&(y[c]?d.nodeValue!=="":d.specified)?d.nodeValue:b},set:function(a,b,d){var e=a.getAttributeNode(d);e||(e=c.createAttribute(d),a.setAttributeNode(e));return e.nodeValue=b+""}},f.attrHooks.tabindex.set=w.set,f.each(["width","height"],function(a,b){f.attrHooks[b]=f.extend(f.attrHooks[b],{set:function(a,c){if(c===""){a.setAttribute(b,"auto");return c}}})}),f.attrHooks.contenteditable={get:w.get,set:function(a,b,c){b===""&&(b="false"),w.set(a,b,c)}}),f.support.hrefNormalized||f.each(["href","src","width","height"],function(a,c){f.attrHooks[c]=f.extend(f.attrHooks[c],{get:function(a){var d=a.getAttribute(c,2);return d===null?b:d}})}),f.support.style||(f.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||b},set:function(a,b){return a.style.cssText=""+b}}),f.support.optSelected||(f.propHooks.selected=f.extend(f.propHooks.selected,{get:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex);return null}})),f.support.enctype||(f.propFix.enctype="encoding"),f.support.checkOn||f.each(["radio","checkbox"],function(){f.valHooks[this]={get:function(a){return a.getAttribute("value")===null?"on":a.value}}}),f.each(["radio","checkbox"],function(){f.valHooks[this]=f.extend(f.valHooks[this],{set:function(a,b){if(f.isArray(b))return a.checked=f.inArray(f(a).val(),b)>=0}})});var z=/^(?:textarea|input|select)$/i,A=/^([^\.]*)?(?:\.(.+))?$/,B=/\bhover(\.\S+)?\b/,C=/^key/,D=/^(?:mouse|contextmenu)|click/,E=/^(?:focusinfocus|focusoutblur)$/,F=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,G=function(a){var b=F.exec(a);b&&(b[1]=(b[1]||"").toLowerCase(),b[3]=b[3]&&new RegExp("(?:^|\\s)"+b[3]+"(?:\\s|$)"));return b},H=function(a,b){var c=a.attributes||{};return(!b[1]||a.nodeName.toLowerCase()===b[1])&&(!b[2]||(c.id||{}).value===b[2])&&(!b[3]||b[3].test((c["class"]||{}).value))},I=function(a){return f.event.special.hover?a:a.replace(B,"mouseenter$1 mouseleave$1")};f.event={add:function(a,c,d,e,g){var h,i,j,k,l,m,n,o,p,q,r,s;if(!(a.nodeType===3||a.nodeType===8||!c||!d||!(h=f._data(a)))){d.handler&&(p=d,d=p.handler),d.guid||(d.guid=f.guid++),j=h.events,j||(h.events=j={}),i=h.handle,i||(h.handle=i=function(a){return typeof f!="undefined"&&(!a||f.event.triggered!==a.type)?f.event.dispatch.apply(i.elem,arguments):b},i.elem=a),c=f.trim(I(c)).split(" ");for(k=0;k<c.length;k++){l=A.exec(c[k])||[],m=l[1],n=(l[2]||"").split(".").sort(),s=f.event.special[m]||{},m=(g?s.delegateType:s.bindType)||m,s=f.event.special[m]||{},o=f.extend({type:m,origType:l[1],data:e,handler:d,guid:d.guid,selector:g,quick:G(g),namespace:n.join(".")},p),r=j[m];if(!r){r=j[m]=[],r.delegateCount=0;if(!s.setup||s.setup.call(a,e,n,i)===!1)a.addEventListener?a.addEventListener(m,i,!1):a.attachEvent&&a.attachEvent("on"+m,i)}s.add&&(s.add.call(a,o),o.handler.guid||(o.handler.guid=d.guid)),g?r.splice(r.delegateCount++,0,o):r.push(o),f.event.global[m]=!0}a=null}},global:{},remove:function(a,b,c,d,e){var g=f.hasData(a)&&f._data(a),h,i,j,k,l,m,n,o,p,q,r,s;if(!!g&&!!(o=g.events)){b=f.trim(I(b||"")).split(" ");for(h=0;h<b.length;h++){i=A.exec(b[h])||[],j=k=i[1],l=i[2];if(!j){for(j in o)f.event.remove(a,j+b[h],c,d,!0);continue}p=f.event.special[j]||{},j=(d?p.delegateType:p.bindType)||j,r=o[j]||[],m=r.length,l=l?new RegExp("(^|\\.)"+l.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null;for(n=0;n<r.length;n++)s=r[n],(e||k===s.origType)&&(!c||c.guid===s.guid)&&(!l||l.test(s.namespace))&&(!d||d===s.selector||d==="**"&&s.selector)&&(r.splice(n--,1),s.selector&&r.delegateCount--,p.remove&&p.remove.call(a,s));r.length===0&&m!==r.length&&((!p.teardown||p.teardown.call(a,l)===!1)&&f.removeEvent(a,j,g.handle),delete o[j])}f.isEmptyObject(o)&&(q=g.handle,q&&(q.elem=null),f.removeData(a,["events","handle"],!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(c,d,e,g){if(!e||e.nodeType!==3&&e.nodeType!==8){var h=c.type||c,i=[],j,k,l,m,n,o,p,q,r,s;if(E.test(h+f.event.triggered))return;h.indexOf("!")>=0&&(h=h.slice(0,-1),k=!0),h.indexOf(".")>=0&&(i=h.split("."),h=i.shift(),i.sort());if((!e||f.event.customEvent[h])&&!f.event.global[h])return;c=typeof c=="object"?c[f.expando]?c:new f.Event(h,c):new f.Event(h),c.type=h,c.isTrigger=!0,c.exclusive=k,c.namespace=i.join("."),c.namespace_re=c.namespace?new RegExp("(^|\\.)"+i.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,o=h.indexOf(":")<0?"on"+h:"";if(!e){j=f.cache;for(l in j)j[l].events&&j[l].events[h]&&f.event.trigger(c,d,j[l].handle.elem,!0);return}c.result=b,c.target||(c.target=e),d=d!=null?f.makeArray(d):[],d.unshift(c),p=f.event.special[h]||{};if(p.trigger&&p.trigger.apply(e,d)===!1)return;r=[[e,p.bindType||h]];if(!g&&!p.noBubble&&!f.isWindow(e)){s=p.delegateType||h,m=E.test(s+h)?e:e.parentNode,n=null;for(;m;m=m.parentNode)r.push([m,s]),n=m;n&&n===e.ownerDocument&&r.push([n.defaultView||n.parentWindow||a,s])}for(l=0;l<r.length&&!c.isPropagationStopped();l++)m=r[l][0],c.type=r[l][1],q=(f._data(m,"events")||{})[c.type]&&f._data(m,"handle"),q&&q.apply(m,d),q=o&&m[o],q&&f.acceptData(m)&&q.apply(m,d)===!1&&c.preventDefault();c.type=h,!g&&!c.isDefaultPrevented()&&(!p._default||p._default.apply(e.ownerDocument,d)===!1)&&(h!=="click"||!f.nodeName(e,"a"))&&f.acceptData(e)&&o&&e[h]&&(h!=="focus"&&h!=="blur"||c.target.offsetWidth!==0)&&!f.isWindow(e)&&(n=e[o],n&&(e[o]=null),f.event.triggered=h,e[h](),f.event.triggered=b,n&&(e[o]=n));return c.result}},dispatch:function(c){c=f.event.fix(c||a.event);var d=(f._data(this,"events")||{})[c.type]||[],e=d.delegateCount,g=[].slice.call(arguments,0),h=!c.exclusive&&!c.namespace,i=[],j,k,l,m,n,o,p,q,r,s,t;g[0]=c,c.delegateTarget=this;if(e&&!c.target.disabled&&(!c.button||c.type!=="click")){m=f(this),m.context=this.ownerDocument||this;for(l=c.target;l!=this;l=l.parentNode||this){o={},q=[],m[0]=l;for(j=0;j<e;j++)r=d[j],s=r.selector,o[s]===b&&(o[s]=r.quick?H(l,r.quick):m.is(s)),o[s]&&q.push(r);q.length&&i.push({elem:l,matches:q})}}d.length>e&&i.push({elem:this,matches:d.slice(e)});for(j=0;j<i.length&&!c.isPropagationStopped();j++){p=i[j],c.currentTarget=p.elem;for(k=0;k<p.matches.length&&!c.isImmediatePropagationStopped();k++){r=p.matches[k];if(h||!c.namespace&&!r.namespace||c.namespace_re&&c.namespace_re.test(r.namespace))c.data=r.data,c.handleObj=r,n=((f.event.special[r.origType]||{}).handle||r.handler).apply(p.elem,g),n!==b&&(c.result=n,n===!1&&(c.preventDefault(),c.stopPropagation()))}}return c.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){a.which==null&&(a.which=b.charCode!=null?b.charCode:b.keyCode);return a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,d){var e,f,g,h=d.button,i=d.fromElement;a.pageX==null&&d.clientX!=null&&(e=a.target.ownerDocument||c,f=e.documentElement,g=e.body,a.pageX=d.clientX+(f&&f.scrollLeft||g&&g.scrollLeft||0)-(f&&f.clientLeft||g&&g.clientLeft||0),a.pageY=d.clientY+(f&&f.scrollTop||g&&g.scrollTop||0)-(f&&f.clientTop||g&&g.clientTop||0)),!a.relatedTarget&&i&&(a.relatedTarget=i===a.target?d.toElement:i),!a.which&&h!==b&&(a.which=h&1?1:h&2?3:h&4?2:0);return a}},fix:function(a){if(a[f.expando])return a;var d,e,g=a,h=f.event.fixHooks[a.type]||{},i=h.props?this.props.concat(h.props):this.props;a=f.Event(g);for(d=i.length;d;)e=i[--d],a[e]=g[e];a.target||(a.target=g.srcElement||c),a.target.nodeType===3&&(a.target=a.target.parentNode),a.metaKey===b&&(a.metaKey=a.ctrlKey);return h.filter?h.filter(a,g):a},special:{ready:{setup:f.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,c){f.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(a,b,c,d){var e=f.extend(new f.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?f.event.trigger(e,null,b):f.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},f.event.handle=f.event.dispatch,f.removeEvent=c.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent&&a.detachEvent("on"+b,c)},f.Event=function(a,b){if(!(this instanceof f.Event))return new f.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?K:J):this.type=a,b&&f.extend(this,b),this.timeStamp=a&&a.timeStamp||f.now(),this[f.expando]=!0},f.Event.prototype={preventDefault:function(){this.isDefaultPrevented=K;var a=this.originalEvent;!a||(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=K;var a=this.originalEvent;!a||(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=K,this.stopPropagation()},isDefaultPrevented:J,isPropagationStopped:J,isImmediatePropagationStopped:J},f.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){f.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c=this,d=a.relatedTarget,e=a.handleObj,g=e.selector,h;if(!d||d!==c&&!f.contains(c,d))a.type=e.origType,h=e.handler.apply(this,arguments),a.type=b;return h}}}),f.support.submitBubbles||(f.event.special.submit={setup:function(){if(f.nodeName(this,"form"))return!1;f.event.add(this,"click._submit keypress._submit",function(a){var c=a.target,d=f.nodeName(c,"input")||f.nodeName(c,"button")?c.form:b;d&&!d._submit_attached&&(f.event.add(d,"submit._submit",function(a){this.parentNode&&!a.isTrigger&&f.event.simulate("submit",this.parentNode,a,!0)}),d._submit_attached=!0)})},teardown:function(){if(f.nodeName(this,"form"))return!1;f.event.remove(this,"._submit")}}),f.support.changeBubbles||(f.event.special.change={setup:function(){if(z.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio")f.event.add(this,"propertychange._change",function(a){a.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),f.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1,f.event.simulate("change",this,a,!0))});return!1}f.event.add(this,"beforeactivate._change",function(a){var b=a.target;z.test(b.nodeName)&&!b._change_attached&&(f.event.add(b,"change._change",function(a){this.parentNode&&!a.isSimulated&&!a.isTrigger&&f.event.simulate("change",this.parentNode,a,!0)}),b._change_attached=!0)})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||b.type!=="radio"&&b.type!=="checkbox")return a.handleObj.handler.apply(this,arguments)},teardown:function(){f.event.remove(this,"._change");return z.test(this.nodeName)}}),f.support.focusinBubbles||f.each({focus:"focusin",blur:"focusout"},function(a,b){var d=0,e=function(a){f.event.simulate(b,a.target,f.event.fix(a),!0)};f.event.special[b]={setup:function(){d++===0&&c.addEventListener(a,e,!0)},teardown:function(){--d===0&&c.removeEventListener(a,e,!0)}}}),f.fn.extend({on:function(a,c,d,e,g){var h,i;if(typeof a=="object"){typeof c!="string"&&(d=c,c=b);for(i in a)this.on(i,c,d,a[i],g);return this}d==null&&e==null?(e=c,d=c=b):e==null&&(typeof c=="string"?(e=d,d=b):(e=d,d=c,c=b));if(e===!1)e=J;else if(!e)return this;g===1&&(h=e,e=function(a){f().off(a);return h.apply(this,arguments)},e.guid=h.guid||(h.guid=f.guid++));return this.each(function(){f.event.add(this,a,e,d,c)})},one:function(a,b,c,d){return this.on.call(this,a,b,c,d,1)},off:function(a,c,d){if(a&&a.preventDefault&&a.handleObj){var e=a.handleObj;f(a.delegateTarget).off(e.namespace?e.type+"."+e.namespace:e.type,e.selector,e.handler);return this}if(typeof a=="object"){for(var g in a)this.off(g,c,a[g]);return this}if(c===!1||typeof c=="function")d=c,c=b;d===!1&&(d=J);return this.each(function(){f.event.remove(this,a,d,c)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,c){f(this.context).on(a,this.selector,b,c);return this},die:function(a,b){f(this.context).off(a,this.selector||"**",b);return this},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return arguments.length==1?this.off(a,"**"):this.off(b,a,c)},trigger:function(a,b){return this.each(function(){f.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0])return f.event.trigger(a,b,this[0],!0)},toggle:function(a){var b=arguments,c=a.guid||f.guid++,d=0,e=function(c){var e=(f._data(this,"lastToggle"+a.guid)||0)%d;f._data(this,"lastToggle"+a.guid,e+1),c.preventDefault();return b[e].apply(this,arguments)||!1};e.guid=c;while(d<b.length)b[d++].guid=c;return this.click(e)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),f.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){f.fn[b]=function(a,c){c==null&&(c=a,a=null);return arguments.length>0?this.on(b,null,a,c):this.trigger(b)},f.attrFn&&(f.attrFn[b]=!0),C.test(b)&&(f.event.fixHooks[b]=f.event.keyHooks),D.test(b)&&(f.event.fixHooks[b]=f.event.mouseHooks)}),function(){function x(a,b,c,e,f,g){for(var h=0,i=e.length;h<i;h++){var j=e[h];if(j){var k=!1;j=j[a];while(j){if(j[d]===c){k=e[j.sizset];break}if(j.nodeType===1){g||(j[d]=c,j.sizset=h);if(typeof b!="string"){if(j===b){k=!0;break}}else if(m.filter(b,[j]).length>0){k=j;break}}j=j[a]}e[h]=k}}}function w(a,b,c,e,f,g){for(var h=0,i=e.length;h<i;h++){var j=e[h];if(j){var k=!1;j=j[a];while(j){if(j[d]===c){k=e[j.sizset];break}j.nodeType===1&&!g&&(j[d]=c,j.sizset=h);if(j.nodeName.toLowerCase()===b){k=j;break}j=j[a]}e[h]=k}}}var a=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,d="sizcache"+(Math.random()+"").replace(".",""),e=0,g=Object.prototype.toString,h=!1,i=!0,j=/\\/g,k=/\r\n/g,l=/\W/;[0,0].sort(function(){i=!1;return 0});var m=function(b,d,e,f){e=e||[],d=d||c;var h=d;if(d.nodeType!==1&&d.nodeType!==9)return[];if(!b||typeof b!="string")return e;var i,j,k,l,n,q,r,t,u=!0,v=m.isXML(d),w=[],x=b;do{a.exec(""),i=a.exec(x);if(i){x=i[3],w.push(i[1]);if(i[2]){l=i[3];break}}}while(i);if(w.length>1&&p.exec(b))if(w.length===2&&o.relative[w[0]])j=y(w[0]+w[1],d,f);else{j=o.relative[w[0]]?[d]:m(w.shift(),d);while(w.length)b=w.shift(),o.relative[b]&&(b+=w.shift()),j=y(b,j,f)}else{!f&&w.length>1&&d.nodeType===9&&!v&&o.match.ID.test(w[0])&&!o.match.ID.test(w[w.length-1])&&(n=m.find(w.shift(),d,v),d=n.expr?m.filter(n.expr,n.set)[0]:n.set[0]);if(d){n=f?{expr:w.pop(),set:s(f)}:m.find(w.pop(),w.length===1&&(w[0]==="~"||w[0]==="+")&&d.parentNode?d.parentNode:d,v),j=n.expr?m.filter(n.expr,n.set):n.set,w.length>0?k=s(j):u=!1;while(w.length)q=w.pop(),r=q,o.relative[q]?r=w.pop():q="",r==null&&(r=d),o.relative[q](k,r,v)}else k=w=[]}k||(k=j),k||m.error(q||b);if(g.call(k)==="[object Array]")if(!u)e.push.apply(e,k);else if(d&&d.nodeType===1)for(t=0;k[t]!=null;t++)k[t]&&(k[t]===!0||k[t].nodeType===1&&m.contains(d,k[t]))&&e.push(j[t]);else for(t=0;k[t]!=null;t++)k[t]&&k[t].nodeType===1&&e.push(j[t]);else s(k,e);l&&(m(l,h,e,f),m.uniqueSort(e));return e};m.uniqueSort=function(a){if(u){h=i,a.sort(u);if(h)for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1)}return a},m.matches=function(a,b){return m(a,null,null,b)},m.matchesSelector=function(a,b){return m(b,null,null,[a]).length>0},m.find=function(a,b,c){var d,e,f,g,h,i;if(!a)return[];for(e=0,f=o.order.length;e<f;e++){h=o.order[e];if(g=o.leftMatch[h].exec(a)){i=g[1],g.splice(1,1);if(i.substr(i.length-1)!=="\\"){g[1]=(g[1]||"").replace(j,""),d=o.find[h](g,b,c);if(d!=null){a=a.replace(o.match[h],"");break}}}}d||(d=typeof b.getElementsByTagName!="undefined"?b.getElementsByTagName("*"):[]);return{set:d,expr:a}},m.filter=function(a,c,d,e){var f,g,h,i,j,k,l,n,p,q=a,r=[],s=c,t=c&&c[0]&&m.isXML(c[0]);while(a&&c.length){for(h in o.filter)if((f=o.leftMatch[h].exec(a))!=null&&f[2]){k=o.filter[h],l=f[1],g=!1,f.splice(1,1);if(l.substr(l.length-1)==="\\")continue;s===r&&(r=[]);if(o.preFilter[h]){f=o.preFilter[h](f,s,d,r,e,t);if(!f)g=i=!0;else if(f===!0)continue}if(f)for(n=0;(j=s[n])!=null;n++)j&&(i=k(j,f,n,s),p=e^i,d&&i!=null?p?g=!0:s[n]=!1:p&&(r.push(j),g=!0));if(i!==b){d||(s=r),a=a.replace(o.match[h],"");if(!g)return[];break}}if(a===q)if(g==null)m.error(a);else break;q=a}return s},m.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)};var n=m.getText=function(a){var b,c,d=a.nodeType,e="";if(d){if(d===1||d===9){if(typeof a.textContent=="string")return a.textContent;if(typeof a.innerText=="string")return a.innerText.replace(k,"");for(a=a.firstChild;a;a=a.nextSibling)e+=n(a)}else if(d===3||d===4)return a.nodeValue}else for(b=0;c=a[b];b++)c.nodeType!==8&&(e+=n(c));return e},o=m.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")},type:function(a){return a.getAttribute("type")}},relative:{"+":function(a,b){var c=typeof b=="string",d=c&&!l.test(b),e=c&&!d;d&&(b=b.toLowerCase());for(var f=0,g=a.length,h;f<g;f++)if(h=a[f]){while((h=h.previousSibling)&&h.nodeType!==1);a[f]=e||h&&h.nodeName.toLowerCase()===b?h||!1:h===b}e&&m.filter(b,a,!0)},">":function(a,b){var c,d=typeof b=="string",e=0,f=a.length;if(d&&!l.test(b)){b=b.toLowerCase();for(;e<f;e++){c=a[e];if(c){var g=c.parentNode;a[e]=g.nodeName.toLowerCase()===b?g:!1}}}else{for(;e<f;e++)c=a[e],c&&(a[e]=d?c.parentNode:c.parentNode===b);d&&m.filter(b,a,!0)}},"":function(a,b,c){var d,f=e++,g=x;typeof b=="string"&&!l.test(b)&&(b=b.toLowerCase(),d=b,g=w),g("parentNode",b,f,a,d,c)},"~":function(a,b,c){var d,f=e++,g=x;typeof b=="string"&&!l.test(b)&&(b=b.toLowerCase(),d=b,g=w),g("previousSibling",b,f,a,d,c)}},find:{ID:function(a,b,c){if(typeof b.getElementById!="undefined"&&!c){var d=b.getElementById(a[1]);return d&&d.parentNode?[d]:[]}},NAME:function(a,b){if(typeof b.getElementsByName!="undefined"){var c=[],d=b.getElementsByName(a[1]);for(var e=0,f=d.length;e<f;e++)d[e].getAttribute("name")===a[1]&&c.push(d[e]);return c.length===0?null:c}},TAG:function(a,b){if(typeof b.getElementsByTagName!="undefined")return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,c,d,e,f){a=" "+a[1].replace(j,"")+" ";if(f)return a;for(var g=0,h;(h=b[g])!=null;g++)h&&(e^(h.className&&(" "+h.className+" ").replace(/[\t\n\r]/g," ").indexOf(a)>=0)?c||d.push(h):c&&(b[g]=!1));return!1},ID:function(a){return a[1].replace(j,"")},TAG:function(a,b){return a[1].replace(j,"").toLowerCase()},CHILD:function(a){if(a[1]==="nth"){a[2]||m.error(a[0]),a[2]=a[2].replace(/^\+|\s*/g,"");var b=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0,a[3]=b[3]-0}else a[2]&&m.error(a[0]);a[0]=e++;return a},ATTR:function(a,b,c,d,e,f){var g=a[1]=a[1].replace(j,"");!f&&o.attrMap[g]&&(a[1]=o.attrMap[g]),a[4]=(a[4]||a[5]||"").replace(j,""),a[2]==="~="&&(a[4]=" "+a[4]+" ");return a},PSEUDO:function(b,c,d,e,f){if(b[1]==="not")if((a.exec(b[3])||"").length>1||/^\w/.test(b[3]))b[3]=m(b[3],null,null,c);else{var g=m.filter(b[3],c,d,!0^f);d||e.push.apply(e,g);return!1}else if(o.match.POS.test(b[0])||o.match.CHILD.test(b[0]))return!0;return b},POS:function(a){a.unshift(!0);return a}},filters:{enabled:function(a){return a.disabled===!1&&a.type!=="hidden"},disabled:function(a){return a.disabled===!0},checked:function(a){return a.checked===!0},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return a.selected===!0},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,c){return!!m(c[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){var b=a.getAttribute("type"),c=a.type;return a.nodeName.toLowerCase()==="input"&&"text"===c&&(b===c||b===null)},radio:function(a){return a.nodeName.toLowerCase()==="input"&&"radio"===a.type},checkbox:function(a){return a.nodeName.toLowerCase()==="input"&&"checkbox"===a.type},file:function(a){return a.nodeName.toLowerCase()==="input"&&"file"===a.type},password:function(a){return a.nodeName.toLowerCase()==="input"&&"password"===a.type},submit:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"submit"===a.type},image:function(a){return a.nodeName.toLowerCase()==="input"&&"image"===a.type},reset:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"reset"===a.type},button:function(a){var b=a.nodeName.toLowerCase();return b==="input"&&"button"===a.type||b==="button"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)},focus:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(a,b){return b===0},last:function(a,b,c,d){return b===d.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,c){return b<c[3]-0},gt:function(a,b,c){return b>c[3]-0},nth:function(a,b,c){return c[3]-0===b},eq:function(a,b,c){return c[3]-0===b}},filter:{PSEUDO:function(a,b,c,d){var e=b[1],f=o.filters[e];if(f)return f(a,c,b,d);if(e==="contains")return(a.textContent||a.innerText||n([a])||"").indexOf(b[3])>=0;if(e==="not"){var g=b[3];for(var h=0,i=g.length;h<i;h++)if(g[h]===a)return!1;return!0}m.error(e)},CHILD:function(a,b){var c,e,f,g,h,i,j,k=b[1],l=a;switch(k){case"only":case"first":while(l=l.previousSibling)if(l.nodeType===1)return!1;if(k==="first")return!0;l=a;case"last":while(l=l.nextSibling)if(l.nodeType===1)return!1;return!0;case"nth":c=b[2],e=b[3];if(c===1&&e===0)return!0;f=b[0],g=a.parentNode;if(g&&(g[d]!==f||!a.nodeIndex)){i=0;for(l=g.firstChild;l;l=l.nextSibling)l.nodeType===1&&(l.nodeIndex=++i);g[d]=f}j=a.nodeIndex-e;return c===0?j===0:j%c===0&&j/c>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute("id")===b},TAG:function(a,b){return b==="*"&&a.nodeType===1||!!a.nodeName&&a.nodeName.toLowerCase()===b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var c=b[1],d=m.attr?m.attr(a,c):o.attrHandle[c]?o.attrHandle[c](a):a[c]!=null?a[c]:a.getAttribute(c),e=d+"",f=b[2],g=b[4];return d==null?f==="!=":!f&&m.attr?d!=null:f==="="?e===g:f==="*="?e.indexOf(g)>=0:f==="~="?(" "+e+" ").indexOf(g)>=0:g?f==="!="?e!==g:f==="^="?e.indexOf(g)===0:f==="$="?e.substr(e.length-g.length)===g:f==="|="?e===g||e.substr(0,g.length+1)===g+"-":!1:e&&d!==!1},POS:function(a,b,c,d){var e=b[2],f=o.setFilters[e];if(f)return f(a,c,b,d)}}},p=o.match.POS,q=function(a,b){return"\\"+(b-0+1)};for(var r in o.match)o.match[r]=new RegExp(o.match[r].source+/(?![^\[]*\])(?![^\(]*\))/.source),o.leftMatch[r]=new RegExp(/(^(?:.|\r|\n)*?)/.source+o.match[r].source.replace(/\\(\d+)/g,q));var s=function(a,b){a=Array.prototype.slice.call(a,0);if(b){b.push.apply(b,a);return b}return a};try{Array.prototype.slice.call(c.documentElement.childNodes,0)[0].nodeType}catch(t){s=function(a,b){var c=0,d=b||[];if(g.call(a)==="[object Array]")Array.prototype.push.apply(d,a);else if(typeof a.length=="number")for(var e=a.length;c<e;c++)d.push(a[c]);else for(;a[c];c++)d.push(a[c]);return d}}var u,v;c.documentElement.compareDocumentPosition?u=function(a,b){if(a===b){h=!0;return 0}if(!a.compareDocumentPosition||!b.compareDocumentPosition)return a.compareDocumentPosition?-1:1;return a.compareDocumentPosition(b)&4?-1:1}:(u=function(a,b){if(a===b){h=!0;return 0}if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,d,e=[],f=[],g=a.parentNode,i=b.parentNode,j=g;if(g===i)return v(a,b);if(!g)return-1;if(!i)return 1;while(j)e.unshift(j),j=j.parentNode;j=i;while(j)f.unshift(j),j=j.parentNode;c=e.length,d=f.length;for(var k=0;k<c&&k<d;k++)if(e[k]!==f[k])return v(e[k],f[k]);return k===c?v(a,f[k],-1):v(e[k],b,1)},v=function(a,b,c){if(a===b)return c;var d=a.nextSibling;while(d){if(d===b)return-1;d=d.nextSibling}return 1}),function(){var a=c.createElement("div"),d="script"+(new Date).getTime(),e=c.documentElement;a.innerHTML="<a name='"+d+"'/>",e.insertBefore(a,e.firstChild),c.getElementById(d)&&(o.find.ID=function(a,c,d){if(typeof c.getElementById!="undefined"&&!d){var e=c.getElementById(a[1]);return e?e.id===a[1]||typeof e.getAttributeNode!="undefined"&&e.getAttributeNode("id").nodeValue===a[1]?[e]:b:[]}},o.filter.ID=function(a,b){var c=typeof a.getAttributeNode!="undefined"&&a.getAttributeNode("id");return a.nodeType===1&&c&&c.nodeValue===b}),e.removeChild(a),e=a=null}(),function(){var a=c.createElement("div");a.appendChild(c.createComment("")),a.getElementsByTagName("*").length>0&&(o.find.TAG=function(a,b){var c=b.getElementsByTagName(a[1]);if(a[1]==="*"){var d=[];for(var e=0;c[e];e++)c[e].nodeType===1&&d.push(c[e]);c=d}return c}),a.innerHTML="<a href='#'></a>",a.firstChild&&typeof a.firstChild.getAttribute!="undefined"&&a.firstChild.getAttribute("href")!=="#"&&(o.attrHandle.href=function(a){return a.getAttribute("href",2)}),a=null}(),c.querySelectorAll&&function(){var a=m,b=c.createElement("div"),d="__sizzle__";b.innerHTML="<p class='TEST'></p>";if(!b.querySelectorAll||b.querySelectorAll(".TEST").length!==0){m=function(b,e,f,g){e=e||c;if(!g&&!m.isXML(e)){var h=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(b);if(h&&(e.nodeType===1||e.nodeType===9)){if(h[1])return s(e.getElementsByTagName(b),f);if(h[2]&&o.find.CLASS&&e.getElementsByClassName)return s(e.getElementsByClassName(h[2]),f)}if(e.nodeType===9){if(b==="body"&&e.body)return s([e.body],f);if(h&&h[3]){var i=e.getElementById(h[3]);if(!i||!i.parentNode)return s([],f);if(i.id===h[3])return s([i],f)}try{return s(e.querySelectorAll(b),f)}catch(j){}}else if(e.nodeType===1&&e.nodeName.toLowerCase()!=="object"){var k=e,l=e.getAttribute("id"),n=l||d,p=e.parentNode,q=/^\s*[+~]/.test(b);l?n=n.replace(/'/g,"\\$&"):e.setAttribute("id",n),q&&p&&(e=e.parentNode);try{if(!q||p)return s(e.querySelectorAll("[id='"+n+"'] "+b),f)}catch(r){}finally{l||k.removeAttribute("id")}}}return a(b,e,f,g)};for(var e in a)m[e]=a[e];b=null}}(),function(){var a=c.documentElement,b=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector;if(b){var d=!b.call(c.createElement("div"),"div"),e=!1;try{b.call(c.documentElement,"[test!='']:sizzle")}catch(f){e=!0}m.matchesSelector=function(a,c){c=c.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!m.isXML(a))try{if(e||!o.match.PSEUDO.test(c)&&!/!=/.test(c)){var f=b.call(a,c);if(f||!d||a.document&&a.document.nodeType!==11)return f}}catch(g){}return m(c,null,null,[a]).length>0}}}(),function(){var a=c.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";if(!!a.getElementsByClassName&&a.getElementsByClassName("e").length!==0){a.lastChild.className="e";if(a.getElementsByClassName("e").length===1)return;o.order.splice(1,0,"CLASS"),o.find.CLASS=function(a,b,c){if(typeof b.getElementsByClassName!="undefined"&&!c)return b.getElementsByClassName(a[1])},a=null}}(),c.documentElement.contains?m.contains=function(a,b){return a!==b&&(a.contains?a.contains(b):!0)}:c.documentElement.compareDocumentPosition?m.contains=function(a,b){return!!(a.compareDocumentPosition(b)&16)}:m.contains=function(){return!1},m.isXML=function(a){var b=(a?a.ownerDocument||a:0).documentElement;return b?b.nodeName!=="HTML":!1};var y=function(a,b,c){var d,e=[],f="",g=b.nodeType?[b]:b;while(d=o.match.PSEUDO.exec(a))f+=d[0],a=a.replace(o.match.PSEUDO,"");a=o.relative[a]?a+"*":a;for(var h=0,i=g.length;h<i;h++)m(a,g[h],e,c);return m.filter(f,e)};m.attr=f.attr,m.selectors.attrMap={},f.find=m,f.expr=m.selectors,f.expr[":"]=f.expr.filters,f.unique=m.uniqueSort,f.text=m.getText,f.isXMLDoc=m.isXML,f.contains=m.contains}();var L=/Until$/,M=/^(?:parents|prevUntil|prevAll)/,N=/,/,O=/^.[^:#\[\.,]*$/,P=Array.prototype.slice,Q=f.expr.match.POS,R={children:!0,contents:!0,next:!0,prev:!0};f.fn.extend({find:function(a){var b=this,c,d;if(typeof a!="string")return f(a).filter(function(){for(c=0,d=b.length;c<d;c++)if(f.contains(b[c],this))return!0});var e=this.pushStack("","find",a),g,h,i;for(c=0,d=this.length;c<d;c++){g=e.length,f.find(a,this[c],e);if(c>0)for(h=g;h<e.length;h++)for(i=0;i<g;i++)if(e[i]===e[h]){e.splice(h--,1);break}}return e},has:function(a){var b=f(a);return this.filter(function(){for(var a=0,c=b.length;a<c;a++)if(f.contains(this,b[a]))return!0})},not:function(a){return this.pushStack(T(this,a,!1),"not",a)},filter:function(a){return this.pushStack(T(this,a,!0),"filter",a)},is:function(a){return!!a&&(typeof a=="string"?Q.test(a)?f(a,this.context).index(this[0])>=0:f.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){var c=[],d,e,g=this[0];if(f.isArray(a)){var h=1;while(g&&g.ownerDocument&&g!==b){for(d=0;d<a.length;d++)f(g).is(a[d])&&c.push({selector:a[d],elem:g,level:h});g=g.parentNode,h++}return c}var i=Q.test(a)||typeof a!="string"?f(a,b||this.context):0;for(d=0,e=this.length;d<e;d++){g=this[d];while(g){if(i?i.index(g)>-1:f.find.matchesSelector(g,a)){c.push(g);break}g=g.parentNode;if(!g||!g.ownerDocument||g===b||g.nodeType===11)break}}c=c.length>1?f.unique(c):c;return this.pushStack(c,"closest",a)},index:function(a){if(!a)return this[0]&&this[0].parentNode?this.prevAll().length:-1;if(typeof a=="string")return f.inArray(this[0],f(a));return f.inArray(a.jquery?a[0]:a,this)},add:function(a,b){var c=typeof a=="string"?f(a,b):f.makeArray(a&&a.nodeType?[a]:a),d=f.merge(this.get(),c);return this.pushStack(S(c[0])||S(d[0])?d:f.unique(d))},andSelf:function(){return this.add(this.prevObject)}}),f.each({parent:function(a){var b=a.parentNode;return b&&b.nodeType!==11?b:null},parents:function(a){return f.dir(a,"parentNode")},parentsUntil:function(a,b,c){return f.dir(a,"parentNode",c)},next:function(a){return f.nth(a,2,"nextSibling")},prev:function(a){return f.nth(a,2,"previousSibling")},nextAll:function(a){return f.dir(a,"nextSibling")},prevAll:function(a){return f.dir(a,"previousSibling")},nextUntil:function(a,b,c){return f.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return f.dir(a,"previousSibling",c)},siblings:function(a){return f.sibling(a.parentNode.firstChild,a)},children:function(a){return f.sibling(a.firstChild)},contents:function(a){return f.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:f.makeArray(a.childNodes)}},function(a,b){f.fn[a]=function(c,d){var e=f.map(this,b,c);L.test(a)||(d=c),d&&typeof d=="string"&&(e=f.filter(d,e)),e=this.length>1&&!R[a]?f.unique(e):e,(this.length>1||N.test(d))&&M.test(a)&&(e=e.reverse());return this.pushStack(e,a,P.call(arguments).join(","))}}),f.extend({filter:function(a,b,c){c&&(a=":not("+a+")");return b.length===1?f.find.matchesSelector(b[0],a)?[b[0]]:[]:f.find.matches(a,b)},dir:function(a,c,d){var e=[],g=a[c];while(g&&g.nodeType!==9&&(d===b||g.nodeType!==1||!f(g).is(d)))g.nodeType===1&&e.push(g),g=g[c];return e},nth:function(a,b,c,d){b=b||1;var e=0;for(;a;a=a[c])if(a.nodeType===1&&++e===b)break;return a},sibling:function(a,b){var c=[];for(;a;a=a.nextSibling)a.nodeType===1&&a!==b&&c.push(a);return c}});var V="abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",W=/ jQuery\d+="(?:\d+|null)"/g,X=/^\s+/,Y=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,Z=/<([\w:]+)/,$=/<tbody/i,_=/<|&#?\w+;/,ba=/<(?:script|style)/i,bb=/<(?:script|object|embed|option|style)/i,bc=new RegExp("<(?:"+V+")","i"),bd=/checked\s*(?:[^=]|=\s*.checked.)/i,be=/\/(java|ecma)script/i,bf=/^\s*<!(?:\[CDATA\[|\-\-)/,bg={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},bh=U(c);bg.optgroup=bg.option,bg.tbody=bg.tfoot=bg.colgroup=bg.caption=bg.thead,bg.th=bg.td,f.support.htmlSerialize||(bg._default=[1,"div<div>","</div>"]),f.fn.extend({text:function(a){if(f.isFunction(a))return this.each(function(b){var c=f(this);c.text(a.call(this,b,c.text()))});if(typeof a!="object"&&a!==b)return this.empty().append((this[0]&&this[0].ownerDocument||c).createTextNode(a));return f.text(this)},wrapAll:function(a){if(f.isFunction(a))return this.each(function(b){f(this).wrapAll(a.call(this,b))});if(this[0]){var b=f(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&a.firstChild.nodeType===1)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){if(f.isFunction(a))return this.each(function(b){f(this).wrapInner(a.call(this,b))});return this.each(function(){var b=f(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=f.isFunction(a);return this.each(function(c){f(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){f.nodeName(this,"body")||f(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=f.clean(arguments);a.push.apply(a,this.toArray());return this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=this.pushStack(this,"after",arguments);a.push.apply(a,f.clean(arguments));return a}},remove:function(a,b){for(var c=0,d;(d=this[c])!=null;c++)if(!a||f.filter(a,[d]).length)!b&&d.nodeType===1&&(f.cleanData(d.getElementsByTagName("*")),f.cleanData([d])),d.parentNode&&d.parentNode.removeChild(d);return this},empty:function()
{for(var a=0,b;(b=this[a])!=null;a++){b.nodeType===1&&f.cleanData(b.getElementsByTagName("*"));while(b.firstChild)b.removeChild(b.firstChild)}return this},clone:function(a,b){a=a==null?!1:a,b=b==null?a:b;return this.map(function(){return f.clone(this,a,b)})},html:function(a){if(a===b)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(W,""):null;if(typeof a=="string"&&!ba.test(a)&&(f.support.leadingWhitespace||!X.test(a))&&!bg[(Z.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Y,"<$1></$2>");try{for(var c=0,d=this.length;c<d;c++)this[c].nodeType===1&&(f.cleanData(this[c].getElementsByTagName("*")),this[c].innerHTML=a)}catch(e){this.empty().append(a)}}else f.isFunction(a)?this.each(function(b){var c=f(this);c.html(a.call(this,b,c.html()))}):this.empty().append(a);return this},replaceWith:function(a){if(this[0]&&this[0].parentNode){if(f.isFunction(a))return this.each(function(b){var c=f(this),d=c.html();c.replaceWith(a.call(this,b,d))});typeof a!="string"&&(a=f(a).detach());return this.each(function(){var b=this.nextSibling,c=this.parentNode;f(this).remove(),b?f(b).before(a):f(c).append(a)})}return this.length?this.pushStack(f(f.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,d){var e,g,h,i,j=a[0],k=[];if(!f.support.checkClone&&arguments.length===3&&typeof j=="string"&&bd.test(j))return this.each(function(){f(this).domManip(a,c,d,!0)});if(f.isFunction(j))return this.each(function(e){var g=f(this);a[0]=j.call(this,e,c?g.html():b),g.domManip(a,c,d)});if(this[0]){i=j&&j.parentNode,f.support.parentNode&&i&&i.nodeType===11&&i.childNodes.length===this.length?e={fragment:i}:e=f.buildFragment(a,this,k),h=e.fragment,h.childNodes.length===1?g=h=h.firstChild:g=h.firstChild;if(g){c=c&&f.nodeName(g,"tr");for(var l=0,m=this.length,n=m-1;l<m;l++)d.call(c?bi(this[l],g):this[l],e.cacheable||m>1&&l<n?f.clone(h,!0,!0):h)}k.length&&f.each(k,bp)}return this}}),f.buildFragment=function(a,b,d){var e,g,h,i,j=a[0];b&&b[0]&&(i=b[0].ownerDocument||b[0]),i.createDocumentFragment||(i=c),a.length===1&&typeof j=="string"&&j.length<512&&i===c&&j.charAt(0)==="<"&&!bb.test(j)&&(f.support.checkClone||!bd.test(j))&&(f.support.html5Clone||!bc.test(j))&&(g=!0,h=f.fragments[j],h&&h!==1&&(e=h)),e||(e=i.createDocumentFragment(),f.clean(a,i,e,d)),g&&(f.fragments[j]=h?e:1);return{fragment:e,cacheable:g}},f.fragments={},f.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){f.fn[a]=function(c){var d=[],e=f(c),g=this.length===1&&this[0].parentNode;if(g&&g.nodeType===11&&g.childNodes.length===1&&e.length===1){e[b](this[0]);return this}for(var h=0,i=e.length;h<i;h++){var j=(h>0?this.clone(!0):this).get();f(e[h])[b](j),d=d.concat(j)}return this.pushStack(d,a,e.selector)}}),f.extend({clone:function(a,b,c){var d,e,g,h=f.support.html5Clone||!bc.test("<"+a.nodeName)?a.cloneNode(!0):bo(a);if((!f.support.noCloneEvent||!f.support.noCloneChecked)&&(a.nodeType===1||a.nodeType===11)&&!f.isXMLDoc(a)){bk(a,h),d=bl(a),e=bl(h);for(g=0;d[g];++g)e[g]&&bk(d[g],e[g])}if(b){bj(a,h);if(c){d=bl(a),e=bl(h);for(g=0;d[g];++g)bj(d[g],e[g])}}d=e=null;return h},clean:function(a,b,d,e){var g;b=b||c,typeof b.createElement=="undefined"&&(b=b.ownerDocument||b[0]&&b[0].ownerDocument||c);var h=[],i;for(var j=0,k;(k=a[j])!=null;j++){typeof k=="number"&&(k+="");if(!k)continue;if(typeof k=="string")if(!_.test(k))k=b.createTextNode(k);else{k=k.replace(Y,"<$1></$2>");var l=(Z.exec(k)||["",""])[1].toLowerCase(),m=bg[l]||bg._default,n=m[0],o=b.createElement("div");b===c?bh.appendChild(o):U(b).appendChild(o),o.innerHTML=m[1]+k+m[2];while(n--)o=o.lastChild;if(!f.support.tbody){var p=$.test(k),q=l==="table"&&!p?o.firstChild&&o.firstChild.childNodes:m[1]==="<table>"&&!p?o.childNodes:[];for(i=q.length-1;i>=0;--i)f.nodeName(q[i],"tbody")&&!q[i].childNodes.length&&q[i].parentNode.removeChild(q[i])}!f.support.leadingWhitespace&&X.test(k)&&o.insertBefore(b.createTextNode(X.exec(k)[0]),o.firstChild),k=o.childNodes}var r;if(!f.support.appendChecked)if(k[0]&&typeof(r=k.length)=="number")for(i=0;i<r;i++)bn(k[i]);else bn(k);k.nodeType?h.push(k):h=f.merge(h,k)}if(d){g=function(a){return!a.type||be.test(a.type)};for(j=0;h[j];j++)if(e&&f.nodeName(h[j],"script")&&(!h[j].type||h[j].type.toLowerCase()==="text/javascript"))e.push(h[j].parentNode?h[j].parentNode.removeChild(h[j]):h[j]);else{if(h[j].nodeType===1){var s=f.grep(h[j].getElementsByTagName("script"),g);h.splice.apply(h,[j+1,0].concat(s))}d.appendChild(h[j])}}return h},cleanData:function(a){var b,c,d=f.cache,e=f.event.special,g=f.support.deleteExpando;for(var h=0,i;(i=a[h])!=null;h++){if(i.nodeName&&f.noData[i.nodeName.toLowerCase()])continue;c=i[f.expando];if(c){b=d[c];if(b&&b.events){for(var j in b.events)e[j]?f.event.remove(i,j):f.removeEvent(i,j,b.handle);b.handle&&(b.handle.elem=null)}g?delete i[f.expando]:i.removeAttribute&&i.removeAttribute(f.expando),delete d[c]}}}});var bq=/alpha\([^)]*\)/i,br=/opacity=([^)]*)/,bs=/([A-Z]|^ms)/g,bt=/^-?\d+(?:px)?$/i,bu=/^-?\d/,bv=/^([\-+])=([\-+.\de]+)/,bw={position:"absolute",visibility:"hidden",display:"block"},bx=["Left","Right"],by=["Top","Bottom"],bz,bA,bB;f.fn.css=function(a,c){if(arguments.length===2&&c===b)return this;return f.access(this,a,c,!0,function(a,c,d){return d!==b?f.style(a,c,d):f.css(a,c)})},f.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=bz(a,"opacity","opacity");return c===""?"1":c}return a.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":f.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(!!a&&a.nodeType!==3&&a.nodeType!==8&&!!a.style){var g,h,i=f.camelCase(c),j=a.style,k=f.cssHooks[i];c=f.cssProps[i]||i;if(d===b){if(k&&"get"in k&&(g=k.get(a,!1,e))!==b)return g;return j[c]}h=typeof d,h==="string"&&(g=bv.exec(d))&&(d=+(g[1]+1)*+g[2]+parseFloat(f.css(a,c)),h="number");if(d==null||h==="number"&&isNaN(d))return;h==="number"&&!f.cssNumber[i]&&(d+="px");if(!k||!("set"in k)||(d=k.set(a,d))!==b)try{j[c]=d}catch(l){}}},css:function(a,c,d){var e,g;c=f.camelCase(c),g=f.cssHooks[c],c=f.cssProps[c]||c,c==="cssFloat"&&(c="float");if(g&&"get"in g&&(e=g.get(a,!0,d))!==b)return e;if(bz)return bz(a,c)},swap:function(a,b,c){var d={};for(var e in b)d[e]=a.style[e],a.style[e]=b[e];c.call(a);for(e in b)a.style[e]=d[e]}}),f.curCSS=f.css,f.each(["height","width"],function(a,b){f.cssHooks[b]={get:function(a,c,d){var e;if(c){if(a.offsetWidth!==0)return bC(a,b,d);f.swap(a,bw,function(){e=bC(a,b,d)});return e}},set:function(a,b){if(!bt.test(b))return b;b=parseFloat(b);if(b>=0)return b+"px"}}}),f.support.opacity||(f.cssHooks.opacity={get:function(a,b){return br.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=f.isNumeric(b)?"alpha(opacity="+b*100+")":"",g=d&&d.filter||c.filter||"";c.zoom=1;if(b>=1&&f.trim(g.replace(bq,""))===""){c.removeAttribute("filter");if(d&&!d.filter)return}c.filter=bq.test(g)?g.replace(bq,e):g+" "+e}}),f(function(){f.support.reliableMarginRight||(f.cssHooks.marginRight={get:function(a,b){var c;f.swap(a,{display:"inline-block"},function(){b?c=bz(a,"margin-right","marginRight"):c=a.style.marginRight});return c}})}),c.defaultView&&c.defaultView.getComputedStyle&&(bA=function(a,b){var c,d,e;b=b.replace(bs,"-$1").toLowerCase(),(d=a.ownerDocument.defaultView)&&(e=d.getComputedStyle(a,null))&&(c=e.getPropertyValue(b),c===""&&!f.contains(a.ownerDocument.documentElement,a)&&(c=f.style(a,b)));return c}),c.documentElement.currentStyle&&(bB=function(a,b){var c,d,e,f=a.currentStyle&&a.currentStyle[b],g=a.style;f===null&&g&&(e=g[b])&&(f=e),!bt.test(f)&&bu.test(f)&&(c=g.left,d=a.runtimeStyle&&a.runtimeStyle.left,d&&(a.runtimeStyle.left=a.currentStyle.left),g.left=b==="fontSize"?"1em":f||0,f=g.pixelLeft+"px",g.left=c,d&&(a.runtimeStyle.left=d));return f===""?"auto":f}),bz=bA||bB,f.expr&&f.expr.filters&&(f.expr.filters.hidden=function(a){var b=a.offsetWidth,c=a.offsetHeight;return b===0&&c===0||!f.support.reliableHiddenOffsets&&(a.style&&a.style.display||f.css(a,"display"))==="none"},f.expr.filters.visible=function(a){return!f.expr.filters.hidden(a)});var bD=/%20/g,bE=/\[\]$/,bF=/\r?\n/g,bG=/#.*$/,bH=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,bI=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,bJ=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,bK=/^(?:GET|HEAD)$/,bL=/^\/\//,bM=/\?/,bN=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,bO=/^(?:select|textarea)/i,bP=/\s+/,bQ=/([?&])_=[^&]*/,bR=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,bS=f.fn.load,bT={},bU={},bV,bW,bX=["*/"]+["*"];try{bV=e.href}catch(bY){bV=c.createElement("a"),bV.href="",bV=bV.href}bW=bR.exec(bV.toLowerCase())||[],f.fn.extend({load:function(a,c,d){if(typeof a!="string"&&bS)return bS.apply(this,arguments);if(!this.length)return this;var e=a.indexOf(" ");if(e>=0){var g=a.slice(e,a.length);a=a.slice(0,e)}var h="GET";c&&(f.isFunction(c)?(d=c,c=b):typeof c=="object"&&(c=f.param(c,f.ajaxSettings.traditional),h="POST"));var i=this;f.ajax({url:a,type:h,dataType:"html",data:c,complete:function(a,b,c){c=a.responseText,a.isResolved()&&(a.done(function(a){c=a}),i.html(g?f("<div>").append(c.replace(bN,"")).find(g):c)),d&&i.each(d,[c,b,a])}});return this},serialize:function(){return f.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?f.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||bO.test(this.nodeName)||bI.test(this.type))}).map(function(a,b){var c=f(this).val();return c==null?null:f.isArray(c)?f.map(c,function(a,c){return{name:b.name,value:a.replace(bF,"\r\n")}}):{name:b.name,value:c.replace(bF,"\r\n")}}).get()}}),f.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){f.fn[b]=function(a){return this.on(b,a)}}),f.each(["get","post"],function(a,c){f[c]=function(a,d,e,g){f.isFunction(d)&&(g=g||e,e=d,d=b);return f.ajax({type:c,url:a,data:d,success:e,dataType:g})}}),f.extend({getScript:function(a,c){return f.get(a,b,c,"script")},getJSON:function(a,b,c){return f.get(a,b,c,"json")},ajaxSetup:function(a,b){b?b_(a,f.ajaxSettings):(b=a,a=f.ajaxSettings),b_(a,b);return a},ajaxSettings:{url:bV,isLocal:bJ.test(bW[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":bX},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":f.parseJSON,"text xml":f.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:bZ(bT),ajaxTransport:bZ(bU),ajax:function(a,c){function w(a,c,l,m){if(s!==2){s=2,q&&clearTimeout(q),p=b,n=m||"",v.readyState=a>0?4:0;var o,r,u,w=c,x=l?cb(d,v,l):b,y,z;if(a>=200&&a<300||a===304){if(d.ifModified){if(y=v.getResponseHeader("Last-Modified"))f.lastModified[k]=y;if(z=v.getResponseHeader("Etag"))f.etag[k]=z}if(a===304)w="notmodified",o=!0;else try{r=cc(d,x),w="success",o=!0}catch(A){w="parsererror",u=A}}else{u=w;if(!w||a)w="error",a<0&&(a=0)}v.status=a,v.statusText=""+(c||w),o?h.resolveWith(e,[r,w,v]):h.rejectWith(e,[v,w,u]),v.statusCode(j),j=b,t&&g.trigger("ajax"+(o?"Success":"Error"),[v,d,o?r:u]),i.fireWith(e,[v,w]),t&&(g.trigger("ajaxComplete",[v,d]),--f.active||f.event.trigger("ajaxStop"))}}typeof a=="object"&&(c=a,a=b),c=c||{};var d=f.ajaxSetup({},c),e=d.context||d,g=e!==d&&(e.nodeType||e instanceof f)?f(e):f.event,h=f.Deferred(),i=f.Callbacks("once memory"),j=d.statusCode||{},k,l={},m={},n,o,p,q,r,s=0,t,u,v={readyState:0,setRequestHeader:function(a,b){if(!s){var c=a.toLowerCase();a=m[c]=m[c]||a,l[a]=b}return this},getAllResponseHeaders:function(){return s===2?n:null},getResponseHeader:function(a){var c;if(s===2){if(!o){o={};while(c=bH.exec(n))o[c[1].toLowerCase()]=c[2]}c=o[a.toLowerCase()]}return c===b?null:c},overrideMimeType:function(a){s||(d.mimeType=a);return this},abort:function(a){a=a||"abort",p&&p.abort(a),w(0,a);return this}};h.promise(v),v.success=v.done,v.error=v.fail,v.complete=i.add,v.statusCode=function(a){if(a){var b;if(s<2)for(b in a)j[b]=[j[b],a[b]];else b=a[v.status],v.then(b,b)}return this},d.url=((a||d.url)+"").replace(bG,"").replace(bL,bW[1]+"//"),d.dataTypes=f.trim(d.dataType||"*").toLowerCase().split(bP),d.crossDomain==null&&(r=bR.exec(d.url.toLowerCase()),d.crossDomain=!(!r||r[1]==bW[1]&&r[2]==bW[2]&&(r[3]||(r[1]==="http:"?80:443))==(bW[3]||(bW[1]==="http:"?80:443)))),d.data&&d.processData&&typeof d.data!="string"&&(d.data=f.param(d.data,d.traditional)),b$(bT,d,c,v);if(s===2)return!1;t=d.global,d.type=d.type.toUpperCase(),d.hasContent=!bK.test(d.type),t&&f.active++===0&&f.event.trigger("ajaxStart");if(!d.hasContent){d.data&&(d.url+=(bM.test(d.url)?"&":"?")+d.data,delete d.data),k=d.url;if(d.cache===!1){var x=f.now(),y=d.url.replace(bQ,"$1_="+x);d.url=y+(y===d.url?(bM.test(d.url)?"&":"?")+"_="+x:"")}}(d.data&&d.hasContent&&d.contentType!==!1||c.contentType)&&v.setRequestHeader("Content-Type",d.contentType),d.ifModified&&(k=k||d.url,f.lastModified[k]&&v.setRequestHeader("If-Modified-Since",f.lastModified[k]),f.etag[k]&&v.setRequestHeader("If-None-Match",f.etag[k])),v.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+(d.dataTypes[0]!=="*"?", "+bX+"; q=0.01":""):d.accepts["*"]);for(u in d.headers)v.setRequestHeader(u,d.headers[u]);if(d.beforeSend&&(d.beforeSend.call(e,v,d)===!1||s===2)){v.abort();return!1}for(u in{success:1,error:1,complete:1})v[u](d[u]);p=b$(bU,d,c,v);if(!p)w(-1,"No Transport");else{v.readyState=1,t&&g.trigger("ajaxSend",[v,d]),d.async&&d.timeout>0&&(q=setTimeout(function(){v.abort("timeout")},d.timeout));try{s=1,p.send(l,w)}catch(z){if(s<2)w(-1,z);else throw z}}return v},param:function(a,c){var d=[],e=function(a,b){b=f.isFunction(b)?b():b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};c===b&&(c=f.ajaxSettings.traditional);if(f.isArray(a)||a.jquery&&!f.isPlainObject(a))f.each(a,function(){e(this.name,this.value)});else for(var g in a)ca(g,a[g],c,e);return d.join("&").replace(bD,"+")}}),f.extend({active:0,lastModified:{},etag:{}});var cd=f.now(),ce=/(\=)\?(&|$)|\?\?/i;f.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return f.expando+"_"+cd++}}),f.ajaxPrefilter("json jsonp",function(b,c,d){var e=b.contentType==="application/x-www-form-urlencoded"&&typeof b.data=="string";if(b.dataTypes[0]==="jsonp"||b.jsonp!==!1&&(ce.test(b.url)||e&&ce.test(b.data))){var g,h=b.jsonpCallback=f.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,i=a[h],j=b.url,k=b.data,l="$1"+h+"$2";b.jsonp!==!1&&(j=j.replace(ce,l),b.url===j&&(e&&(k=k.replace(ce,l)),b.data===k&&(j+=(/\?/.test(j)?"&":"?")+b.jsonp+"="+h))),b.url=j,b.data=k,a[h]=function(a){g=[a]},d.always(function(){a[h]=i,g&&f.isFunction(i)&&a[h](g[0])}),b.converters["script json"]=function(){g||f.error(h+" was not called");return g[0]},b.dataTypes[0]="json";return"script"}}),f.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){f.globalEval(a);return a}}}),f.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),f.ajaxTransport("script",function(a){if(a.crossDomain){var d,e=c.head||c.getElementsByTagName("head")[0]||c.documentElement;return{send:function(f,g){d=c.createElement("script"),d.async="async",a.scriptCharset&&(d.charset=a.scriptCharset),d.src=a.url,d.onload=d.onreadystatechange=function(a,c){if(c||!d.readyState||/loaded|complete/.test(d.readyState))d.onload=d.onreadystatechange=null,e&&d.parentNode&&e.removeChild(d),d=b,c||g(200,"success")},e.insertBefore(d,e.firstChild)},abort:function(){d&&d.onload(0,1)}}}});var cf=a.ActiveXObject?function(){for(var a in ch)ch[a](0,1)}:!1,cg=0,ch;f.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&ci()||cj()}:ci,function(a){f.extend(f.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})}(f.ajaxSettings.xhr()),f.support.ajax&&f.ajaxTransport(function(c){if(!c.crossDomain||f.support.cors){var d;return{send:function(e,g){var h=c.xhr(),i,j;c.username?h.open(c.type,c.url,c.async,c.username,c.password):h.open(c.type,c.url,c.async);if(c.xhrFields)for(j in c.xhrFields)h[j]=c.xhrFields[j];c.mimeType&&h.overrideMimeType&&h.overrideMimeType(c.mimeType),!c.crossDomain&&!e["X-Requested-With"]&&(e["X-Requested-With"]="XMLHttpRequest");try{for(j in e)h.setRequestHeader(j,e[j])}catch(k){}h.send(c.hasContent&&c.data||null),d=function(a,e){var j,k,l,m,n;try{if(d&&(e||h.readyState===4)){d=b,i&&(h.onreadystatechange=f.noop,cf&&delete ch[i]);if(e)h.readyState!==4&&h.abort();else{j=h.status,l=h.getAllResponseHeaders(),m={},n=h.responseXML,n&&n.documentElement&&(m.xml=n),m.text=h.responseText;try{k=h.statusText}catch(o){k=""}!j&&c.isLocal&&!c.crossDomain?j=m.text?200:404:j===1223&&(j=204)}}}catch(p){e||g(-1,p)}m&&g(j,k,m,l)},!c.async||h.readyState===4?d():(i=++cg,cf&&(ch||(ch={},f(a).unload(cf)),ch[i]=d),h.onreadystatechange=d)},abort:function(){d&&d(0,1)}}}});var ck={},cl,cm,cn=/^(?:toggle|show|hide)$/,co=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,cp,cq=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],cr;f.fn.extend({show:function(a,b,c){var d,e;if(a||a===0)return this.animate(cu("show",3),a,b,c);for(var g=0,h=this.length;g<h;g++)d=this[g],d.style&&(e=d.style.display,!f._data(d,"olddisplay")&&e==="none"&&(e=d.style.display=""),e===""&&f.css(d,"display")==="none"&&f._data(d,"olddisplay",cv(d.nodeName)));for(g=0;g<h;g++){d=this[g];if(d.style){e=d.style.display;if(e===""||e==="none")d.style.display=f._data(d,"olddisplay")||""}}return this},hide:function(a,b,c){if(a||a===0)return this.animate(cu("hide",3),a,b,c);var d,e,g=0,h=this.length;for(;g<h;g++)d=this[g],d.style&&(e=f.css(d,"display"),e!=="none"&&!f._data(d,"olddisplay")&&f._data(d,"olddisplay",e));for(g=0;g<h;g++)this[g].style&&(this[g].style.display="none");return this},_toggle:f.fn.toggle,toggle:function(a,b,c){var d=typeof a=="boolean";f.isFunction(a)&&f.isFunction(b)?this._toggle.apply(this,arguments):a==null||d?this.each(function(){var b=d?a:f(this).is(":hidden");f(this)[b?"show":"hide"]()}):this.animate(cu("toggle",3),a,b,c);return this},fadeTo:function(a,b,c,d){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){function g(){e.queue===!1&&f._mark(this);var b=f.extend({},e),c=this.nodeType===1,d=c&&f(this).is(":hidden"),g,h,i,j,k,l,m,n,o;b.animatedProperties={};for(i in a){g=f.camelCase(i),i!==g&&(a[g]=a[i],delete a[i]),h=a[g],f.isArray(h)?(b.animatedProperties[g]=h[1],h=a[g]=h[0]):b.animatedProperties[g]=b.specialEasing&&b.specialEasing[g]||b.easing||"swing";if(h==="hide"&&d||h==="show"&&!d)return b.complete.call(this);c&&(g==="height"||g==="width")&&(b.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],f.css(this,"display")==="inline"&&f.css(this,"float")==="none"&&(!f.support.inlineBlockNeedsLayout||cv(this.nodeName)==="inline"?this.style.display="inline-block":this.style.zoom=1))}b.overflow!=null&&(this.style.overflow="hidden");for(i in a)j=new f.fx(this,b,i),h=a[i],cn.test(h)?(o=f._data(this,"toggle"+i)||(h==="toggle"?d?"show":"hide":0),o?(f._data(this,"toggle"+i,o==="show"?"hide":"show"),j[o]()):j[h]()):(k=co.exec(h),l=j.cur(),k?(m=parseFloat(k[2]),n=k[3]||(f.cssNumber[i]?"":"px"),n!=="px"&&(f.style(this,i,(m||1)+n),l=(m||1)/j.cur()*l,f.style(this,i,l+n)),k[1]&&(m=(k[1]==="-="?-1:1)*m+l),j.custom(l,m,n)):j.custom(l,h,""));return!0}var e=f.speed(b,c,d);if(f.isEmptyObject(a))return this.each(e.complete,[!1]);a=f.extend({},a);return e.queue===!1?this.each(g):this.queue(e.queue,g)},stop:function(a,c,d){typeof a!="string"&&(d=c,c=a,a=b),c&&a!==!1&&this.queue(a||"fx",[]);return this.each(function(){function h(a,b,c){var e=b[c];f.removeData(a,c,!0),e.stop(d)}var b,c=!1,e=f.timers,g=f._data(this);d||f._unmark(!0,this);if(a==null)for(b in g)g[b]&&g[b].stop&&b.indexOf(".run")===b.length-4&&h(this,g,b);else g[b=a+".run"]&&g[b].stop&&h(this,g,b);for(b=e.length;b--;)e[b].elem===this&&(a==null||e[b].queue===a)&&(d?e[b](!0):e[b].saveState(),c=!0,e.splice(b,1));(!d||!c)&&f.dequeue(this,a)})}}),f.each({slideDown:cu("show",1),slideUp:cu("hide",1),slideToggle:cu("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){f.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),f.extend({speed:function(a,b,c){var d=a&&typeof a=="object"?f.extend({},a):{complete:c||!c&&b||f.isFunction(a)&&a,duration:a,easing:c&&b||b&&!f.isFunction(b)&&b};d.duration=f.fx.off?0:typeof d.duration=="number"?d.duration:d.duration in f.fx.speeds?f.fx.speeds[d.duration]:f.fx.speeds._default;if(d.queue==null||d.queue===!0)d.queue="fx";d.old=d.complete,d.complete=function(a){f.isFunction(d.old)&&d.old.call(this),d.queue?f.dequeue(this,d.queue):a!==!1&&f._unmark(this)};return d},easing:{linear:function(a,b,c,d){return c+d*a},swing:function(a,b,c,d){return(-Math.cos(a*Math.PI)/2+.5)*d+c}},timers:[],fx:function(a,b,c){this.options=b,this.elem=a,this.prop=c,b.orig=b.orig||{}}}),f.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(f.fx.step[this.prop]||f.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];var a,b=f.css(this.elem,this.prop);return isNaN(a=parseFloat(b))?!b||b==="auto"?0:b:a},custom:function(a,c,d){function h(a){return e.step(a)}var e=this,g=f.fx;this.startTime=cr||cs(),this.end=c,this.now=this.start=a,this.pos=this.state=0,this.unit=d||this.unit||(f.cssNumber[this.prop]?"":"px"),h.queue=this.options.queue,h.elem=this.elem,h.saveState=function(){e.options.hide&&f._data(e.elem,"fxshow"+e.prop)===b&&f._data(e.elem,"fxshow"+e.prop,e.start)},h()&&f.timers.push(h)&&!cp&&(cp=setInterval(g.tick,g.interval))},show:function(){var a=f._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=a||f.style(this.elem,this.prop),this.options.show=!0,a!==b?this.custom(this.cur(),a):this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur()),f(this.elem).show()},hide:function(){this.options.orig[this.prop]=f._data(this.elem,"fxshow"+this.prop)||f.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(a){var b,c,d,e=cr||cs(),g=!0,h=this.elem,i=this.options;if(a||e>=i.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),i.animatedProperties[this.prop]=!0;for(b in i.animatedProperties)i.animatedProperties[b]!==!0&&(g=!1);if(g){i.overflow!=null&&!f.support.shrinkWrapBlocks&&f.each(["","X","Y"],function(a,b){h.style["overflow"+b]=i.overflow[a]}),i.hide&&f(h).hide();if(i.hide||i.show)for(b in i.animatedProperties)f.style(h,b,i.orig[b]),f.removeData(h,"fxshow"+b,!0),f.removeData(h,"toggle"+b,!0);d=i.complete,d&&(i.complete=!1,d.call(h))}return!1}i.duration==Infinity?this.now=e:(c=e-this.startTime,this.state=c/i.duration,this.pos=f.easing[i.animatedProperties[this.prop]](this.state,c,0,1,i.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update();return!0}},f.extend(f.fx,{tick:function(){var a,b=f.timers,c=0;for(;c<b.length;c++)a=b[c],!a()&&b[c]===a&&b.splice(c--,1);b.length||f.fx.stop()},interval:13,stop:function(){clearInterval(cp),cp=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){f.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&a.elem.style[a.prop]!=null?a.elem.style[a.prop]=a.now+a.unit:a.elem[a.prop]=a.now}}}),f.each(["width","height"],function(a,b){f.fx.step[b]=function(a){f.style(a.elem,b,Math.max(0,a.now)+a.unit)}}),f.expr&&f.expr.filters&&(f.expr.filters.animated=function(a){return f.grep(f.timers,function(b){return a===b.elem}).length});var cw=/^t(?:able|d|h)$/i,cx=/^(?:body|html)$/i;"getBoundingClientRect"in c.documentElement?f.fn.offset=function(a){var b=this[0],c;if(a)return this.each(function(b){f.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return f.offset.bodyOffset(b);try{c=b.getBoundingClientRect()}catch(d){}var e=b.ownerDocument,g=e.documentElement;if(!c||!f.contains(g,b))return c?{top:c.top,left:c.left}:{top:0,left:0};var h=e.body,i=cy(e),j=g.clientTop||h.clientTop||0,k=g.clientLeft||h.clientLeft||0,l=i.pageYOffset||f.support.boxModel&&g.scrollTop||h.scrollTop,m=i.pageXOffset||f.support.boxModel&&g.scrollLeft||h.scrollLeft,n=c.top+l-j,o=c.left+m-k;return{top:n,left:o}}:f.fn.offset=function(a){var b=this[0];if(a)return this.each(function(b){f.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return f.offset.bodyOffset(b);var c,d=b.offsetParent,e=b,g=b.ownerDocument,h=g.documentElement,i=g.body,j=g.defaultView,k=j?j.getComputedStyle(b,null):b.currentStyle,l=b.offsetTop,m=b.offsetLeft;while((b=b.parentNode)&&b!==i&&b!==h){if(f.support.fixedPosition&&k.position==="fixed")break;c=j?j.getComputedStyle(b,null):b.currentStyle,l-=b.scrollTop,m-=b.scrollLeft,b===d&&(l+=b.offsetTop,m+=b.offsetLeft,f.support.doesNotAddBorder&&(!f.support.doesAddBorderForTableAndCells||!cw.test(b.nodeName))&&(l+=parseFloat(c.borderTopWidth)||0,m+=parseFloat(c.borderLeftWidth)||0),e=d,d=b.offsetParent),f.support.subtractsBorderForOverflowNotVisible&&c.overflow!=="visible"&&(l+=parseFloat(c.borderTopWidth)||0,m+=parseFloat(c.borderLeftWidth)||0),k=c}if(k.position==="relative"||k.position==="static")l+=i.offsetTop,m+=i.offsetLeft;f.support.fixedPosition&&k.position==="fixed"&&(l+=Math.max(h.scrollTop,i.scrollTop),m+=Math.max(h.scrollLeft,i.scrollLeft));return{top:l,left:m}},f.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;f.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(f.css(a,"marginTop"))||0,c+=parseFloat(f.css(a,"marginLeft"))||0);return{top:b,left:c}},setOffset:function(a,b,c){var d=f.css(a,"position");d==="static"&&(a.style.position="relative");var e=f(a),g=e.offset(),h=f.css(a,"top"),i=f.css(a,"left"),j=(d==="absolute"||d==="fixed")&&f.inArray("auto",[h,i])>-1,k={},l={},m,n;j?(l=e.position(),m=l.top,n=l.left):(m=parseFloat(h)||0,n=parseFloat(i)||0),f.isFunction(b)&&(b=b.call(a,c,g)),b.top!=null&&(k.top=b.top-g.top+m),b.left!=null&&(k.left=b.left-g.left+n),"using"in b?b.using.call(a,k):e.css(k)}},f.fn.extend({position:function(){if(!this[0])return null;var a=this[0],b=this.offsetParent(),c=this.offset(),d=cx.test(b[0].nodeName)?{top:0,left:0}:b.offset();c.top-=parseFloat(f.css(a,"marginTop"))||0,c.left-=parseFloat(f.css(a,"marginLeft"))||0,d.top+=parseFloat(f.css(b[0],"borderTopWidth"))||0,d.left+=parseFloat(f.css(b[0],"borderLeftWidth"))||0;return{top:c.top-d.top,left:c.left-d.left}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||c.body;while(a&&!cx.test(a.nodeName)&&f.css(a,"position")==="static")a=a.offsetParent;return a})}}),f.each(["Left","Top"],function(a,c){var d="scroll"+c;f.fn[d]=function(c){var e,g;if(c===b){e=this[0];if(!e)return null;g=cy(e);return g?"pageXOffset"in g?g[a?"pageYOffset":"pageXOffset"]:f.support.boxModel&&g.document.documentElement[d]||g.document.body[d]:e[d]}return this.each(function(){g=cy(this),g?g.scrollTo(a?f(g).scrollLeft():c,a?c:f(g).scrollTop()):this[d]=c})}}),f.each(["Height","Width"],function(a,c){var d=c.toLowerCase();f.fn["inner"+c]=function(){var a=this[0];return a?a.style?parseFloat(f.css(a,d,"padding")):this[d]():null},f.fn["outer"+c]=function(a){var b=this[0];return b?b.style?parseFloat(f.css(b,d,a?"margin":"border")):this[d]():null},f.fn[d]=function(a){var e=this[0];if(!e)return a==null?null:this;if(f.isFunction(a))return this.each(function(b){var c=f(this);c[d](a.call(this,b,c[d]()))});if(f.isWindow(e)){var g=e.document.documentElement["client"+c],h=e.document.body;return e.document.compatMode==="CSS1Compat"&&g||h&&h["client"+c]||g}if(e.nodeType===9)return Math.max(e.documentElement["client"+c],e.body["scroll"+c],e.documentElement["scroll"+c],e.body["offset"+c],e.documentElement["offset"+c]);if(a===b){var i=f.css(e,d),j=parseFloat(i);return f.isNumeric(j)?j:i}return this.css(d,typeof a=="string"?a:a+"px")}}),a.jQuery=a.$=f,typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return f})})(window);jQuery(function($){var subNavTimer=false;var mainNavTimer=false;if(typeof defaultSiteNavId!="undefined"){defaultSiteNav=defaultSiteNavId?$('#sitenav_'+defaultSiteNavId):null;if(!defaultSiteNav)
defaultSiteNav=$('div.sitenav li:first');if(location.search.toLowerCase().indexOf('subnav=0')!=-1)
return;$('div.sitenav li,div.subsitenav div').hover(function(){clearTimeout(subNavTimer);clearTimeout(mainNavTimer);var el=$(this);var elid=this.id;mainNavTimer=setTimeout(function(){$('div.sitenav li,div.subsitenav div').removeClass('selected');el.addClass('selected');$('div.subnav').addClass('hidden').filter('#subnav_'+elid.split('sitenav_')[1]).removeClass('hidden');},500);},function(e){clearTimeout(subNavTimer);clearTimeout(mainNavTimer);mainNavTimer=setTimeout(function(){defaultSiteNav.triggerHandler('mouseenter');},500);});$('div.subnav').hover(function(){$('#sitenav_'+this.id.split('subnav_')[1]).triggerHandler('mouseenter');clearTimeout(subNavTimer);clearTimeout(mainNavTimer);},function(e){var $this=$(this);var bottom=$this.offset().top+$this.outerHeight();var elid='#sitenav_'+this.id.split('subnav_')[1];var delay=50;if(e.pageY>=bottom){delay=800;}else{delay=500;}
subNavTimer=setTimeout(function(){$(elid).triggerHandler('mouseleave');},delay);});defaultSiteNav.triggerHandler('mouseenter');}});(function(jQuery){jQuery.fn.rot=function(startTab){var allSets=this;this.each(function(i){jQuery('.nav-tabs a',this).click(function(click){var j=jQuery('.nav-tabs a',allSets[i]).index(this);jQuery('.nav-tabs a',allSets[i]).removeClass('selected').eq(j).addClass('selected');jQuery('.content-tab',allSets[i]).hide().eq(j).show();this.blur();click.preventDefault();});if(!startTab)startTab=1;jQuery('.nav-tabs a',this).eq(startTab-1).click();});return this;};})(jQuery);jQuery(document).ready(function($){$('.hst-centerpiecewide .tabcontent a').click(function(){var tab=$(this).parents('.tabcontent').attr('id').replace("hst_cpiece","");omniLinkTrack('WideCP','Click','CP',tab);return true;});$('.hst-centerpiecewide #hst_cpiece_ctrl a').click(function(){var tab=$(this).parents('li').attr('id').replace("hst_cpiece_tab","");omniLinkTrack('WideCP','Click','Tab',tab);return true;});wideTabLastSent=0;wideTabTime=[];$('.hst-centerpiecewide #hst_cpiece_ctrl li').mouseenter(function(){var tab=this.id.replace("hst_cpiece_tab","");wideTabTime['tab'+tab]=setTimeout("trackMouseEnter("+tab+")",2000);for(i in wideTabTime){if(i!='tab'+tab&&wideTabTime[i]){clearTimeout(wideTabTime[i]);wideTabTime[i]=0;}}});});function trackMouseEnter(tab){var isSelected=$('#hst_cpiece_tab'+tab).hasClass('selected');if(isSelected&&wideTabLastSent!=tab){omniLinkTrack('WideCP','Mouse','Tab',tab);wideTabLastSent=tab;}}
function omniLinkTrack(strSource,strEventType,strObjType,intObjNum){var s=s_gi(s_account);s.linkTrackVars='events,eVar8';s.linkTrackEvents='event8';s.events='event8';s.eVar8=strSource+strEventType+strObjType+intObjNum;s.tl(true,'o',strSource+strEventType+strObjType+intObjNum);}
function openTab(clickedTab,setNumber){this.blur();setClass=".tab-set"+setNumber;var thisTab=$(setClass+" .nav-tabs a").index(clickedTab);$(setClass+" .nav-tabs li a").removeClass("selected");$(setClass+" .nav-tabs li a:eq("+thisTab+")").addClass("selected");$(setClass+" .content-tab").hide();$(setClass+" .content-tab:eq("+thisTab+")").show();$(setClass+" .nav-tabs li").removeClass("selected");$(clickedTab).parent().addClass("selected");currentTab=thisTab;$.preventDefault();return false;}
(function($){$.fn.slideshow=function(deferLoad,showLabels){if(typeof deferLoad=='undefined'){deferLoad=true;}
if(typeof showLabels=='undefined'){showLabels=true;}
this.each(function(){if($(this).hasClass('jQ-slideshow'))
return;$(this).addClass('jQ-slideshow');$('li.item',this).each(function(i){if(!$('img',this).length){var li=$(this),link=$('h4 a',this).get(0).href,src=li.attr('img');if(deferLoad){jQuery(window).load(function(){li.prepend('<p class="illo"><a href="'+link+'"><img src="'+src+'" /></a></p>');});}else{jQuery(window).ready(function(){li.prepend('<p class="illo"><a href="'+link+'"><img src="'+src+'" /></a></p>');});}}});$('.tab',this).hide();$('.tab:first',this).addClass('current').show();var tabs=$('ul div.tab',this);if(tabs.length>1){$('.nav',this).removeClass('hidden');$('.nav a',this).click($.fn.slideshow.changeTab);}
$('.header',this).append('<p class="pagination"></p>');$.fn.slideshow.updatePagination(this,tabs,0,showLabels);});return this;};$.fn.slideshow.changeTab=function(click){this.blur();click.preventDefault();var group=$(this).parents('div.jQ-slideshow').get(0);var tabs=$('ul div.tab',group);var i=tabs.index($('div.current',group));var newTab=$(this).hasClass('next')?(tabs[i+1]?i+1:0):(tabs[i-1]?i-1:tabs.length-1);$(tabs[i]).removeClass('current').hide();$(tabs[newTab]).addClass('current').show();$.fn.slideshow.updatePagination(group,tabs,newTab);};$.fn.slideshow.updatePagination=function(group,tabs,newTab,showLabels){var items=$('li.item',group);var perTab=$('li.item',tabs.get(0)).length;var end=((newTab*perTab)+perTab);var range=((newTab*perTab)+1)+'-'+((end>items.length)?items.length:end);var label=$('.pagination',group).text();if(showLabels||label.match(/^Displaying [1-9]/))
$('.pagination',group).text('Displaying '+range+' of '+items.length);};})(jQuery);(function($){$.fn.paginator=function(navSelector,maxLength){var selector=this.selector;this.each(function(i){var pages=selector+'-pages';$.fn.paginator.pages=pages;minLength=2000;if(maxLength<4000){maxLength=4000;}
if(!$(pages).length){$('<div id="'+pages.substr(1)+'" />').insertBefore(this);$(pages).append($('<div class="page" />'));$(this).contents().each(function(i,el){if($(this).html()){$(this).html($(this).html().replace(/\s(\w+\W*)$/,'&#160;$1'));}
$(this).appendTo(pages+' div.page:last');if($(pages+' div.page:last').text().length>maxLength){var lastElement=$(pages+' div.page:last > :last');if(lastElement.text().length<maxLength){var newPage=$('<div class="page" />');lastElement.appendTo(newPage);if($(pages+' div.page:last > :last').length){if($(pages+' div.page:last > :last').get(0).nodeName.match(/h\d/i)){$(pages+' div.page:last > :last').prependTo(newPage);}}
$(pages).append(newPage);}}});if($(pages+' div.page').length>1){if($(pages+' div.page:last').text().length<minLength){var html=$(pages+' div.page:last').html();$(pages+' div.page:last').remove();$(pages+' div.page:last').append(html);}}
$(pages+' div.page').hide();$(pages+' div.page:first').show();$(selector).remove();}
if($(pages+' div.page').length>1){$('<div id="nav" class="hst-articlepager" />').insertAfter('.hst-articletext');var nav=$('#nav');nav.append($('<a href="#previous" class="prevnav">« Previous</a>'));$(pages+' div.page').each(function(i){nav.append($('<a href="#page-'+(i+1)+'" class="pagenav">'+(i+1)+'</a>'));});nav.append($('<a href="#next" class="nextnav">Next »</a>'));$('a.pagenav:lt('+($('a.pagenav',nav).length-1)+')',nav).after('<span> |</span>');$('a.pagenav',nav).click(function(click){this.blur();click.preventDefault();var i=$('a.pagenav',nav).index(this);if(HDN.refresh){HDN.refresh('page',(i+1));}
changePage(i);location.hash='page-'+(i+1);window.scrollTo(0,$('.hst-articlebox').offset().top);});$('a.prevnav',nav).click(function(click){this.blur();click.preventDefault();var i=$('a.pagenav',nav).index($('a.selected',nav).get(0));$('a.pagenav',nav).eq(i-1).click();}).css('display','none');$('a.nextnav',nav).click(function(click){this.blur();click.preventDefault();var i=$('a.pagenav',nav).index($('a.selected',nav).get(0));$('a.pagenav',nav).eq(i+1).click();});var changePage=function(i){var pages=$.fn.paginator.pages;if($(pages+' div.page').hide().eq(i).length!=1){$('a.pagenav',nav).eq(0).click();}
$(pages+' div.page').hide().eq(i).show();$('a.pagenav',nav).removeClass('selected').eq(i).addClass('selected');var txt='(Page '+(i+1)+' of '+$('a.pagenav',nav).length+')';$('#articlepagerreport').text(txt).css('display',i?'block':'none');$('a.prevnav',nav).css('display',i?'':'none');$('a.nextnav',nav).css('display',(i<($('a.pagenav',nav).length-1))?'':'none');var pages=$('a.pagenav',nav).length;var start=i-4;var end=i+4;if(start<0)end-=start;if(end>=pages)start-=(end-pages)+1;$('a.pagenav, span',nav).show();$('a.pagenav:lt('+start+'), span:lt('+start+')',nav).hide();$('a.pagenav:gt('+end+'), span:gt('+end+')',nav).hide();}
if(location.hash.indexOf('-')!=-1){var hash=location.hash.match(/#?([^\-]+)-(.*)/i);switch(hash[1]){case'page':var i=hash[2]?hash[2]-1:0;changePage(i);break;}}else{changePage(0);}}});return this;};})(jQuery);var HDN=HDN||{};HDN._ping=function(data,typeModifier)
{data=data||HDN.articledata;var pingUrl="http://p.ctpost.com/"
+(data.type+typeModifier)
+(data.id?"i="+data.id+"&":'')
+(data.site?"s="+data.site+"&":'')
+(data.channel?"c="+data.channel+"&":'')
+(data.title?"t="+escape(data.title)+"&":'')
+(data.url?"u="+escape(data.url)+"&":'')
+"ts="+Number(new Date())
new Image().src=pingUrl;};HDN.ping=function(data)
{HDN._ping(data,"?");};HDN.comment_ping=function(data)
{HDN._ping(data,"Comment?");};HDN.email_ping=function(data)
{HDN._ping(data,"Email?");};var HDNPluck=HDNPluck||{};function HDNPluck_get_at_cookie_username(){var start=document.cookie.indexOf('at=');if(start==-1){return'';}
start+=3;var username=document.cookie.substr(start);var end=username.indexOf(';');if(end!=-1){username=username.substr(0,end);}
username_found=0;allATCookieParams=username.split('&');for(i=0;i<allATCookieParams.length;i++){if(allATCookieParams[i].substr(0,2)=='u='){username=allATCookieParams[i].substr(2);username_found=1;i=allATCookieParams.length;}}
if(username_found!=1)
return'';var end2=username.indexOf('&');if(end2!=-1){username=username.substr(0,end2);}
var end=username.indexOf(';');if(end!=-1){username=username.substr(0,end);}
if(username.length==0){return'';}
end=username.indexOf('&');if(end!=-1){username=username.substr(0,end);}
return username;}
try{HDNPluck['user']=HDNPluck_get_at_cookie_username();HDNPluck['userKey']='';HDNPluck['userKey']=new UserKey(HDNPluck['user']);}catch(e){}
function rmdupnls(text){text=HDNPluck_clean_html(text);text=text.replace(/\r\n\r\n(\r\n)+/g,'<br /><br />');text=text.replace(/\r\n/g,'<br />');text=text.replace(/\n\n\n+/g,'<br /><br />');text=text.replace(/\n/g,'<br />');text=text.replace(/\r\r\r+/g,'<br /><br />');text=text.replace(/\r/g,'<br />');return text;}
function HDNPluck_clean_html(s){var re=/<[^>]*>/g;if(re.test(s)){s=s.replace(re,'');s='[html markup was removed from this comment] '+s;}
return s;}
function HDN_pluckgallery(siteCode,mediaCount){this.siteCode=siteCode;this.mediaCount=mediaCount;this.hrst_liid=1;}
HDN_pluckgallery.prototype.getCgiParams=function(){var qs=window.location.search.substring(1,window.location.search.length);var cgis=new Object();if(qs.length>1){var qarray=qs.split("&");for(var i=0;i<qarray.length;i++){var kv=qarray[i].split("=");cgis[kv[0]]=kv[1];}}
return cgis;};HDN_pluckgallery.prototype.setPluckCommentsKey=function(){var hrst_file;var cgis=this.getCgiParams();if(typeof cgis['pid']!="undefined"){var hrst_b_obj=document.getElementById(this.siteCode+'-'+cgis['pid']);if(hrst_b_obj){var element=document.getElementById(this.siteCode+'-'+cgis['pid']);var elements=[];while(element.parentNode){element=element.parentNode;elements.unshift(element);if(element.nodeName&&element.nodeName.toUpperCase()=='LI'){break;};}
if(element.id.indexOf('hst_galleryitem_index')>-1){this.hrst_liid=element.id.substring(21);}
document.getElementById('hst_galleryitem_index_idi').value=this.hrst_liid;var hrst_file=this.siteCode+'-'+cgis['pid'];HDNPluck.file=hrst_file;HDNPluck.page_title=document.getElementById(hrst_file+'-caption').innerHTML;try{document.getElementById('HDNPluck_page_title').innerHTML=document.getElementById(hrst_file+'-caption').innerHTML;}catch(e){}}}else{var element=document.getElementById('hst_galleryitem_index1');try{var hrst_file=element.getElementsByTagName('img')[0].id;}catch(e){var hrst_file=element.getElementsByTagName('div')[0].id;}
HDNPluck.file=hrst_file;HDNPluck.page_title=document.getElementById(hrst_file+'-caption').innerHTML;try{document.getElementById('HDNPluck_page_title').innerHTML=document.getElementById(hrst_file+'-caption').innerHTML;}catch(e){}}};var HDN_customFacebook=new Array();function customSocial(type,basename,urllink,urltitle,double){this.type=type;this.basename=basename;this.urllink=urllink;this.urltitle=urltitle;if(typeof double!='undefined'){this.double=double;}
if(type=='facebook'){this.sharelink='http://www.facebook.com/sharer.php?u='+escape(urllink)+'&t='+escape(urltitle);HDN_customFacebook[HDN_customFacebook.length]=basename;}
this.cntel=document.getElementById(basename+'_cnt');if(double){this.cntel2=document.getElementById(basename+'_2_cnt');}}
function HDN_customFacebookSetup(){var facebookIframe=document.getElementById('customFacebookIframe');if(typeof facebookIframe!='undefined'&&typeof HDN_customFacebook!='undefined'){for(var i=0;i<HDN_customFacebook.length;i++){facebookIframe.contentWindow.HDN_facebookCount(HDN_customFacebook[i]);}}}
customSocial.prototype.AddClick=function(){if(!this.added){var newcount=parseFloat(this.cntel.innerHTML)+1;this.cntel.innerHTML=newcount;if(this.double){this.cntel2.innerHTML=newcount;}
this.added=1;}
if(this.type=='facebook'){window.open(this.sharelink,'sharer','toolbar=0,status=0,width=626,height=436');}
return false;};HDN.authOnReady=function(siteFormat,dynamicallyLoadComments,initCommentPath){if(typeof window.viafoura!='undefined'){window.viafoura.ready(function(){$.event.trigger({type:"hdnViafouraReady",message:"Viafoura object is loaded",time:new Date()});window.viafoura.subscribe('onLoginRequired',function(){if(HDN.vfReqAuth()){if($('textarea[name="vf_content"]').val()!=""){window.viafoura.subscribe('onLoginSuccess',function(){$('.vf-comment-submit').trigger('click');});}
HDN.publishVf();return false;}
var sTop=$(window).scrollTop();$(document).bind("hdnLoginSuccessful",function(){if(typeof HDN.onLoginSuccess!=='undefined'){HDN.onLoginSuccess('reg_member')}
if(siteIsMobile){$('div.ui-page').removeClass('ui-page-panel-open');$('#menuPanel').removeClass('ui-panel-open');$('#menuPanel').addClass('ui-panel-close');$('div.ui-panel-content-wrap').removeClass('ui-panel-content-wrap-position-right');$('div.ui-panel-content-wrap').removeClass('ui-panel-content-wrap-display-push');$('div.ui-panel-content-wrap').removeClass('ui-panel-content-wrap-open');$('div.ui-panel-content-wrap').addClass('ui-panel-content-wrap-closed');$('#hdnHambMenu').removeClass('ui-focus');$('div.ui-panel-dismiss').removeClass('ui-panel-dismiss-position-right');$('div.ui-panel-dismiss').removeClass('ui-panel-dismiss-display-push');$('div.ui-panel-dismiss').removeClass('ui-panel-dismiss-open');$(window).scrollTop(sTop);}
HDN.publishVf();return false;});if(siteFormat=='mobile'){$('div.ui-page').addClass('ui-page-panel-open');$('#menuPanel').addClass('ui-panel-open');$('#menuPanel').removeClass('ui-panel-close');$('div.ui-panel-content-wrap').addClass('ui-panel-content-wrap-position-right');$('div.ui-panel-content-wrap').addClass('ui-panel-content-wrap-display-push');$('div.ui-panel-content-wrap').addClass('ui-panel-content-wrap-open');$('div.ui-panel-content-wrap').removeClass('ui-panel-content-wrap-closed');$('#hdnHambMenu').addClass('ui-focus');$('div.ui-panel-dismiss').addClass('ui-panel-dismiss-position-right');$('div.ui-panel-dismiss').addClass('ui-panel-dismiss-display-push');$('div.ui-panel-dismiss').addClass('ui-panel-dismiss-open');$('#hdn-click-reg-toggle span.ui-icon').removeClass('ui-icon-arrow-d');$('#hdn-click-reg-toggle span.ui-icon').addClass('ui-icon-arrow-u');$('#mobile_signinreg_div_collapsible_content').removeClass('ui-collapsible-content-collapsed');window.scrollTo(0,0);window.viafoura.subscribe('onLoginSuccess',function(){if($('textarea[name="vf_content"]').val()!=""){$('.vf-comment-submit').trigger('click');}});}else if(siteFormat=='free'){$('#modal_signin_div').show();window.viafoura.subscribe('onLoginSuccess',function(){if($('textarea[name="vf_content"]').val()!=""){$('.vf-comment-submit').trigger('click');}});}});if(siteFormat!='premium'){$(document).bind("hdnLogoutSuccessful",function(){window.viafoura.subscribe('onLogoutSuccess',window.viafoura.reset);window.viafoura.session.logout();return false;});if(HDN.vfReqAuth()){HDN.publishVf();}}
var commentsPerPage=GetCookie('comments_per_page');HDN.initVf(initCommentPath,commentsPerPage);if(dynamicallyLoadComments){HDN.resetComments=function(commentId,commentPath){if(typeof window.viafoura!='undefined'){if(commentId){$('meta[property="vf:unique_id"]').attr('content',commentId);}
if(commentPath){$('div[data-widget="comments"]').attr('data-path',commentPath);}
window.viafoura.reset();}}}});}else{setTimeout(function(){HDN.authOnReady(siteFormat,dynamicallyLoadComments,initCommentPath)},500);}};HDN.initVf=function(commentPath,commentCount){var cP="";if(commentPath){cP=' data-path="'+commentPath+'"';}
var cC=' data-limit=';if(commentCount){cC+='"'+commentCount+'"';}else{cC+='"10"';commentCount=10;}
$('#hdn-vf-comments').html('<div name="comments" class="viafoura"><div class="vf-comments vf-widget" data-widget="comments"'+cP+cC+'></div></div>');window.viafoura.poll();if($('#hdn-vf-comments').length){HDN.vfPasteCountNav(HDN.vfCountNav(commentCount));}};HDN.vfReqAuth=function(){var localUser={name:HDN.getAtUser()};var remoteUser=window.viafoura.users.current();if(localUser.name&&localUser.name!=''){if(!remoteUser.logged_in||localUser.name!==remoteUser.name){return true;}}else if(remoteUser.logged_in){window.viafoura.subscribe('onLogoutSuccess',window.viafoura.reset);window.viafoura.session.logout();}
return false;};HDN.publishVf=function(){var atC=document.cookie.split("at=");var lUCookie='';if(atC.length==2){lUCookie=encodeURIComponent(HDN.getAtCookie());}
window.viafoura.publish("user.custom_login",{site:"viafouraDefinedCookie",cookie:lUCookie});return;};HDN.getAtCookie=function(){var atC=document.cookie.split("at=");var lUCookie='';if(atC.length==2){atC=atC.pop().split(";").shift();if(atC.indexOf("=")==-1){return decodeURIComponent(atC)}
return atC;}
return'';};HDN.getAtUser=function(){var at=HDN.getAtCookie().split("&");for(var i=0;i<at.length;i++)
{var u=at[i].split("=");if(u[0]=="u"){return u[1];}}
return'';};HDN.setCommentCount=function(cCnt){if(typeof(cCnt)=='undefined'){cCnt='10';}
var curCnt=$('div[data-widget="comments"]').attr('data-limit');if(curCnt!=cCnt){SaveCookie('comments_per_page',cCnt,365,'/');HDN.initVf('',cCnt);}};HDN.vfPasteCountNav=function(countNav){if($('div.vf-comments-setting').length){$('div.vf-comments-setting').append(countNav);}else{setTimeout(function(){HDN.vfPasteCountNav(countNav);},500);}};HDN.vfCountNav=function(commentCount){return'<div class="hdn-vf-comment-counts"><span class="hdn-vf-show-label">Show:  </span>'+'    <a href="#" onclick="HDN.setCommentCount(10); return false;" class="hdn-vf-comment-count'+(commentCount=='10'?' selected':'')+'">10</a>'+'    <span class="hdn-vf-pipe">|</span>'+'    <a href="#" onclick="HDN.setCommentCount(20); return false;" class="hdn-vf-comment-count'+(commentCount=='20'?' selected':'')+'">20</a>'+'    <span class="hdn-vf-pipe">|</span>'+'    <a href="#" onclick="HDN.setCommentCount(50); return false;" class="hdn-vf-comment-count'+(commentCount=='50'?' selected':'')+'">50</a>'+'</div>';};HDN.getBlogCommentCount=function(){var gbccData={"site":"blog."+HDN.domain,"requests":{}};var gbccDataCnt=0;$('div.viafoura span.vf-counter[data-path^="http://blog.'+HDN.domain+'"]').each(function(){gbccData.requests['gbcc'+(gbccDataCnt++)]={"route":'/pages/'+encodeURIComponent($(this).attr('data-path').replace("http://blog."+HDN.domain,"").replace(/\?.*$/,'')),"verb":"GET"};});if(typeof(gbccData.requests['gbcc0'])!='undefined'){$.ajax({url:'https://api.viafoura.com/v2/?json='+encodeURIComponent(JSON.stringify(gbccData))+'&callback=?',dataType:'jsonp',success:function(data){var dcount=0;$('div.viafoura span.vf-counter[data-path^="http://blog.'+HDN.domain+'"]').each(function(){var datacnt=data.responses['gbcc'+(dcount++)];$(this).html((typeof(datacnt.result)!='undefined'?datacnt.result.num_replies:''));});}});}};(function(){HDN.TESTRATE=0.1;HDN.TESTVER=1.1;HDN.errcount=0;HDN.getQueryString=function(){var assoc=[],queryString=unescape(location.search.substring(1)),keyValues=queryString.split('&'),i,key;try{for(i in keyValues){key=keyValues[i].split('=');assoc[key[0]]=key[1];}
return assoc;}catch(e){return assoc;}};HDN.addEventListener=function(sType,callback,bCapture){if("undefined"!==typeof(window.attachEvent)){return window.attachEvent("on"+sType,callback);}
else if(window.addEventListener){return window.addEventListener(sType,callback,bCapture);}};HDN.perf=HDN.perf||{};HDN.perf.splits=[];HDN.perf.splittime=function(){HDN.perf.splits.push(Number(new Date()));};HDN.perf.pageloadingtime=function()
{HDN.perf.afterload=Number(new Date());HDN.perf.splittime();var seconds=(HDN.perf.afterload-HDN.perf.beforeload)/1000;var qs=[];qs.push("?p="+"pageloadtime");qs.push("st="+HDN.perf.beforeload);qs.push("t="+seconds);for(i in HDN.perf.splits){if(i>0){qs.push("d"+i+"="+(HDN.perf.splits[i]-HDN.perf.splits[i-1]));}}
qs.push("u="+HDN.perf.url);var msg="";for(i in qs){msg+="&nbsp;&nbsp;"+qs[i]+"<br>";}
var perfUrl="http://test."+HDN.perf.dom+"/beacon/page";var parameters=qs.join('&amp;');new Image().src=perfUrl+parameters;};HDN.perf.init=function(){HDN.perf.beforeload=HDN.t_firstbyte||Number(new Date());HDN.perf.dom='ctpost.com';HDN.perf.url=escape(document.location.href);HDN.perf.splits=[HDN.perf.beforeload];window.onerror=function(errorMessage,url,line){HDN.errcount++;if(HDN.errcount>20){window.onerror=null;return false;}
var loggerUrl="http://test."+HDN.perf.dom+"/beacon/error";var parameters="?description="+escape(errorMessage)
+"&amp;url="+escape(url)
+"&amp;line="+escape(line)
+"&amp;parent_url="+HDN.perf.url
+"&amp;user_agent="+escape(navigator.userAgent)
+"&amp;st="+HDN.perf.beforeload;new Image().src=loggerUrl+parameters;};};var testrate=HDN.getQueryString().testrate;testrate=testrate||HDN.TESTRATE;if(Math.random()<testrate){HDN.perf.init()
HDN.addEventListener("load",function(){HDN.perf.pageloadingtime();},false);}}());if(!HDN){var dom=document.domain;var doma=dom.split(/\./);var domdom=doma.slice(doma.length-2).join('.');var HDN={property:"HDN",site:doma[doma.length-2],domain:domdom,cookieDomain:"."+domdom,regUrl:"http://reg."+domdom+"/",regAuthCookie:"chron_user_auth",regDemoCookie:"hc_customize",siteUrl:"http://preview.cmf."+domdom+"/",jskEPBUrl:"http://"+domdom+"/profile/"};}
function GetCookie(Name){var cookies=document.cookie;if(cookies.indexOf(Name+'=')==-1)return null;var start=cookies.indexOf(Name+'=')+(Name.length+1);var finish=cookies.substring(start,cookies.length);finish=(finish.indexOf(';')==-1)?cookies.length:start+finish.indexOf(';');return unescape(cookies.substring(start,finish));}
function SaveCookie(cname,cvalue,cdays,cpath){ex=new Date;ex.setTime(ex.getTime()+(cdays*86400000));if(cpath==null){cpath="/"}
else{cpath="; path="+cpath}
document.cookie=cname+'='+cvalue+'; expires='+ex.toGMTString()+cpath+"; domain="+HDN.cookieDomain;}
function relocateDivContent(origId,newId){var newLocation=document.getElementById(newId);var origLocation=document.getElementById(origId);if(!newLocation||!origLocation){return false;}
origLocation.parentNode.removeChild(origLocation);newLocation.parentNode.replaceChild(origLocation,newLocation);newLocation.style.display="block";return true;}
var hst_pager=false;function hst_print(){jQuery('body').addClass('hst-printable');jQuery('#text-pages .page').show();jQuery('.article-body').css("font-family","Verdana, Geneva, sans-serif !important");if(jQuery('.hst-articlepager-report').css('display')!=='none'){hst_pager=true;}
jQuery('.hst-galleryitem, .hst-gallerynav, .hst-articlepager, .hst-articlepager-report, .hst-sitefooter, #pluckCommentsContainer, .hst-ysm, .hst-morestories, .hst-art-breadcrumb, .hst-mediumrectangle').hide();window.scrollTo(0,0);window.print();setTimeout("hst_showContent()",1000);jQuery('.article-body').css("font-family","RobotoRegular, arial, sans-serif !important");}
function hst_showContent(){jQuery('.hst-galleryitem, .hst-gallerynav, .hst-articlepager, .hst-sitefooter, #pluckCommentsContainer, .hst-ysm, .hst-morestories, .hst-art-breadcrumb, .hst-mediumrectangle').show();if(hst_pager){jQuery('.hst-articlepager-report').show();}
jQuery('body').removeClass('hst-printable');}
function hst_screen(){var screenBodyClass=document.body.className.substring(14);document.body.className=screenBodyClass;relocateDivContent("hst-printable-ad","hst-mediumrectangle1");}
function hst_share(service){var url=location.href;url=url.replace(/^http:\/\/[a-z]+\.u\./i,'http://www.');encodedurl=encodeURIComponent(url);var encodedtitle=encodeURIComponent(document.title);var serviceUrl=null;if(service=='delicious'){serviceURL='http://del.icio.us/post?v=4&noui&jump=close'
+'&url='+encodedurl
+'&title='+encodedtitle;}else if(service=='digg'){serviceURL='http://digg.com/submit?phase=2'
+'&url='+encodedurl
+'&title='+encodedtitle;}else if(service=='facebook'){serviceURL='http://www.facebook.com/sharer.php'
+'?u='+encodedurl
+'&t='+encodedtitle;}else if(service=='fark'){serviceURL='http://www.fark.com/cgi/fark/submit.pl'
+'?new_url='+encodedurl
+'&new_comment='+encodedtitle;}else if(service=='google'){serviceURL='http://www.google.com/bookmarks/mark?op=add'
+'&bkmk='+encodedurl
+'&title='+encodedtitle
+'&labels='+''
+'&annotation='+'';}else if(service=='myspace'){serviceURL='http://www.myspace.com/index.cfm?fuseaction=postto'
+'&u='+encodedurl
+'&t='+encodedtitle}else if(service=='newsvine'){serviceURL='http://www.newsvine.com/_tools/seed&save'
+'?u='+encodedurl;}else if(service=='reddit'){serviceURL='http://reddit.com/submit'
+'?url='+encodedurl
+'&title='+encodedtitle;}else if(service=='slashdot'){serviceURL='http://slashdot.org/bookmark.pl'
+'?url='+encodedurl
+'&title='+encodedtitle;}else if(service=='technorati'){serviceURL='http://technorati.com/faves?sub=favthis'
+'&add='+encodedurl;}else if(service=='twitter'){serviceURL='http://twitter.com/home?status='
+encodedtitle+": "+encodedurl;}
if(serviceURL!=null){var theNewWin=window.open(serviceURL,'hstshare','width=900,height=640,resizable=yes,toolbar=no,location=no,scrollbars=yes');if(typeof theNewWin!="undefined"&&theNewWin!=null){theNewWin.focus();}}
document.getElementById('sharepop1').style.display='none';document.getElementById('sharepop1mask').style.display='none';}
var hst_sizeclasses={xs:{minus:null,plus:'sm'},sm:{minus:'xs',plus:'md'},md:{minus:'sm',plus:'lg'},lg:{minus:'md',plus:'xl'},xl:{minus:'lg',plus:null}}
var hst_bt_fonts={georgia:1,verdana:1,times:1,arial:1};function hst_getbodytext_obj(loc){var textel=document.getElementById('fontprefs_'+loc);if(typeof textel=="undefined"||typeof textel.className=="undefined"){return null;}
var c_obj=hst_validate_fprefs(textel.className);if(c_obj==null){return null;}
return{el:textel,fc:c_obj.fc,sc:c_obj.sc};}
function hst_validate_fprefs(textclass){var textclasses=textclass.split(' ');var fontclass=textclasses[0];var sizeclass=textclasses[1];if(typeof fontclass=="undefined"||typeof sizeclass=="undefined"||typeof hst_sizeclasses[sizeclass]=="undefined"||typeof hst_bt_fonts[fontclass]=="undefined"){return null;}
return{fc:fontclass,sc:sizeclass};}
function hst_chfont(newfont){var c_obj_top=hst_getbodytext_obj('top');if(c_obj_top==null){return;}
var tc=newfont+' '+c_obj_top.sc;c_obj_top.el.className=tc;hst_set_fprefs(tc);}
function hst_chsize(direction){var c_obj_top=hst_getbodytext_obj('top');if(c_obj_top==null||hst_sizeclasses[c_obj_top.sc][direction]==null){return;}
var tc=c_obj_top.fc+' '+hst_sizeclasses[c_obj_top.sc][direction];c_obj_top.el.className=tc;hst_set_fprefs(tc);}
function hst_setsize(sizeclass){var c_obj_top=hst_getbodytext_obj('top');if(c_obj_top==null||typeof hst_sizeclasses[sizeclass]=="undefined"){return;}
c_obj_top.el.className=c_obj_top.fc+' '+sizeclass;}
function hst_get_fprefs(){var start=document.cookie.indexOf('fprefs');if(start==-1){return;}
start+=7;var cookieVal=document.cookie.substr(start);var end=cookieVal.indexOf(';');if(end!=-1){cookieVal=cookieVal.substr(0,end);}
if(cookieVal.length==0){return;}
cookieVal=unescape(cookieVal);var c_obj=hst_validate_fprefs(cookieVal);if(c_obj==null){return;}
var textel_top=document.getElementById('fontprefs_top');if(textel_top==null){return;}
textel_top.className=cookieVal;var radiob=document.getElementById('font_radio_'+c_obj.fc);if(radiob==null){return;}
radiob.checked=true;}
function hst_set_fprefs(fprefs){var nextyear=new Date();nextyear.setDate(nextyear.getDate()+365);document.cookie='fprefs='+escape(fprefs)+'; expires='+nextyear.toUTCString()+'; path=/'+'; domain='+HDN.cookieDomain;}
function isObjectEmpty(obj){for(var i in obj){return false;}
return true;}
function countJSONItems(obj){var count=0;for(var i in obj){count++;}
return count;}
function hst_setupMoreStoriesDisplay(){$('.moreArticlesListItem').each(function(index){refs=this.getElementsByTagName('div');for(var x=0;x<2;x++){if(refs[x].id!='ma_'+bizobject_identifier){refs[x].style.display='inline';break;}else{continue;}}})}
var popTimerHandle=null;function popShow(idel,elem){if(popTimerHandle!=null){clearTimeout(popTimerHandle);popTimerHandle=null;}
elObj=document.getElementById(idel);elObj.style.display='block';if(elem){elem.blur();}}
function popHide(idel){popTimerHandle=setTimeout("displayNone('"+idel+"');",250);}
function displayNone(idel){elObj=document.getElementById(idel);elObj.style.display='none';}
function popup(url){window.open(url,'','menubar=0,width=600,height=600,toolbar=0,scrollbar=0,location=0');return true;}
function ysmShowAds(){var i=6;var last_item=0;if(typeof zSr!="undefined"&&zSr!=null&&zSr.length>i){var lastel=zSr.length-6;document.write('\n<div class="header">\n<h2>Ads by <span class="brand">Yahoo!</span></h2>\n</div>\n<ul>\n');while(i<zSr.length){if(i==lastel){last_item=1;}
var descr=zSr[i++];var unused1=zSr[i++];var clickURL=zSr[i++];var title=zSr[i++];var sitehost=zSr[i++];var unused2=zSr[i++];if(last_item){document.write('<li class="last">\n');}else{document.write('<li>\n');}
document.write('<h4><a target="_new" href="'+clickURL+'">'+title+'</a></h4>\n');document.write('<p><a target="_new" href="'+clickURL+'">'+descr+'</a></p>\n');document.write('<p class="sitehost"><a target="_new" href="'+clickURL+'">('+sitehost+')</a></p>\n');document.write('</li>\n\n');document.write('</ul>');}}else{document.write('<!-- YSM error - no ads returned -->');}}
function YsmIfNotFromSearch(ysm){var isSearch=function(){var r=document.referrer;return((r.match(/google\..*/)!=null)||(r.match(/google\..*\/url/)!=null)||(r.match(/googlelabs\..*/)!=null)||(r.match(/yahoo\.com/)!=null)||(r.match(/msn\.com/)!=null)||(r.match(/bing\.com/)!=null)||(r.match(/aol\..*\.com/)!=null)||(r.match(/ask\.com/)!=null))?true:false;};if(isSearch()===false){document.write(ysm);}}
(function($){$.storySlideshow=function(defaultSize){gallery=$('div.hst-galleryitem');$.storySlideshow.resize(defaultSize);$('div.entrylinks a:first',gallery).click(function(click){click.preventDefault();this.blur();$.storySlideshow.resize(($(this).text()=='Larger')?'':defaultSize);$('ul, .pagination',gallery).show();$(this).text(($(this).text()=='Larger')?'Smaller':'Larger');$('div.entrylinks a:last',gallery).text('Hide')});$('div.entrylinks a:last',gallery).click(function(click){click.preventDefault();this.blur();if($(this).text()=='Hide'){$('ul, .pagination',gallery).hide();$('div.entrylinks a:first',gallery).text('Larger');$(this).text('Smaller')}else{$.storySlideshow.resize(defaultSize);$('ul, .pagination',gallery).show();$(this).text('Hide')}});$('div.carousel li:not(.link) a').click(function(click){click.preventDefault();this.blur();$('ul, .pagination',gallery).show();$('div.entrylinks a:last',gallery).text('Hide');});};$.storySlideshow.resize=function(height){gallery=$('div.hst-galleryitem'),maxWidth=gallery.width();$('li',gallery).each(function(){var li=$(this),img=$('img:first',li),hide=0,origHeight=$(img).attr("height");if(height!=''){if(img.attr("height")>height)$(img).height(height+'px');}else{$(img).height('');}
if(li.css('display')=='none')li.css('display','block').addClass('hideMe');if(img.width()>maxWidth)img.height('');if(li.hasClass('hideMe'))li.css('display','none').removeClass('hideMe');});};})(jQuery);jQuery(document).ready(function(){var request_url=document.location.toString();if(request_url.indexOf("#")!=-1){var anchor=request_url.split('#')[1];var object_id=anchor.split('-')[1];if(object_id>1000){var html_id=HDN.site+'-'+anchor;var item_object=$('#'+html_id);if(item_object.length){var visible_item_object=$('div.hst-galleryitem li:visible img, div.hst-galleryitem li:visible div, .articleGalleryModuleContent li:visible img, .articleGalleryModuleContent li:visible div');if(visible_item_object.attr('id')!=html_id){var li_object=item_object.parents('div.hst-galleryitem li, .articleGalleryModuleContent li');var item_index=parseInt(li_object.attr('id').replace("hst_galleryitem_index",""));hst_gallerynav_index.showitem(hst_galleryitem_index,item_index);if($('.articleGalleryModuleContent').length){agmDealWithMainArrows();agmDealWithThumbArrows();}
$('meta[property="vf:unique_id"]').attr('content',html_id);if(typeof HDN.resetComments=='function'){HDN.resetComments();}}}}}});function setHashToSelectedItem(){var item_object=$('div.hst-galleryitem li:visible img, div.hst-galleryitem li:visible div, .articleGalleryModuleContent li:visible img, .articleGalleryModuleContent li:visible div[id]');var item_id=item_object.attr('id');var item_id_parts=item_id.split('-');if(item_id_parts[1]&&item_id_parts[2]){var new_anchor=item_id_parts[1]+'-'+item_id_parts[2];window.location.replace('#'+new_anchor);}}
function agmDealWithMainArrows(){var currentSlide=parseInt($('#hst_galleryitem_index_idi').val());var maxSlide=hst_galleryitem_index.numels;var $bigNext=$('.imageNextBtn span');var $bigPrev=$('.imagePrevBtn span');$bigNext.removeClass('off');$bigPrev.removeClass('off');if(currentSlide==1){$bigPrev.addClass('off');}
if(currentSlide==maxSlide){$bigNext.addClass('off');}}
function agmDealWithThumbArrows(){var startOfCurrentSet=parseInt($('#hst_gallerynav_index_idi').val());var maxSlide=hst_gallerynav_index.numels;var sizeOfSlideSet=hst_gallerynav_index.jump;$thumbNext=$('.thumbListNext');$thumbPrev=$('.thumbListPrev');$thumbNext.removeClass('thumbListNextGray');$thumbPrev.removeClass('thumbListPrevGray');if(startOfCurrentSet==1){$thumbPrev.addClass('thumbListPrevGray');}
if((startOfCurrentSet+sizeOfSlideSet)>maxSlide){$thumbNext.addClass('thumbListNextGray');}}
if(!window.WIDGETBOX){(function(){var D=false;var C=function(){WIDGETBOX.setPageLoaded();};var B=function(){WIDGETBOX.setPageUnloaded();};WIDGETBOX={libs:{},version:"57488",urls:{runtimeBaseUrl:"http://www.widgetserver.com/syndication",galleryBaseUrl:"http://www.widgetbox.com",cdnRuntimeBaseUrl:"http://cdn.widgetserver.com/syndication",cdnGalleryBaseUrl:"http://pub.widgetbox.com",metricsBaseUrl:"http://t.widgetserver.com/t",proxyBaseUrl:"http://p.widgetserver.com/p",markupRuntimeBaseUrl:"http://www.widgetserver.com/syndication",mobileSiteRuntimeBaseUrl:"http://m.wbx.me",linkbarBaseUrl:"http://l.wbx.me/l",imageProxyBaseUrl:"http://i.widgetserver.com",dataApiBaseUrl:"http://data.widgetserver.com"},globals:{token:"",tokenTime:0,widgets:[],widgetCount:0,pageLoaded:false,pageUnloaded:false,eventListeners:[],pageLoadListeners:[],pageUnloadListeners:[],panels:[],panelCount:0,showPanelMarks:true,suppressGetWidget:false,disableGetWidget:false,enableLogging:false,disableHitTracking:false,log:"",trustedPage:false,disableInstallerMenu:false,renderInstallerMenuInline:false,anchorEl:null,vid:null,startTime:0,flashBlacklist:[],nextZIndex:5001,isTopAccessible:true},init:function(){if(!D){D=true;if(window&&window.location&&window.location.protocol==="https:"){for(var H in WIDGETBOX.urls){if(WIDGETBOX.urls.hasOwnProperty(H)){WIDGETBOX.urls[H]=WIDGETBOX.urls[H].replace("http://","https://");}}}if(window.WIDGETBOXLOADLISTENERS){for(H=0;H<WIDGETBOXLOADLISTENERS.length;H++){A.addPageLoadListener(WIDGETBOXLOADLISTENERS[H]);}}A.addEvent(window,"load",C);A.addEvent(window,"unload",B);if(window.WIDGETBOXINITLISTENERS){for(H=0;H<WIDGETBOXINITLISTENERS.length;H++){try{WIDGETBOXINITLISTENERS[H]();}catch(J){WIDGETBOX.logMessage(J);}}}try{var K=new RegExp("[A-Za-z]+:[/][/][A-Za-z0-9.-]+");var G=window.document.referrer;if(G){G=G.toLowerCase();}var I=window.location.href;if(I){I=I.toLowerCase();}var M=G.match(K);var F=(M&&M[0])||G;var L=I.match(K);var E=(L&&L[0])||I;WIDGETBOX.globals.isTopAccessible=A==top||!E||E=="about:blank"||F==E;}catch(J){WIDGETBOX.logMessage(J);}}},namespace:function(G){G=G.replace(".","/");if(G.indexOf("WIDGETBOX/")===0){G=G.substr(10);}if(G.indexOf("POSTAPP/")===0){G=G.substr(8);}var E=G.split("/");var I=WIDGETBOX;if(E){var H;for(var F=0;F<E.length;F++){H=E[F];if(!I[H]){I[H]={};}I=I[H];}}return G;},logMessage:function(E){if(A.globals.enableLogging){A.globals.log+=E+"\n";}},newLibInfo:function(G){G=G.replace(".","/");var J=G;var H="";var F=G.lastIndexOf("/");if(F>=0){H=G.substr(0,F);J=G.substr(F+1);}H=A.namespace(H);G=H+"/"+J;var I=G.replace("/","_").toLowerCase();var E={ns:H,name:J,path:G,id:I,status:null,callback:null};return E;},load:function(G,F,H){var E=A.newLibInfo(G);if(!WIDGETBOX.libs[E.id]){WIDGETBOX.libs[E.id]=E;E.status="loading";if(F){if(!E.listeners){E.listeners=[];}E.listeners.push(F);}A.appendScript(((!H)?WIDGETBOX.urls.runtimeBaseUrl:WIDGETBOX.urls.cdnRuntimeBaseUrl)+"/"+E.path+".js?"+WIDGETBOX.version,"widgetbox_lib_"+E.id,"true");}else{E=WIDGETBOX.libs[E.id];if(F){if(E.status=="ready"){try{F(E);}catch(I){WIDGETBOX.logMessage(I);}}else{if(!E.listeners){E.listeners=[];}E.listeners.push(F);}}}},ready:function(F){var E=A.newLibInfo(F);if(!WIDGETBOX.libs[E.id]){WIDGETBOX.libs[E.id]=E;}E=WIDGETBOX.libs[E.id];return E.status=="ready";},setReady:function(G){var F=A.newLibInfo(G);if(!WIDGETBOX.libs[F.id]){WIDGETBOX.libs[F.id]=F;}F=WIDGETBOX.libs[F.id];F.status="ready";if(F.listeners){var E=0;for(E=0;E<F.listeners.length;E++){var H=F.listeners[E];try{H(F);}catch(I){WIDGETBOX.logMessage(I);}}}},appendScript:function(G,J,I,E){var F=document.createElement("script");F.id=J;F.type="text/javascript";if(I&&I!="false"){F.setAttribute("async",I);}if(E){F.onreadystatechange=function(){if(this.readyState=="complete"){E();}};F.onload=E;}F.src=G;var H=document.documentElement.firstChild;if(!H||(H.nodeName&&(H.nodeName.toLowerCase().indexOf("comment")>-1||H.nodeName.toLowerCase().indexOf("script")>-1))){H=document.getElementsByTagName("head")[0];}H.appendChild(F);},addEvent:function(I,H,F,E){if(!I){return;}if(I.addEventListener){I.addEventListener(H,F,E);return true;}else{if(I.attachEvent){var G=I.attachEvent("on"+H,F);return G;}}},removeEvent:function(H,G,F,E){if(!H){return;}if(H.removeEventListener){H.removeEventListener(G,F,E);return true;}else{if(H.detachEvent){return H.detachEvent("on"+G,F);}}},addEventListener:function(E,G){if(G){if(!A.globals.eventListeners){A.globals.eventListeners={};}if(!A.globals.eventListeners[E]){A.globals.eventListeners[E]=[];}var F=A.globals.eventListeners[E];F[F.length]=G;}},notifyEventListeners:function(F){if(!A.globals.eventListeners){return;}var G=A.globals.eventListeners[F];if(!G){return;}for(var E=0;E<G.length;E++){var H=G[E];try{H(this);}catch(I){WIDGETBOX.logMessage(I);}}},addPageLoadListener:function(E){if(E){if(!A.globals.pageLoaded){A.globals.pageLoadListeners.push(E);}else{try{E();}catch(F){WIDGETBOX.logMessage(F);}}}},addPageUnloadListener:function(E){if(E){if(!A.globals.pageUnloaded){A.globals.pageUnloadListeners.push(E);}else{try{E();}catch(F){WIDGETBOX.logMessage(F);}}}},setPageLoaded:function(){if(A.globals.pageLoaded){return;}A.globals.pageLoaded=true;A.removeEvent(window,"load",C);var F=A.globals.pageLoadListeners;var E;for(E=0;E<F.length;E++){try{F[E]();}catch(G){WIDGETBOX.logMessage(G);}}},setPageUnloaded:function(){if(A.globals.pageUnloaded){return;}A.globals.pageUnloaded=true;A.removeEvent(window,"unload",B);var E=A.globals.pageUnloadListeners;for(i=0;i<E.length;i++){try{E[i]();}catch(F){WIDGETBOX.logMessage(F);}}},generateGUID:function(H,E){var I=(H)?H:Math.random;var K=(E)?36:32,M="0123456789abcdef".split(""),F,G=[];if(E){G[8]=G[13]=G[18]=G[23]="-";G[14]="4";}for(var J=0;J<K;J++){if(!G[J]){F=0|I()*16;G[J]=M[(J==19)?(F&3)|8:F];}}var L=G.join("");if(!WIDGETBOX.globals.vid){WIDGETBOX.globals.vid=L;}return L;},generateProxiedImageUrl:function(E,H,G,F){var I=E;I=this.urls.imageProxyBaseUrl+"/ip/origin=="+encodeURIComponent(I);if(H){I+="&&w=="+Math.round(H);}if(G){I+="&&h=="+Math.round(G);}if(F){I+="&&type=="+F;}I+="?token="+WIDGETBOX.globals.token;return I;},createElement:function(F,E){if(E){return E.ownerDocument.createElement(F);}else{return document.createElement(F);}},isType:function(E,F){var G=Object.prototype.toString.call(F).slice(8,-1);return F!==undefined&&F!==null&&G===E;}};POSTAPP=WIDGETBOX;var A=WIDGETBOX;A.init();})();}WIDGETBOX.namespace("random");if(!WIDGETBOX.random.Utils){(function(){WIDGETBOX.random.Utils={seedData:null,seeded:false,random:function(){if(!WIDGETBOX.random.Utils.seeded){(function(J,K,D,I,M,G,C){K.seedrandom=function H(N,R){var Q=[];var O;var T=new Date();var P=T.getTime();var S=B(R?[N,J]:(arguments.length?N:[P,J,window]),3);N=L(S,Q);WIDGETBOX.random.Utils.seedData='{t:"'+P+'"}';O=new F(Q);L(O.S,J);K.betterRandom=function U(){var X=O.g(I);var W=C;var V=0;while(X<M){X=(X+V)*D;W*=D;V=O.g(1);}while(X>=G){X/=2;W/=2;V>>>=1;}return(X+V)/W;};return N;};function F(S){var R,P,U=this,T=S.length;var Q=0,O=U.i=U.j=U.m=0;U.S=[];U.c=[];if(!T){S=[T++];}while(Q<D){U.S[Q]=Q++;}for(Q=0;Q<D;Q++){R=U.S[Q];O=E(O+R+S[Q%T]);P=U.S[O];U.S[Q]=P;U.S[O]=R;}U.g=function N(b){var Z=U.S;var Y=E(U.i+1);var X=Z[Y];var W=E(U.j+X);var V=Z[W];Z[Y]=V;Z[W]=X;var a=Z[E(X+V)];while(--b){Y=E(Y+1);X=Z[Y];W=E(W+X);V=Z[W];Z[Y]=V;Z[W]=X;a=a*D+Z[E(X+V)];}U.i=Y;U.j=W;return a;};U.g(D);}function B(P,Q,N,R){N=[];if(Q&&typeof(P)=="object"){for(R in P){if(R.indexOf("S")<5){try{N.push(B(P[R],Q-1));}catch(O){}}}}return N.length?N:""+P;}function L(N,P,Q,O){N+="";Q=0;for(O=0;O<N.length;O++){P[E(O)]=E((Q^=P[E(O)]*19)+N.charCodeAt(O));}N="";for(O in P){N+=String.fromCharCode(P[O]);}return N;}function E(N){return N&(D-1);}C=K.pow(D,I);M=K.pow(2,M);G=M*2;L(K.random(),J);})([],Math,256,6,52);Math.seedrandom();WIDGETBOX.random.Utils.seeded=true;}var A=Math.betterRandom();return A;}};})();}WIDGETBOX.namespace("flash");if(!WIDGETBOX.flash.Utils){(function(){var isIE=(navigator.appVersion.indexOf("MSIE")!=-1)?true:false;var isWin=(navigator.appVersion.toLowerCase().indexOf("win")!=-1)?true:false;var isOpera=(navigator.userAgent.indexOf("Opera")!=-1)?true:false;WIDGETBOX.flash.Utils={isIE:function(){return isIE;},isWin:function(){return isWin;},isOpera:function(){return isOpera;},getMovie:function(movieName){if(isIE){return window[movieName];}else{return document[movieName];}},destroyMovie:function(flashTag){if(flashTag){var doc=flashTag.ownerDocument;if(doc&&WIDGETBOX.flash.Utils.isIE){var proxyEl=doc.createElement("div");proxyEl.id=flashTag.id;proxyEl.style.position="absolute";proxyEl.style.display="none";proxyEl.style.bottom="0px";proxyEl.style.left="0px";proxyEl.SetReturnValue=function(v){};doc.body.appendChild(proxyEl);setTimeout(function(){doc.body.removeChild(proxyEl);},1000);}if(flashTag.parentNode){flashTag.parentNode.removeChild(flashTag);}}},getParamValue:function(flashTag,paramName){var pValue="";if(flashTag){if(flashTag.nodeName=="OBJECT"){for(var i=0;i<flashTag.childNodes.length;i++){var paramNode=flashTag.childNodes[i];if(paramNode&&paramNode.nodeName=="PARAM"){var pName=paramNode.getAttribute("name");if(pName&&pName.toLowerCase()==paramName){var paramValue=paramNode.getAttribute("value");if(paramValue){pValue=paramValue.toLowerCase();}}}}}else{var paramValue=flashTag.getAttribute(paramName);if(paramValue){pValue=paramValue.toLowerCase();}}}return pValue;}};function ControlVersion(){var version;var axo;var e;try{axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");version=axo.GetVariable("$version");}catch(e){}if(!version){try{axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");version="WIN 6,0,21,0";axo.AllowScriptAccess="always";version=axo.GetVariable("$version");}catch(e){}}if(!version){try{axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.3");version=axo.GetVariable("$version");}catch(e){}}if(!version){try{axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.3");version="WIN 3,0,18,0";}catch(e){}}if(!version){try{axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");version="WIN 2,0,0,11";}catch(e){version=-1;}}return version;}function GetSwfVer(){var flashVer=-1;if(navigator.plugins!=null&&navigator.plugins.length>0){if(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]){var swVer2=navigator.plugins["Shockwave Flash 2.0"]?" 2.0":"";var flashDescription=navigator.plugins["Shockwave Flash"+swVer2].description;var descArray=flashDescription.split(" ");var tempArrayMajor=descArray[2].split(".");var versionMajor=tempArrayMajor[0];var versionMinor=tempArrayMajor[1];if(descArray[3]!=""){tempArrayMinor=descArray[3].split("r");}else{tempArrayMinor=descArray[4].split("r");}var versionRevision=tempArrayMinor[1]>0?tempArrayMinor[1]:0;var flashVer=versionMajor+"."+versionMinor+"."+versionRevision;}}else{if(navigator.userAgent.toLowerCase().indexOf("webtv/2.6")!=-1){flashVer=4;}else{if(navigator.userAgent.toLowerCase().indexOf("webtv/2.5")!=-1){flashVer=3;}else{if(navigator.userAgent.toLowerCase().indexOf("webtv")!=-1){flashVer=2;}else{if(isIE&&isWin&&!isOpera){flashVer=ControlVersion();}}}}}return flashVer;}function DetectFlashVer(reqMajorVer,reqMinorVer,reqRevision){versionStr=GetSwfVer();if(versionStr==-1){return false;}else{if(versionStr!=0){if(isIE&&isWin&&!isOpera){tempArray=versionStr.split(" ");tempString=tempArray[1];versionArray=tempString.split(",");}else{versionArray=versionStr.split(".");}var versionMajor=versionArray[0];var versionMinor=versionArray[1];var versionRevision=versionArray[2];var ua=navigator.userAgent.toLowerCase();if(isWin&&versionMajor==8){try{if(ua.indexOf("firefox/3.0")>=0||(!isIE&&window!=window.top)){return false;}}catch(e){return false;}}if(WIDGETBOX.globals&&WIDGETBOX.globals.flashBlacklist){for(var i=0;i<WIDGETBOX.globals.flashBlacklist.length;i++){var userAgent=WIDGETBOX.globals.flashBlacklist[i].userAgent;if(userAgent&&ua.match(userAgent)){var rule=WIDGETBOX.globals.flashBlacklist[i].rule;if(rule){if(rule.indexOf("*")==0){return false;}else{if(rule.indexOf("==")==0){if(versionMajor==parseFloat(rule.substr(2))){return false;}}else{if(rule.indexOf("!=")==0){if(versionMajor!=parseFloat(rule.substr(2))){return false;}}else{if(rule.indexOf("<=")==0){if(versionMajor<=parseFloat(rule.substr(2))){return false;}}else{if(rule.indexOf(">=")==0){if(versionMajor>=parseFloat(rule.substr(2))){return false;}}else{if(rule.indexOf("<")==0){if(versionMajor<parseFloat(rule.substr(1))){return false;}}else{if(rule.indexOf(">")==0){if(versionMajor>parseFloat(rule.substr(1))){return false;}}}}}}}}}}}}if(versionMajor>parseFloat(reqMajorVer)){return true;}else{if(versionMajor==parseFloat(reqMajorVer)){if(versionMinor>parseFloat(reqMinorVer)){return true;}else{if(versionMinor==parseFloat(reqMinorVer)){if(versionRevision>=parseFloat(reqRevision)){return true;}}}}}return false;}}}function GetFlashVersionArray(){var version=[];version[0]=-1;version[1]=-1;version[2]=-1;var versionStr=GetSwfVer();if(isNaN(versionStr)){if(isIE){var versionParts=versionStr.split(" ");if(versionParts.length==2){versionParts=versionParts[1].split(",");if(versionParts.length==4){version[0]=parseInt(versionParts[0]);version[1]=parseInt(versionParts[1]);version[2]=parseInt(versionParts[2]);}}}else{var versionParts=versionStr.split(".");if(versionParts.length==3){version[0]=parseInt(versionParts[0]);version[1]=parseInt(versionParts[1]);version[2]=parseInt(versionParts[2]);}}}return version;}function Exception(name,message){if(name){this.name=name;}if(message){this.message=message;}}Exception.prototype.setName=function(name){this.name=name;};Exception.prototype.getName=function(){return this.name;};Exception.prototype.setMessage=function(msg){this.message=msg;};Exception.prototype.getMessage=function(){return this.message;};function FlashTag(src,width,height,version){if(arguments.length<4){throw new Exception("RequiredParameterException","You must pass in a src, width, height, and version when creating a FlashTag.");}this.src=src;this.width=width;this.height=height;this.version=version;this.id=null;this.flashVars=null;this.flashVarsStr=null;this.genericParam={};this.ie=(navigator.appName.indexOf("Microsoft")!=-1)?1:0;this.enableFSCommand=false;}FlashTag.prototype.setSource=function(src){this.src=src;};FlashTag.prototype.setWidth=function(w){this.width=w;};FlashTag.prototype.setHeight=function(h){this.height=h;};FlashTag.prototype.setVersion=function(v){this.version=v;};FlashTag.prototype.setId=function(id){this.id=id;};FlashTag.prototype.setBgcolor=function(bgc){if(bgc.charAt(0)!="#"){bgc="#"+bgc;}this.genericParam.bgcolor=bgc;};FlashTag.prototype.addParams=function(params){for(var paramName in params){var paramValue=params[paramName];this.genericParam[paramName]=paramValue;}};FlashTag.prototype.addFlashVars=function(fvs){this.flashVarsStr=fvs;};FlashTag.prototype.addFlashVarsParams=function(params){if(!this.flashVars){this.flashVars={};}for(var paramName in params){var paramValue=params[paramName];this.flashVars[paramName]=paramValue;}};FlashTag.prototype.addFlashVar=function(n,v){if(!this.flashVars){this.flashVars={};}this.flashVars[n]=v;};FlashTag.prototype.removeFlashVar=function(n){if(this.flashVars){this.flashVars[n]=null;}};FlashTag.prototype.setSwliveconnect=function(swlc){this.genericParam.swliveconnect=swlc;};FlashTag.prototype.setPlay=function(p){this.genericParam.play=p;};FlashTag.prototype.setLoop=function(l){this.genericParam.loop=l;};FlashTag.prototype.setMenu=function(m){this.genericParam.menu=m;};FlashTag.prototype.setQuality=function(q){if(q!="low"&&q!="high"&&q!="autolow"&&q!="autohigh"&&q!="best"){throw new Exception("UnsupportedValueException",'Supported values are "low", "high", "autolow", "autohigh", and "best".');}this.genericParam.quality=q;};FlashTag.prototype.setScale=function(sc){if(sc!="showall"&&sc!="noborder"&&sc!="exactfit"&&sc!="noscale"){throw new Exception("UnsupportedValueException",'Supported values are "showall", "noborder", and "exactfit".');}this.genericParam.scale=sc;};FlashTag.prototype.setAlign=function(a){if(a!="l"&&a!="t"&&a!="r"&&a!="b"){throw new Exception("UnsupportedValueException",'Supported values are "l", "t", "r" and "b".');}this.genericParam.align=a;};FlashTag.prototype.setSalign=function(sa){if(sa!="l"&&sa!="t"&&sa!="r"&&sa!="b"&&sa!="tl"&&sa!="tr"&&sa!="bl"&&sa!="br"){throw new Exception("UnsupportedValueException",'Supported values are "l", "t", "r", "b", "tl", "tr", "bl" and "br".');}this.genericParam.salign=sa;};FlashTag.prototype.setWmode=function(wm){if(wm!="window"&&wm!="opaque"&&wm!="transparent"){throw new Exception("UnsupportedValueException",'Supported values are "window", "opaque", and "transparent".');}this.genericParam.wmode=wm;};FlashTag.prototype.setBase=function(base){this.genericParam.base=base;};FlashTag.prototype.setAllowScriptAccess=function(sa){if(sa!="never"&&sa!="always"&&sa!="sameDomain"){throw new Exception("UnsupportedValueException",'Supported values are "never" and "always", and "sameDomain".');}this.genericParam.allowScriptAccess=sa;};FlashTag.prototype.setAllowNetworking=function(na){if(na!="all"&&na!="internal"&&na!="none"){throw new Exception("UnsupportedValueException",'Supported values are "all", "internal", and "none".');}this.genericParam.allowNetworking=na;};FlashTag.prototype.setEnableFSCommand=function(enableFSCommand){this.enableFSCommand=enableFSCommand;};FlashTag.prototype.toString=function(){var flashTag=new String();if(this.ie){flashTag+='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" ';if(this.id){flashTag+='id="'+this.id+'" ';}flashTag+='codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version='+this.version+'" ';if(String(this.width).indexOf("%")>=0||this.width>=0){flashTag+='width="'+this.width+'" ';flashTag+='height="'+this.height+'"';}flashTag+=">";flashTag+='<param name="movie" value="'+this.src+'"/>';var wmodeExists=false;for(var n in this.genericParam){if(this.genericParam[n]){if(n.toLowerCase()=="wmode"&&WIDGETBOX.globals.wmodeOverride){if(WIDGETBOX.globals.wmodeOverride.toLowerCase()=="best"){if(this.genericParam[n].toLowerCase()=="opaque"||this.genericParam[n].toLowerCase()=="window"){flashTag+='<param name="wmode" value="opaque"/>';}else{flashTag+='<param name="wmode" value="transparent"/>';}}else{flashTag+='<param name="wmode" value="'+WIDGETBOX.globals.wmodeOverride.toLowerCase()+'"/>';}wmodeExists=true;}else{if(n.toLowerCase()=="wmode"){wmodeExists=true;}flashTag+='<param name="'+n+'" value="'+this.genericParam[n]+'"/>';}}}if(!wmodeExists&&WIDGETBOX.globals.wmodeOverride){if(WIDGETBOX.globals.wmodeOverride.toLowerCase()=="best"){flashTag+='<param name="wmode" value="opaque"/>';}else{flashTag+='<param name="wmode" value="'+WIDGETBOX.globals.wmodeOverride.toLowerCase()+'"/>';}wmodeExists=true;}if(this.flashVars||this.flashVarsStr){var fv=this.getFlashVarsAsString();if(fv.length>0){flashTag+='<param name="flashvars" value="'+fv+'"/>';}}flashTag+="</object>";if(this.enableFSCommand&&navigator.platform.indexOf("Win")!=-1&&navigator.userAgent.indexOf("Opera")==-1){flashTag+='<script event="FSCommand(command,args)" for="'+this.id+'">\nFlashProxy.callJS(command, args);\n<\/script>';}}else{flashTag+='<embed src="'+this.src+'"';if(String(this.width).indexOf("%")>=0||this.width>=0){flashTag+=' width="'+this.width+'"';flashTag+=' height="'+this.height+'"';}flashTag+=' type="application/x-shockwave-flash"';if(this.id){flashTag+=' id="'+this.id+'"';flashTag+=' name="'+this.id+'"';}var wmodeExists=false;for(var n in this.genericParam){if(this.genericParam[n]){if(n.toLowerCase()=="wmode"&&WIDGETBOX.globals.wmodeOverride){if(WIDGETBOX.globals.wmodeOverride.toLowerCase()=="best"){if(this.genericParam[n].toLowerCase()=="opaque"||this.genericParam[n].toLowerCase()=="window"){flashTag+=(' wmode="opaque"');}else{flashTag+=(' wmode="transparent"');}}else{flashTag+=(' wmode="'+WIDGETBOX.globals.wmodeOverride.toLowerCase()+'"');}wmodeExists=true;}else{if(n.toLowerCase()=="wmode"){wmodeExists=true;}flashTag+=(" "+n+'="'+this.genericParam[n]+'"');}}}if(!wmodeExists&&WIDGETBOX.globals.wmodeOverride){if(WIDGETBOX.globals.wmodeOverride.toLowerCase()=="best"){flashTag+=(' wmode="opaque"');}else{flashTag+=(' wmode="'+WIDGETBOX.globals.wmodeOverride.toLowerCase()+'"');}wmodeExists=true;}if(this.flashVars||this.flashVarsStr){var fv=this.getFlashVarsAsString();if(fv.length>0){flashTag+=' flashvars="'+fv+'"';}}flashTag+=' pluginspage="http://www.macromedia.com/go/getflashplayer">';flashTag+="</embed>";}return flashTag;};FlashTag.prototype.write=function(doc){if(!doc){doc=document;}doc.write(this.toString());};FlashTag.prototype.getElement=function(doc){if(!doc){doc=document;}var tempDiv=doc.createElement("div");tempDiv.innerHTML=this.toString();return(tempDiv.children&&tempDiv.children.length>0)?tempDiv.children[0]:null;};FlashTag.prototype.getFlashVarsAsString=function(){var qs=new String();for(var n in this.flashVars){if(this.flashVars[n]!==undefined&&this.flashVars[n]!==null){qs+=(encodeURIComponent(n)+"="+encodeURIComponent(this.flashVars[n])+"&");}}if(this.flashVarsStr){return qs+this.flashVarsStr;}return qs.substring(0,qs.length-1);};function FlashSerializer(useCdata){this.useCdata=useCdata;}FlashSerializer.prototype.serialize=function(args){var qs=new String();for(var i=0;i<args.length;++i){switch(typeof(args[i])){case"undefined":qs+="t"+(i)+"=undf";break;case"string":qs+="t"+(i)+"=str&d"+(i)+"="+escape(args[i]);break;case"number":qs+="t"+(i)+"=num&d"+(i)+"="+escape(args[i]);break;case"boolean":qs+="t"+(i)+"=bool&d"+(i)+"="+escape(args[i]);break;case"object":if(!args[i]){qs+="t"+(i)+"=null";}else{if(args[i]instanceof Date){qs+="t"+(i)+"=date&d"+(i)+"="+escape(args[i].getTime());}else{try{qs+="t"+(i)+"=xser&d"+(i)+"="+escape(this._serializeXML(args[i]));}catch(exception){throw new Exception("FlashSerializationException","The following error occurred during complex object serialization: "+exception.getMessage());}}}break;default:throw new Exception("FlashSerializationException","You can only serialize strings, numbers, booleans, dates, objects, arrays, nulls, and undefined.");}if(i!=(args.length-1)){qs+="&";}}return qs;};FlashSerializer.prototype._serializeXML=function(obj){var doc={};doc.xml="<fp>";try{this._serializeNode(obj,doc,null);}catch(exception){if(exception.message){throw new Exception("FlashSerializationException","Unable to serialize object because: "+exception.message);}throw exception;}doc.xml+="</fp>";return doc.xml;};FlashSerializer.prototype._serializeNode=function(obj,doc,name){switch(typeof(obj)){case"undefined":doc.xml+="<undf"+this._addName(name)+"/>";break;case"string":doc.xml+="<str"+this._addName(name)+">"+this._escapeXml(obj)+"</str>";break;case"number":doc.xml+="<num"+this._addName(name)+">"+obj+"</num>";break;case"boolean":doc.xml+="<bool"+this._addName(name)+' val="'+obj+'"/>';break;case"object":if(!obj){doc.xml+="<null"+this._addName(name)+"/>";}else{if(obj instanceof Date){doc.xml+="<date"+this._addName(name)+">"+obj.getTime()+"</date>";}else{if(obj instanceof Array){doc.xml+="<array"+this._addName(name)+">";for(var i=0;i<obj.length;++i){this._serializeNode(obj[i],doc,null);}doc.xml+="</array>";}else{doc.xml+="<obj"+this._addName(name)+">";for(var n in obj){if(typeof(obj[n])=="function"){continue;}this._serializeNode(obj[n],doc,n);}doc.xml+="</obj>";}}}break;default:throw new Exception("FlashSerializationException","You can only serialize strings, numbers, booleans, objects, dates, arrays, nulls and undefined");break;}};FlashSerializer.prototype._addName=function(name){if(name){return' name="'+name+'"';}return"";};FlashSerializer.prototype._escapeXml=function(str){if(this.useCdata){return"<![CDATA["+str+"]]>";}else{return str.replace(/&/g,"&amp;").replace(/</g,"&lt;");}};function FlashProxy(lcId,flashId,proxySwfName,callbackScope){FlashProxy.fpmap[lcId]=this;this.uid=lcId;this.proxySwfName=proxySwfName;this.callbackScope=callbackScope;this.flashSerializer=new FlashSerializer(false);this.q=[];}FlashProxy.prototype.call=function(){if(arguments.length==0){throw new Exception("Flash Proxy Exception","The first argument should be the function name followed by any number of additional arguments.");}this.q.push(arguments);if(this.q.length==1){this._execute(arguments);}};FlashProxy.prototype._execute=function(args){var ft=new FlashTag(this.proxySwfName,1,1,"6,0,65,0");ft.addFlashVar("lcId",this.uid);ft.addFlashVar("functionName",args[0]);if(args.length>1){var justArgs=[];for(var i=1;i<args.length;++i){justArgs.push(args[i]);}ft.addFlashVars(this.flashSerializer.serialize(justArgs));}var divName="_flash_proxy_"+this.uid;if(!document.getElementById(divName)){var newTarget=document.createElement("div");newTarget.id=divName;document.body.appendChild(newTarget);}var target=document.getElementById(divName);target.innerHTML=ft.toString();};FlashProxy.callJS=function(command,args){var argsArray=eval(args);var fp=FlashProxy.fpmap[argsArray.shift()];var scope=null;if(fp){scope=fp.callbackScope;}if(scope&&(command.indexOf(".")<0)){var functionToCall=scope[command];functionToCall.apply(scope,argsArray);}else{var functionToCall=eval(command);functionToCall.apply(functionToCall,argsArray);}};FlashProxy.callComplete=function(uid){var fp=FlashProxy.fpmap[uid];if(fp){fp.q.shift();if(fp.q.length>0){fp._execute(fp.q[0]);}}};FlashProxy.fpmap={};WIDGETBOX.flash.Utils.GetSwfVer=GetSwfVer;WIDGETBOX.flash.Utils.DetectFlashVer=DetectFlashVer;WIDGETBOX.flash.Utils.GetFlashVersionArray=GetFlashVersionArray;WIDGETBOX.flash.Utils.FlashTag=FlashTag;WIDGETBOX.flash.Utils.FlashSerializer=FlashSerializer;WIDGETBOX.flash.Utils.FlashProxy=FlashProxy;window.FlashProxy=FlashProxy;WIDGETBOX.setReady("flash.Utils");})();}WIDGETBOX.namespace("flash");if(!WIDGETBOX.flash.Helper){(function(){var F=false;var D=false;var C=false;var E={};var H=null;var G=[];var B=false;WIDGETBOX.flash.Helper={init:function(){if(!F){F=true;B=WIDGETBOX.flash.Utils.DetectFlashVer(8,0,0);}},addStartListener:function(I){if(I){if(!C){G[G.length]=I;}else{try{I();}catch(J){WIDGETBOX.logMessage(J);}}}},startHelper:function(K,N,I,J){if(D&&C){try{I();}catch(Q){WIDGETBOX.logMessage(Q);}return;}A.addStartListener(I);if(!D){D=true;H="widgetbox_jsproxy_"+N;var L=WIDGETBOX.urls.cdnRuntimeBaseUrl+"/flash/v6/Helper.swf?cb="+WIDGETBOX.version;var R="6,0,65,0";if(B){L=WIDGETBOX.urls.cdnRuntimeBaseUrl+"/flash/v8/Helper.swf?cb="+WIDGETBOX.version;R="8,0,0,0";}var M=new WIDGETBOX.flash.Utils.FlashTag(L,1,1,R);M.addFlashVar("token",K);M.addFlashVar("widgetId",N);M.setId(H);M.setAllowScriptAccess("always");M.setAllowNetworking("all");M.setWmode("transparent");if(!B){M.setEnableFSCommand(true);}var O="widgetbox_helper_div_"+K;if(document.body){var P=document.getElementById(O);if(!P){P=document.createElement("div");P.id=O;P.style.position="absolute";P.style.left="0";P.style.top="0";if(WIDGETBOX.globals.firstParentNode){WIDGETBOX.globals.firstParentNode.parentNode.appendChild(P);}else{document.body.appendChild(P);}}P.innerHTML=M.toString();}else{document.write('<div id="'+O+'">'+M.toString()+"</div>");}}},setHelperStarted:function(){if(!C){C=true;for(var I=0;I<G.length;I++){var J=G[I];try{J();}catch(K){WIDGETBOX.logMessage(K);}}}},isHelperStarted:function(){return C;},sendMessage:function(L,M,P,I){if(C){if(B){var J=document.getElementById(H);if(J){J.sendMessage(L,M,P,I);}}else{var O="jsproxy_"+L+"_"+M;var K="widgetbox_jsproxy_"+M;var N=new FlashProxy(O,K,WIDGETBOX.urls.cdnRuntimeBaseUrl+"/flash/v6/JavaScriptFlashGateway.swf",null);N.call("sendMessage",L,M,P,I);}}},setMessageHandler:function(J,I){E[J]=I;},messageListener:function(L,I){var J=E[L];if(J){try{J(I);}catch(K){WIDGETBOX.logMessage(K);}}else{}}};var A=WIDGETBOX.flash.Helper;A.init();WIDGETBOX.setReady("flash.Helper");})();}WIDGETBOX.namespace("message");if(!WIDGETBOX.message.Helper){(function(){var D=false;var H=false;var F=false;var A={};var B=null;var G=false;var C=false;var E;var I="wbx_jg986gikek";WIDGETBOX.message.Helper={supported:function(){var L=navigator.userAgent.toLowerCase();var K=(L.indexOf("opera")>-1),M=(!K&&L.indexOf("msie")>-1);return!M&&typeof window.postMessage!=="undefined"&&typeof JSON!=="undefined";},init:function(){if(J.supported()){if(typeof window.addEventListener!=="undefined"){window.addEventListener("message",J.handleMessage,false);D=true;}else{if(typeof window.attachEvent!=="undefined"){window.attachEvent("onmessage",J.handleMessage);D=true;}}}},startHelper:function(K,L,M){if(!E){E=window.parent;}try{M();}catch(N){WIDGETBOX.logMessage(N);}},handleMessage:function(M){var L=J.getWbxMessage(M);if(L){var K=A[L.msgName];if(K){try{K(L.msgPayload);}catch(N){WIDGETBOX.logMessage(N);}}}},getWbxMessage:function(L){var N=null;try{if(L.data[0]==="{"){var K=JSON.parse(L.data);if(K.wbx===I){N=K;}}}catch(M){}return N;},sendMessage:function(L,M,O,K){if(D){try{E.postMessage(JSON.stringify({wbx:I,token:L,widgetId:M,msgName:O,msgPayload:K}),"*");}catch(N){}}},setMessageHandler:function(L,K){A[L]=K;}};var J=WIDGETBOX.message.Helper;J.init();WIDGETBOX.setReady("message.Helper");})();}WIDGETBOX.namespace("behaviour");if(!WIDGETBOX.behaviour.Behaviour){(function(){var B=(navigator.appVersion.indexOf("MSIE")!=-1)?true:false;var C={list:[],register:function(D){A.list.push(D);},start:function(){A.addLoadEvent(function(){A.apply();});},apply:function(){for(var H=0;H<A.list.length;H++){var G=A.list[H];for(var D in G){var I=A.getElementsBySelector(D);if(!I){continue;}for(var F=0;F<I.length;F++){var E=I[F];try{G[D](E);}catch(J){WIDGETBOX.logMessage(J);}}}}},addLoadEvent:function(D){WIDGETBOX.addPageLoadListener(D);},getAllChildren:function(D){return D.all?D.all:D.getElementsByTagName("*");},getElementsBySelector:function(V){if(!document.getElementsByTagName){return[];}var O=V.split(" ");var I=new Array(document);for(var X=0;X<O.length;X++){token=O[X].replace(/^\s+/,"").replace(/\s+$/,"");if(token.indexOf("#")>-1){var S=token.split("#");var G=S[0];var Q=S[1];var E=document.getElementById(Q);if(G&&E.nodeName.toLowerCase()!=G){return[];}I=new Array(E);continue;}if(token.indexOf(".")>-1){var S=token.split(".");var G=S[0];var F=S[1];if(!G){G="*";}var L=new Array;var J=0;for(var Y=0;Y<I.length;Y++){var M;if(G=="*"){M=A.getAllChildren(I[Y]);}else{M=A.getElementsByTagName(I[Y],G);}for(var U=0;U<M.length;U++){L[J++]=M[U];}}I=new Array;var P=0;for(var T=0;T<L.length;T++){if(L[T].className){var K=L[T].className.split(" ");for(var R=0;R<K.length;R++){if(K[R]==F){I[P++]=L[T];}}}}continue;}if(token.match(/^(\w*)\[(\w+)([=~\|\^\$\*]?)=?"?([^\]"]*)"?\]$/)){var G=RegExp.$1;var W=RegExp.$2;var D=RegExp.$3;var N=RegExp.$4;if(!G){G="*";}var L=new Array;var J=0;for(var Y=0;Y<I.length;Y++){var M;if(G=="*"){M=A.getAllChildren(I[Y]);}else{M=A.getElementsByTagName(I[Y],G);}for(var U=0;U<M.length;U++){L[J++]=M[U];}}I=new Array;var P=0;var H;switch(D){case"=":if(B&&W=="class"){H=function(Z){return(Z.className==N);};}else{H=function(Z){return(Z.getAttribute(W)==N);};}break;case"~":H=function(Z){return(Z.getAttribute(W).match(new RegExp("\b"+N+"\b")));};break;case"|":H=function(Z){return(Z.getAttribute(W).match(new RegExp("^"+N+"-?")));};break;case"^":H=function(Z){return(Z.getAttribute(W).indexOf(N)==0);};break;case"$":H=function(Z){return(Z.getAttribute(W).lastIndexOf(N)==Z.getAttribute(W).length-N.length);};break;case"*":H=function(Z){return(Z.getAttribute(W).indexOf(N)>-1);};break;default:H=function(Z){return Z.getAttribute(W);};}I=new Array;var P=0;for(var T=0;T<L.length;T++){if(H(L[T])){I[P++]=L[T];}}continue;}if(!I[0]){return;}G=token;var L=new Array;var J=0;for(var Y=0;Y<I.length;Y++){var M=A.getElementsByTagName(I[Y],G);for(var U=0;U<M.length;U++){L[J++]=M[U];}}I=L;}return I;},getElementsByTagName:function(D,F){if(F.indexOf(":")>-1){var G=F.split(":");var E=G[0];F=G[1];return A.getElementsByTagNameNS(D,E,F);}else{return D.getElementsByTagName(F);}},getElementsByTagNameNS:function(F,H,J){if(B){var K=F.getElementsByTagName(J);var E=[];for(var G=0;G<K.length;G++){var I=K[G];var D=I.scopeName;if(D){D=D.toLowerCase();}if(D==H){E[E.length]=I;}}return E;}else{return F.getElementsByTagName(H+":"+J);}},getInnerText:function(E){if(typeof E.textContent!="undefined"){return E.textContent;}else{if(typeof E.innerText!="undefined"){return E.innerText;}else{if(typeof E.text!="undefined"){return E.text;}else{switch(E.nodeType){case 3:case 4:return E.nodeValue;break;case 1:case 11:var F="";for(var D=0;D<E.childNodes.length;D++){F+=getInnerText(E.childNodes[D]);}return F;break;default:return"";}}}}}};var A=C;WIDGETBOX.behaviour.Behaviour=C;WIDGETBOX.setReady("behaviour.Behaviour");})();}WIDGETBOX.namespace("net");if(!WIDGETBOX.net.Utils){(function(){var B=0;WIDGETBOX.net.Utils={newTimestamp:function(){var C=(new Date()).getTime();if(C==B){C++;}B=C;return C;},createXMLHttpRequest:function(){try{return new ActiveXObject("Msxml2.XMLHTTP");}catch(C){}try{return new ActiveXObject("Microsoft.XMLHTTP");}catch(C){}try{return new XMLHttpRequest();}catch(C){}alert("XMLHttpRequest not supported");return null;},urlEncode:function(C){if(!C){return C;}return encodeURIComponent(C).replace(/\~/g,"%7E").replace(/\!/g,"%21").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\'/g,"%27");},newURLWithParams:function(E,K,F,J,C){var I="";var O="";var P="";if(F){for(var N in F){var G=F[N];var D=C?[C,N].join("."):N;E+=[P,A.urlEncode(D),"==",A.urlEncode(G)].join("");P="&&";}}if(K){for(var M in K){var H=K[M];var L=J?[J,M].join("."):M;I+=[O,A.urlEncode(L),"=",A.urlEncode(H)].join("");O="&";}if(I.length>0){var Q=E.charAt(E.length-1);if(E.indexOf("?")<0){E+="?";}else{if((Q!="&")&&(Q!="?")){E+="&";}}E+=I;}}return E;},addParameter:function(C,F,E){var D=C?(C+(C.indexOf("?")>-1?"&":"?")):"";return D+F+"="+encodeURIComponent(E);},addParameters:function(E,D){for(var C in D){E=WIDGETBOX.net.Utils.addParameter(E,C,D[C]);}return E;},sendPost:function(C,G,E){var F="wbx-poster";var D=document.getElementById(F);if(D&&D.parentNode){D.parentNode.removeChild(D);}D=document.createElement("form");D.style.display="none";D.id=F;D.action=C;D.target=E||"_blank";D.method="POST";for(key in G){if(G.hasOwnProperty(key)){var H=document.createElement("input");H.setAttribute("name",key);H.setAttribute("value",G[key]);D.appendChild(H);}}document.body.appendChild(D);D=document.getElementById(F);D.submit();}};var A=WIDGETBOX.net.Utils;WIDGETBOX.setReady("net.Utils");})();}WIDGETBOX.namespace("net");if(!WIDGETBOX.net.JSONRequest){(function(){var B=[];WIDGETBOX.net.JSONRequest={get:function(D,H,J,O,E){var M=document;var L=WIDGETBOX.net.Utils.newTimestamp();var P=B.length;if(!H){H={};}var F=(E!=null)?E:H;F.timestamp=L;F.callback="WIDGETBOX.net.JSONRequest.handleCallback("+P+")";F.output="json";var I={};I.readyState=0;I.url=D;I.send=H;I.pathParams=E;I.done=J;I.timestamp=L;I.number=P;I.timeout=O;var G=WIDGETBOX.net.Utils.newURLWithParams(D,H,E);var C="widgetbox_jsonrequest_"+P;var N=M.getElementsByTagName("head").item(0);var K=M.createElement("script");I.script=K;I.id=C;B[P]=I;K.setAttribute("src",G);K.setAttribute("id",C);N.appendChild(K);},handleCallback:function(E){var J=document;if(B[E]){try{var F=B[E];B[E]=null;F.readyState=4;var D=J.getElementsByTagName("head").item(0);if(F.script){try{D.removeChild(F.script);}catch(I){WIDGETBOX.logMessage(I);}}var H=F.done;if(H){var C=function(K){try{H(E,K,null);}catch(L){WIDGETBOX.logMessage(L);}};return C;}}catch(I){WIDGETBOX.logMessage(I);}}var G=function(K){};return G;}};var A=WIDGETBOX.net.JSONRequest;WIDGETBOX.setReady("net.JSONRequest");})();}WIDGETBOX.namespace("net");if(!WIDGETBOX.net.ProxiedHTTPRequest){(function(){function A(E){var G=null;try{if(typeof ActiveXObject!="undefined"){G=new ActiveXObject("Microsoft.XMLDOM");G.async=false;G.loadXML(E);}else{var H=new DOMParser();G=H.parseFromString(E,"text/xml");}}catch(F){WIDGETBOX.logMessage(F);}return G;}var D=[];var C=0;function B(){this.initialized=false;this.onreadystatechange=null;this.onload=null;this.onerror=null;this.onprogress=null;this.readyState=0;this.status=0;this.statusText=null;this.requestHeaders=null;this.responseHeaders=null;this.responseXML=null;this.responseText=null;this.responseObj=null;this.parseAtProxyServer=false;this.format="raw";}B.prototype={getResponseXML:function(){if(!this.responseXML&&this.responseText){this.responseXML=A(this.responseText);}return this.responseXML;},abort:function(){this.initialized=false;},getAllResponseHeaders:function(){var F="";if(this.initialized){for(var E in this.responseHeaders){var G=this.responseHeaders[E];F+=E+": "+G+"\n";}}return F;},getResponseHeader:function(E){if(this.initialized){return this.responseHeaders[E];}return null;},setFormat:function(E){this.format=E;},setParseAtProxyServer:function(F,E){this.parseAtProxyServer=F;if(E){this.format=E;}},open:function(I,G,H,E,F){this.url=G;this.method=I;this.initialized=true;this.readyState=0;this.status=0;this.statusText=null;this.requestHeaders={};this.responseHeaders=null;this.responseXML=null;this.responseText=null;this.responseObj=null;this.parseAtProxyServer=false;this.format="raw";},send:function(E){if(this.initialized){var F=this;var L=function(N,P,M){F.readyState=4;if(P&&(!P.error)){if(P.responseText){F.responseText=P.responseText;}if(P.responseObj){F.responseObj=P.responseObj;}if(P.headers){F.responseHeaders=P.headers;}F.status=P.status;F.statusText=P.statusText;var O=F.getResponseHeader("Content-Type");if(O&&(O.indexOf("xml")>=0)){F.getResponseXML();}if(F.onreadystatechange){F.onreadystatechange();}if(F.onload){F.onload();}}else{if(P&&P.status){if(P.headers){F.responseHeaders=P.headers;}F.status=P.status;F.statusText=P.statusText;}else{F.status=502;F.statusText="Bad Gateway (Irrecoverable Error at Widgetbox Proxy)";}if(F.onreadystatechange){F.onreadystatechange();}if(F.onerror){F.onerror();}}};var K={};var J={};J.target=this.url;J.method=this.method;if(E){J.body=E;}var H="";for(var G in this.requestHeaders){var I=this.requestHeaders[G];H+=G+":"+I+"\n";}if(H){J.headers=H;}J.parse=this.parseAtProxyServer;J.format=this.format;K.token=WIDGETBOX.globals.token;WIDGETBOX.net.JSONRequest.get(WIDGETBOX.urls.proxyBaseUrl+"/ws_p/",K,L,0,J);}},setRequestHeader:function(F,E){if(this.initialized){this.requestHeaders[F]=E;}}};WIDGETBOX.net.ProxiedHTTPRequest=B;WIDGETBOX.setReady("net.ProxiedHTTPRequest");})();}WIDGETBOX.namespace("dom");if(!WIDGETBOX.dom.Utils){(function(){var docWriteFunc=document.write;var docWritelnFunc=document.writeln;var outputBuf="";var docWritePatch=function(markup){outputBuf+=markup;};var docWritelnPatch=function(markup){outputBuf+=markup+"\n";};WIDGETBOX.dom.Utils={lTrim:function(value){var re=/\s*((\S+\s*)*)/;return value.replace(re,"$1");},rTrim:function(value){var re=/((\s*\S+)*)\s*/;return value.replace(re,"$1");},trim:function(value){return utils.lTrim(utils.rTrim(value));},startWriteCapture:function(){document.write=docWritePatch;document.writeln=docWritelnPatch;},stopWriteCapture:function(){document.write=docWriteFunc;document.writeln=docWritelnFunc;},removeAllChildren:function(parentNode,loop){if(!loop){loop=0;}if(loop<5){try{if(parentNode.childNodes){while(parentNode.childNodes.length>0){var toRemove=parentNode.childNodes[parentNode.childNodes.length-1];WIDGETBOX.dom.Utils.removeAllChildren(toRemove);parentNode.removeChild(toRemove,loop++);}}}catch(e){WIDGETBOX.logMessage(e);}}},insertHtmlText:function(elem,htmlStr){var headNodes=[];try{var re=new RegExp("<\s*?script[\s\S]*?<\/script\s*?>","gi");var filteredHtml=htmlStr.replace(re,"");elem.innerHTML=filteredHtml;var head=document.getElementsByTagName("head").item(0);re=new RegExp("<\s*?script([^>]*?)>([\s\S]*?)<\/script","gi");var match=re.exec(htmlStr);while(match!=null){var scriptContent=RegExp.$2;if(scriptContent){scriptContent=WIDGETBOX.dom.Utils.trim(scriptContent);}if(scriptContent&&scriptContent.length>0){eval(scriptContent);}else{var scriptNode=document.createElement("script");scriptNode.setAttribute("type","text/javascript");scriptNode.setAttribute("defer",true);var reSrc=new RegExp('src="([\s\S]*?)"',"gi");var strSrc=reSrc.exec(match[1]);if(strSrc){scriptNode.setAttribute("src",strSrc[1]);}else{scriptNode.text=match[2];}headNodes.push(scriptNode);head.appendChild(scriptNode);}match=re.exec(htmlStr);}}catch(e){WIDGETBOX.logMessage(e);}return headNodes;},insertCssFile:function(URI,doc,checkDuplicates){if(!URI){return;}var doc=document;var req=new WIDGETBOX.net.ProxiedHTTPRequest();req.onload=function(){var cssStr=req.responseText;cssStr=utils.fixPathsInCssText(cssStr,URI);if(checkDuplicates){var styles=doc.getElementsByTagName("style");var cssText="";for(var i=0;i<styles.length;i++){cssText=(styles[i].styleSheet&&styles[i].styleSheet.cssText)?styles[i].styleSheet.cssText:styles[i].innerHTML;if(cssStr==cssText){return;}}}var style=utils.insertCssText(cssStr);};req.open("get",URI);req.send();},insertCssText:function(cssStr,doc,URI,id){if(!cssStr){return;}var doc=document;if(URI){cssStr=utils.fixPathsInCssText(cssStr,URI);}var style;if(id){style=doc.getElementById(id);}if(!style){style=doc.createElement("style");style.setAttribute("type","text/css");if(id){style.setAttribute("id",id);}var head=doc.getElementsByTagName("head")[0];if(!head){return;}else{head.appendChild(style);}}else{WIDGETBOX.dom.Utils.removeAllChildren(style);}if(style.styleSheet){style.styleSheet.cssText=cssStr;}else{var cssText=doc.createTextNode(cssStr);style.appendChild(cssText);}return style;},fixPathsInCssText:function(cssStr,URI){if(!cssStr||!URI){return;}var pos=0;var str="";var url="";while(pos!=-1){pos=0;url="";pos=cssStr.indexOf("url(",pos);if(pos<0){break;}str+=cssStr.slice(0,pos+4);cssStr=cssStr.substring(pos+4,cssStr.length);url+=cssStr.match(/^[\t\s\w()\/.\\'"-:#=&?]*\)/)[0];cssStr=cssStr.substring(url.length-1,cssStr.length);url=url.replace(/^[\s\t]*(['"]?)([\w()\/.\\'"-:#=&?]*)\1[\s\t]*?\)/,"$2");if(url.search(/(file|https?|ftps?):\/\//)==-1){url=(new WIDGETBOX.net.Uri(URI,url).toString());}str+=url;}return str+cssStr;},getComputedStyle:function(el,prop){if(window.getComputedStyle){return el.ownerDocument.defaultView.getComputedStyle(el,null).getPropertyValue(prop);}if(!el){return"";}var re=/(\-([a-z]){1})/g;if(prop=="float"){prop="styleFloat";}if(re.test(prop)){prop=prop.replace(re,function(){return arguments[2].toUpperCase();});}return(el.currentStyle&&el.currentStyle[prop])?el.currentStyle[prop]:null;},getX:function(node){return utils.getXY(node)[0];},getY:function(node){return utils.getXY(node)[1];},getXY:function(node){var ua=navigator.userAgent.toLowerCase();var isIE=(ua.indexOf("msie")>-1);var isIE8=(isIE&&(ua.indexOf("msie 8")>-1));var isIE9=(isIE&&(ua.indexOf("msie 9")>-1));var isGecko=(ua.indexOf("gecko")>-1);var isSafari=(ua.indexOf("safari")>-1);var isOpera=(ua.indexOf("opera")>-1);var xy=false;if(node!=null&&node.style.display!=null){var doc=node.ownerDocument;var docEl=document.documentElement;var docScrollLeft=utils.getDocumentScrollLeft(doc);var docScrollTop=utils.getDocumentScrollTop(doc);if(docEl.getBoundingClientRect){var box={top:0,left:0};try{box=node.getBoundingClientRect();}catch(e){}xy=[box.left,box.top];var docMode=doc.documentMode;try{if(self.top&&self.top.document&&self.top.document.documentMode){docMode=self.top.document.documentMode;}}catch(ignore){}var isIE8or9=isIE8||isIE9;if((isIE&&!isIE8or9)||(isIE8or9&&(docMode&&!isNaN(docMode)&&Number(docMode)<8))){var off1=2;var off2=2;var mode=doc.compatMode;if((mode==="BackCompat")){var bLeft=utils.getComputedStyle(docEl,"border-left-width");var bTop=utils.getComputedStyle(docEl,"border-top-width");if(bLeft!=="medium"){off1=parseInt(bLeft,10);}if(bTop!=="medium"){off2=parseInt(bTop,10);}}xy[0]-=off1;xy[1]-=off2;}if((docScrollTop||docScrollLeft)){xy[0]+=docScrollLeft;xy[1]+=docScrollTop;}}else{xy=[node.offsetLeft,node.offsetTop];var parentNode=node;var borders;while((parentNode=parentNode.offsetParent)){xy[0]+=parentNode.offsetLeft;xy[1]+=parentNode.offsetTop;if(isGecko){borders=utils.calcBorders(parentNode);xy[0]+=borders[0];xy[1]+=borders[1];}}if(utils.getComputedStyle(node,"position")!=="fixed"){parentNode=node;var scrollTop,scrollLeft;while((parentNode=parentNode.parentNode)&&parentNode.tagName){scrollTop=parentNode.scrollTop;scrollLeft=parentNode.scrollLeft;if(isGecko&&(utils.getComputedStyle(parentNode,"overflow")!=="visible")){borders=utils.calcBorders(parentNode);xy[0]+=borders[0];xy[1]+=borders[1];}if(scrollTop||scrollLeft){xy[0]-=scrollLeft;xy[1]-=scrollTop;}}xy[0]+=docScrollLeft;xy[1]+=docScrollTop;}else{if(isOpera){xy[0]-=docScrollLeft;xy[1]-=docScrollTop;}else{if(isSafari||isGecko){xy[0]+=docScrollLeft;xy[1]+=docScrollTop;}}}}}return xy;},setXY:function(node,xy){var pos=utils.getComputedStyle(node,"position");var left=parseFloat(utils.getComputedStyle(node,"left"));var top=parseFloat(utils.getComputedStyle(node,"top"));if(pos=="static"){pos="relative";node.style.position=pos;}if(isNaN(left)){left=(pos=="relative")?0:node.offsetLeft;}if(isNaN(top)){top=(pos=="relative")?0:node.offsetTop;}var currentXY=utils.getXY(node);if(xy[0]!==null){node.style.left=(xy[0]-currentXY[0]+left)+"px";}if(xy[1]!==null){node.style.top=(xy[1]-currentXY[1]+top)+"px";}},getDocumentScrollTop:function(doc){doc=doc||document;return Math.max(doc.documentElement.scrollTop,doc.body.scrollTop);},getDocumentScrollLeft:function(doc){doc=doc||document;return Math.max(doc.documentElement.scrollLeft,doc.body.scrollLeft);},getDocumentHeight:function(doc){doc=doc||document;return Math.max(Math.max(doc.body.scrollHeight,doc.documentElement.scrollHeight),Math.max(doc.body.offsetHeight,doc.documentElement.offsetHeight),Math.max(doc.body.clientHeight,doc.documentElement.clientHeight));},getDocumentWidth:function(doc){doc=doc||document;return Math.max(Math.max(doc.body.scrollWidth,doc.documentElement.scrollWidth),Math.max(doc.body.offsetWidth,doc.documentElement.offsetWidth),Math.max(doc.body.clientWidth,doc.documentElement.clientWidth));},calcBorders:function(node){var l=parseInt(utils.getComputedStyle(node,"border-left-width"),10)||0;var t=parseInt(utils.getComputedStyle(node,"border-top-width"),10)||0;var ua=navigator.userAgent.toLowerCase();if((ua.indexOf("gecko")>-1)){var RE_TABLE=new RegExp("^t(?:able|d|h)$","i");if(RE_TABLE.test(node.tagName)){l=0;t=0;}}return[l,t];},openPopupWindow:function(url,name,width,height,config){if(url){if(!name){name="wbxpopupwindow";}if(!width){width=500;}if(!height){height=500;}if(!config){var centerWidth=(window.screen.width-width)/2;var centerHeight=(window.screen.height-height)/2;config="width="+width+",height="+height+",toolbar=0,locationbar=1,directories=0,status=0,menubar=0,scrollbars=1,resizable=0,copyhistory=0,left="+centerWidth+",top="+centerHeight;}window.open(url,name,config);}},hideElementsOnPage:function(doc,nodeName,overlapNode,array){if(!doc){doc=document;}if(!array){array=[];}var nodes=WIDGETBOX.dom.Utils.getElementsByTagName(nodeName,doc);for(var i=0;i<nodes.length;i++){var n=nodes[i];if(n.style&&n.style.visibility!="hidden"&&(!overlapNode||WIDGETBOX.dom.Utils.doNodesOverlap(overlapNode,n))){n.setAttribute("data-visibility",n.style.visibility);n.style.visibility="hidden";array[array.length]=n;}}return array;},showHiddenElementsOnPage:function(array){if(array){for(var i=0;i<array.length;i++){var previousVisibility=array[i].getAttribute("data-visibility");array[i].style.visibility=previousVisibility||"";}array=[];}return array;},doNodesOverlap:function(node1,node2){var top1=WIDGETBOX.dom.Utils.getY(node1);var left1=WIDGETBOX.dom.Utils.getX(node1);var right1=left1+node1.offsetWidth;var bottom1=top1+node1.offsetHeight;var left2=WIDGETBOX.dom.Utils.getX(node2);var top2=WIDGETBOX.dom.Utils.getY(node2);var right2=left2+node2.offsetWidth;var bottom2=top2+node2.offsetHeight;var v=false;var h=false;if(top1<=top2&&bottom1>=top2){v=true;}if(top1>=top2&&top1<=bottom2){v=true;}if(left1<=left2&&right1>=left2){h=true;}if(left1>=left2&&left1<=right2){h=true;}return v&&h;},getElementsByTagName:function(nodeName,rootNode,array){if(!rootNode){rootNode=document;}if(!array){array=[];}for(var i=0;i<rootNode.childNodes.length;i++){var node=rootNode.childNodes[i];if(node.nodeName.toLowerCase()==nodeName){array.push(node);}else{array=WIDGETBOX.dom.Utils.getElementsByTagName(nodeName,node,array);}}return array;}};var utils=WIDGETBOX.dom.Utils;WIDGETBOX.setReady("dom.Utils");})();}WIDGETBOX.namespace("track");if(!WIDGETBOX.track.tracker){(function(){WIDGETBOX.track.tracker={Tracker:function(F,B,E,A,C,D){this.firstImpressionLogged=false;this.affiliateImpressionsLogged=false;this.timesLogged=0;this.targetUrl=null;this.sessionId=B;this.impressionDuration="5";this.adTreatmentId=null;this.adPartnerId=null;this.affiliateId=null;this.channelId=null;this.isInEditor=false;this.syndication_sid="";this.hover_locked=false;this.hover_lock_int=null;this.isAdServerDetailsDoneLoading=false;this.isInitialized=false;this.clickTrackingParams=null;this.locationUrl=A;this.affiliateTrackers=null;this.sik=null;this.token=C;this.widgetPrototype=(F&&F.widgetPrototype)||"NONE";this.widgetPrototypeOrdinal=(F&&F.widgetPrototypeOrdinal)||"";this.systemData=null;this.userData=null;this.testVariants=D;this.seq=0;this.hasEngaged=false;this.wrapperType=E?E:"1";this.baseData=null;this.initialize=function(K,H){this.sessionId=H||this.sessionId||WIDGETBOX.generateGUID();this.baseData={};this.baseData.i=K.appId;this.baseData.sid=this.sessionId;this.baseData.vid=WIDGETBOX.globals.vid||this.sessionId;if(this.systemData){for(var I in this.systemData){if(this.systemData.hasOwnProperty(I)){this.baseData["sd."+I]=this.systemData[I];}}}if(this.userData){for(var G in this.userData){if(this.userData.hasOwnProperty(G)){this.baseData["ud."+G]=this.userData[G];}}}if(this.testVariants){for(var M in this.testVariants){if(this.testVariants.hasOwnProperty(M)){this.baseData["v."+M]=this.testVariants[M];}}}this.baseData.aik=K.appPK;this.baseData.ark=K.regPK;this.baseData.sik="";this.baseData.t=(this.token)?this.token:WIDGETBOX.globals.token;this.baseData.uid=K.userPK;this.baseData.apk=K.providerPK;this.baseData.w=this.wrapperType;this.baseData.pnk=K.installPartnerNetworkPK?K.installPartnerNetworkPK:"";this.baseData.gk=K.fromGalleryPK?K.fromGalleryPK:"";this.baseData.pt=(typeof K.widgetPrototypeOrdinal!=="undefined")?K.widgetPrototypeOrdinal:"";this.baseData.rv=K.regVersion;this.baseData.iv=K.appVersion;var L=K.isUseDefaultDomain&&K.isUseDefaultDomain!="false";this.baseData.udd=(L)?L:"";this.baseData.dd=(L)?K.defaultDomain:"";try{this.locationUrl=(this.locationUrl)?this.locationUrl:window.location.href;}catch(J){}this.updateBaseTrackingRequestUrl();this.instId=K.appId;this.userPk=K.userPK;this.isInitialized=true;};this.updateBaseTrackingRequestUrl=function(){this.baseMetricsTrackingRequestUrl=WIDGETBOX.net.Utils.newURLWithParams(WIDGETBOX.urls.metricsBaseUrl+"/image.gif",this.baseData);};this.setSubInstanceKey=function(G){if(G){this.sik=G;this.baseData.sik=this.sik;this.updateBaseTrackingRequestUrl();}};this.setWidgetPrototypeOrdinal=function(G){if(widgetPrototype){this.widgetPrototypeOrdinal=G;this.baseData.pt=this.widgetPrototypeOrdinal;this.updateBaseTrackingRequestUrl();}};this.logWidgetImpression=function(){if(!this.firstImpressionLogged&&!this.isInEditor&&!WIDGETBOX.globals.disableHitTracking&&this.isInitialized){this.firstImpressionLogged=true;var G={};G.it="0";G.sq=this.getNextSequence();G.ts=new Date().getTime();G.CXNID="2000003.0000000001NXC";G.l=this.locationUrl;try{if(WIDGETBOX.random.Utils.seedData){G.cs=WIDGETBOX.random.Utils.seedData;}}catch(H){WIDGETBOX.logMessage(H);}this.loadMetricsTrackerImage(WIDGETBOX.net.Utils.addParameters(this.baseMetricsTrackingRequestUrl,G));}};this.logAffiliateImpressions=function(){if(this.affiliateTrackers&&!this.affiliateImpressionsLogged&&!this.isInEditor&&!WIDGETBOX.globals.disableHitTracking&&this.isInitialized){this.affiliateImpressionsLogged=true;for(var G=0;G<this.affiliateTrackers.length;G++){this.loadMetricsTrackerImage(this.affiliateTrackers[G],true);}}};this.getActionRequestData=function(H,M,L,K,J){var G={};if(J){for(var I in this.baseData){G[I]=this.baseData[I];}}G.it="8";G.lbl=H;G.pl=M;if(L!==undefined&&L!==null){if(!this.getHasEngaged()&&this.isAnEngagement(H,M,L,K)){this.setHasEngaged();}G.c=L;}if(!this.getHasEngaged()&&L!=WIDGETBOX.track.tracker.ActionCause.SYSTEM&&L!="6"){G["sd.deprecated"]="1";}if(K!==undefined&&K!==null){G.cs=K;}G.sq=this.getNextSequence();G.ts=new Date().getTime();G.l=this.locationUrl;return G;};this.logWidgetAction=function(G,J,I,H){if(!this.isInEditor&&this.isInitialized){this.loadMetricsTrackerImage(WIDGETBOX.net.Utils.addParameters(this.baseMetricsTrackingRequestUrl,this.getActionRequestData(G,J,I,H,false)));}};this.isAnEngagement=function(G,J,I,H){return(I==WIDGETBOX.track.tracker.ActionCause.USER||I=="1")&&!(G=="hover"&&J=="initial");};this.setHasEngaged=function(){this.hasEngaged=true;};this.getHasEngaged=function(){return this.hasEngaged;};this.getMetricsRedirectUrl=function(L,H){if(this.isInitialized){var G={};G.it="5";G.ts=new Date().getTime();if(L){if(this.clickTrackingParams&&this.clickTrackingParams.wbx_ls){L+=this.clickTrackingParams.wbx_ls;}G.u=L;}if(this.clickTrackingParams){var I=0;var K=this.clickTrackingParams.wbx_lp;if(!K){K=this.clickTrackingParams["wbx_lp_"+I];}while(K){if(I==0){G.up=K;}else{G["up"+I]=K;}I++;K=this.clickTrackingParams["wbx_lp_"+I];}var J=this.clickTrackingParams.wbx_ct;if(J){G["up"+I]=J;}}if(H){G.r=H;G.p="1";}else{G.p="0";}G.sq=this.getNextSequence();G.l=this.locationUrl;return WIDGETBOX.net.Utils.addParameters(this.baseMetricsTrackingRequestUrl,G);}return null;};this.loadMetricsTrackerImage=function(H,G){try{var J=new Date().getTime();H=H.replace("__WBX_TIMESTAMP__",J).replace("[timestamp]",J);if(!G){H=WIDGETBOX.net.Utils.addParameter(H,"et","G");}if(!this.isInEditor){var I=new Image(1,1);I.alt="";I.onload=function(){};I.src=H;}}catch(K){}};this.getTrackingParams=function(){return this.baseData;};this.setClickTrackingParams=function(G){this.clickTrackingParams=G;};this.getOOBLinkTracker=function(){if(this.clickTrackingParams&&this.clickTrackingParams.wbx_lt){return this.clickTrackingParams.wbx_lt;}else{return null;}};this.getNextSequence=function(){return this.seq++;};this.getShareUrl=function(U,P,K,I,L,G,T,O,Q,J,H){if(!G){G="json";}var N=WIDGETBOX.urls.linkbarBaseUrl+"/share/get/";N+=U||this.instId;if(P.toUpperCase()==WIDGETBOX.track.tracker.ShareType.FACEBOOK_WIDGET){P=WIDGETBOX.track.tracker.ShareType.FACEBOOK;}N+="/"+P.toUpperCase()+"."+G;var S={};S.token=this.token||WIDGETBOX.globals.token;S[WIDGETBOX.track.tracker.ShareConstants.LABEL]=K?K.toLowerCase():P.toLowerCase();if(I){S[WIDGETBOX.track.tracker.ShareConstants.URL]=I;}if(T){S.wbx_callback=T;}S.pt=this.widgetPrototypeOrdinal;S.sik=O||this.sik;S.sid=Q||this.sessionId;if(J!==undefined){S.c=J;}if(H!==undefined){S.cs=H;}var M=new RegExp("iv|rv|v.\S+|sd.\S+|ud.\S+");for(var R in this.baseData){if(this.baseData.hasOwnProperty(R)){if(M.test(R)){S[R]=this.baseData[R];}}}S.ts=new Date().getTime();if(L){N=WIDGETBOX.net.Utils.newURLWithParams(N,L);}return WIDGETBOX.net.Utils.newURLWithParams(N,S);};this.clone=function(){var H=this;var G=new WIDGETBOX.track.tracker.Tracker();for(var I in H){if(H.hasOwnProperty(I)&&!WIDGETBOX.isType("Function",H[I])){G[I]=H[I];}}G.getNextSequence=function(){return H.getNextSequence();};G.getHasEngaged=function(){return H.getHasEngaged();};G.setHasEngaged=function(){H.setHasEngaged();};return G;};if(F){this.initialize(F,B);}},ShareType:{DEFAULT:"DEFAULT",URL:"URL",OWN_SITE:"OWN_SITE",QR_CODE:"QR_CODE",SMS:"SMS",EMAIL:"EMAIL",TWITTER:"TWITTER",FACEBOOK:"FACEBOOK",FACEBOOK_WIDGET:"FACEBOOK_WIDGET",LINKED_IN:"LINKED_IN",DIGG:"DIGG",DELICIOUS:"DELICIOUS",STUMBLE_UPON:"STUMBLE_UPON",REDDIT:"REDDIT",YAHOO:"YAHOO",MENU_SHOW:"MENU_SHOW"},ShareConstants:{URL:"url",ACTION:"action",LABEL:"label",TO:"to",FROM:"from",FROM_NAME:"fname",IP:"ip",USER_AGENT:"ua",LANG:"lang",REFERRER:"rf",SMS_CARRIER:"carrier",MESSAGE_CUSTOM_BODY:"body",MESSAGE_CUSTOM_SUBJECT:"subject",IMAGE_WIDTH:"w",IMAGE_HEIGHT:"h",TITLE:"title"},SendShareAction:{MOBILE_DEFAULT_SMS:0,MOBILE_DEFAULT_EMAIL:1,MOBILE_CUSTOM:2,SOCIAL_SHARE_EMAIL:3,WIDGET_SHARE_EMAIL:4,SOCIAL_SHARE_SMS:5,CUSTOM_TEMPLATE:6},SMSCarrier:{ATT:0,TMOBILE:1,SPRINT:2,VERIZON:3},ActionLabel:{HOVER:"hover",TAB_CLICK:"tab click",BODY_CLICK:"body click",SCROLL:"scroll",PLAY:"play",PLAY_AUTO:"play auto",PLAYBACK_QUARTER:"play 1/4",PLAYBACK_HALF:"play half",PLAYBACK_THREE_QUARTER:"play 3/4",PLAYBACK_FULL:"play full",PLAYBACK_REPLAY_WITH_SOUND:"play sound",FOLLOW:"follow",CONNECT:"connect",TWEET:"tweet",SUBMIT:"submit",RESULT:"result",READ_MORE:"read more",SHARE:"share",CUSTOM:"custom",OPEN:"open",CLOSE:"close",EXPAND:"expand",COLLAPSE:"collapse",INSTALL:"install",PAGE_VIEW:"page view",HOMESCREEN:"homescreen",TEL:"tel:",MAILTO:"mailto:",MAP:"map:",WEBCAL:"webcal:"},ActionCause:{AUTO:0,USER:1,CLICK:2,HOVER:3,TOUCH:4,KEYBOARD:5,SYSTEM:6}};}());}WIDGETBOX.namespace("subscriber");if(!WIDGETBOX.subscriber.Widget){(function(){var A=WIDGETBOX.net.JSONRequest;var B=WIDGETBOX.net.Utils;function C(F,E,D){if(!F){F="00000000-0000-0000-0000-000000000000";}this.appId=F;this.regId=E;this.fId=this.regId;this.providerId=null;this.sid=WIDGETBOX.generateGUID(WIDGETBOX.random.Utils.random);this.id=WIDGETBOX.globals.widgets.length;this.loaded=false;this.unloaded=false;this.widgetInfoRequestPending=false;this.hasError=false;this.sendsMessages=false;this.subscribeMode=null;this.buttonMode=0;this.defer=false;this.preventLoad=false;this.info=null;this.eventListeners=null;this.activityImage=null;this.widgetImage=null;this.iframe=null;this.adDiv=null;this.divNode=null;this.headNodes=null;this.parentNode=D;this.divId="widgetbox_widget_div_"+this.id;this.divNode=WIDGETBOX.createElement("div",this.parentNode);this.divNode.setAttribute("id",this.divId);this.getWidgetLoaded=false;this.adLoaded=false;this.adFriendly=false;this.adEnabled=false;this.isSubscriber=false;this.channels=null;this.adPlacement=null;this.isPreviewInstance=false;this.isConfigurable=false;this.inventoryInstId=false;this.inventoryRegId=false;this.appPK=null;this.regPK=null;this.providerPK=null;this.userPK=null;this.fromGalleryPK=null;this.installPartnerNetworkPK=null;this.isUseDefaultDomain=false;this.defaultDomain=null;this.categories=null;this.detailsUrl=null;this.configUrl=null;this.configParams=null;this.partnerNetwork=null;this.fromPartnerNetwork=null;this.fromCustomGallery=null;this.suppressEditWidget=false;this.serviceLevel="0";this.providerServiceLevel="0";this.instServiceLevel="0";this.cfgString=null;this.childParams=null;this.sourceWidgetId=null;this.infoUrlOverride=null;this.testVariants={};this.mouseoutState={mousedOver:false,mouseOutTimeout:null,docMouseHandler:null,suspended:null,doMouseOut:null,setMousedOver:function(G){this.mousedOver=G;},mouseOutHold:false};this.mouseoverState={isHovering:false,onTop:false,doMouseOver:null,mouseChecker:null,mouseElementBox:null,mouseElementBody:null,mouseoutElement:null,mouseoverElement:null,overTimeout:null,IEMouseMove:null,cancelOverTimeout:null,ignoreFirstMouseout:false,mousedOut:false};this.anchoring={lastX:null,lastY:null,lastViewportWidth:0,lastViewportHeight:0,lastDocumentHeight:0,lastPageXOffset:0,lastPageYOffset:0,lastAnchorAttempt:0,anchorToBody:false,anchorChildrenToBody:true,canModifyDOM:false,unloadOnLink:false,overTimeoutLength:250,setUnloadEventConfig:function(G){try{this.unloadEventCause=G.cause;this.unloadEventCustom=G.custom;}catch(G){this.unloadEventCause=0;this.unloadEventCustom=null;WIDGETBOX.logMessage(G);}},unloadEventCause:0,unloadEventCustom:null};this.preloaderEnabled=false;this.preloaderAsset=null;this.closeButton=null;this.storedMarginLeft=0;this.zIndexForExpandable=null;this.anchorPosition="TR";this.affiliateTrackers=null;D.appendChild(this.divNode);WIDGETBOX.globals.widgets[this.id]=this;}C.prototype={addEventListener:function(D,F){if(F){if((D=="load")&&this.loaded){try{F(this);}catch(G){WIDGETBOX.logMessage(G);}}else{if(!this.eventListeners){this.eventListeners={};}if(!this.eventListeners[D]){this.eventListeners[D]=[];}var E=this.eventListeners[D];E.push(F);}}},notifyEventListeners:function(E){if(!this.eventListeners){return;}var F=this.eventListeners[E];if(!F){return;}for(var D=0;D<F.length;D++){var G=F[D];try{G(this);}catch(H){WIDGETBOX.logMessage(H);}}},loadInfo:function(T){if(!T&&!this.info){return;}if(T&&!this.info){this.info=T;}else{T=this.info;}if(!this.loaded){if(T.configParams){var Aa=T.configParams["wbx.backupInstanceMap"];if(Aa&&Aa.valueMap){for(var L in Aa.valueMap){if(navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().indexOf(L)>-1){var AU=Aa.valueMap[L];if(AU){return WIDGETBOX.subscriber.Main.replaceWidget(this.id,AU);}}}}var b=T.configParams["wbx.controller"];if(b&&b.value){delete T.configParams["wbx.controller"];var Y=document.getElementById("wbx_jscontroller_"+this.id);if(!Y){this.defer=true;var Ab=this.id;this.preventLoad=true;WIDGETBOX.appendScript(b.value,"wbx_jscontroller_"+this.id,true,function(){var d=T.configParams["wbx.controllerInitFn"];var A6=WIDGETBOX.globals.widgets[Ab];if(d&&d.value){var A5=d.value.split(".");var A4=self;try{for(var t=0;t<A5.length;t++){A4=A4[A5[t]];}A4({setParam:function(e,A8){A6.setConfigParam(e,A8);},renderWidget:function(){A6.preventLoad=false;A6.loadInfo(null);}});}catch(A7){WIDGETBOX.logMessage(A7);}}else{A6.preventLoad=false;WIDGETBOX.subscriber.Main.loadWidgets();}});return;}}}this.notifyEventListeners("loadInfo");this.regId=T.regId;this.fId=T.fId;if(T.hasDynamicSize||T.hasDynamicStyle||T.sendsMessages){this.sendsMessages=true;}if(T.isContextAware){this.defer=true;}if(T.defer){this.defer=true;}if(this.sendsMessages){this.defer=true;}if(this.sendsMessages){if(!WIDGETBOX.subscriber.Main.isHelperSetupForSubscriber()){WIDGETBOX.subscriber.Main.setupHelperForSubscriber();return;}}if((this.defer&&!WIDGETBOX.globals.pageLoaded)||this.preventLoad){return;}if(this.hasChildren()){this.unloadAllChildren();}var Q=this.divNode;if(!Q){return;}this.loaded=true;if(T.name=="Widgetbox Error Widget"){this.hasError=true;}if(!this.subscribeMode){this.subscribeMode=T.subscribeMode;}this.configUrl=T.configUrl;this.adFriendly=T.isAdFriendly;this.adEnabled=T.isAdEnabled;this.adPlacement=T.adPlacement;this.isPreviewInstance=T.isPreviewInstance;this.isConfigurable=(this.isConfigurable||this.isPreviewInstance);this.inventoryInstId=T.inventoryInstId;this.inventoryRegId=T.inventoryRegId;this.providerId=T.providerId;this.appPK=T.appPK;this.regPK=T.regPK;this.providerPK=T.providerPK;this.userPK=T.userPK;this.fromGalleryPK=T.fromGalleryPK;this.installPartnerNetworkPK=T.installPartnerNetworkPK;this.isUseDefaultDomain=T.isUseDefaultDomain;this.defaultDomain=T.defaultDomain;this.categories=T.categories;this.serviceLevel=T.serviceLevel;this.providerServiceLevel=T.providerServiceLevel;this.instServiceLevel=T.instServiceLevel;this.fromCustomGallery=T.fromGalleryCode;this.domainWhitelist=T.domainWhitelist;this.affiliateTrackers=[];if(this.domainWhitelist){var AI=false;var Ay=window.location.toString();if(Ay){var AA=Ay.indexOf("://")+3;var Ak=Ay.indexOf("/",AA);if(Ak==-1){Ak=Ay.length;}var X=Ay.substring(AA,Ak);var W=X.indexOf(":");if(W>0){X=X.substring(0,W);}for(var AF=0;AF<this.domainWhitelist.length;AF++){var Ar=this.domainWhitelist[AF];if(X.indexOf(Ar)>-1){AI=true;}}if(!AI){return;}}}if(T.installPartnerNetworkCode){this.partnerNetwork=T.installPartnerNetworkCode;}else{this.partnerNetwork="code";}if(T.fromPartnerNetworkCode){this.fromPartnerNetwork=T.fromPartnerNetworkCode;}else{this.fromPartnerNetwork="wbx";}if(!this.detailsUrl){this.detailsUrl=WIDGETBOX.urls.galleryBaseUrl;if(this.info.widgetPrototype=="TEMPLATE"){this.detailsUrl+="/i/"+this.appId;}else{this.detailsUrl+="/widget/"+this.fId;this.detailsUrl+="?wbx.refer=1&wbx.refer.instId="+this.appId+"&wbx.refer.targetRegId="+this.regId;if(this.partnerNetwork!=null&&this.partnerNetwork!=""){this.detailsUrl+="&wbx.refer.pn="+this.partnerNetwork;}this.detailsUrl+="&wbx.refer.location="+escape(window.location.href);}}var AX={};var At=T.configParams;var Am={};var m={};var As={};var v={};var H=false;var AG=false;var Aj=false;if(At){if(this.cfgString){var AS=this.cfgString.split("&");for(var AB=0;AB<AS.length;AB++){var AP=AS[AB].split("=");var AR=AP[0];var A1=null;if(AP.length>1){A1=decodeURIComponent(AP[1]);}if(AR=="appInstance.width"){if(A1&&!isNaN(A1)){T.appWidth=A1;}}else{if(AR=="appInstance.height"){if(A1&&!isNaN(A1)){T.appHeight=A1;}}else{var AO=At[AR];if(AO){AO.value=A1;}else{if(T.widgetPrototype==="RICH_MEDIA_AD"){At[AR]={name:AR,value:A1};}}}}}}if(this.sourceWidgetId!=null){var AW=WIDGETBOX.subscriber.Main.getChildParameters(this.sourceWidgetId);for(var AY in AW){var R=At[AY];var Af=AW[AY].value;if(R){R.value=Af;}else{At[AY]={name:AY,value:Af};}}}var n=WIDGETBOX.globals.keywordMarkup;var k=WIDGETBOX.globals.taggingMarkup;if(At){var Z="wbx_at";var P=false;var Ax=0;while(Ax<5){var AH=Z;if(Ax>0){AH+="_"+Ax;}var w=At[AH];if(w){var x=w.value;if(x&&x.length>0&&x!="null"){this.affiliateTrackers.push(x);delete At[AH];P=true;}}Ax++;}if(P){At.wbx_hasRuntimeTracked={name:"wbx_hasRuntimeTracked",value:"true"};}var Ae=At.wbx_in_editor;Aj=Ae&&Ae.value&&Ae.value=="true";}for(var a in At){var Ah=At[a];if(Ah.type==="TEST_VARIABLE"){try{var y=[];var j=Ah.value;for(var Ac in j){var Ag=j[Ac];for(var o=0;o<Ag.weight;o++){y[y.length]=Ac;}}var S=y[Math.floor(Math.random()*y.length)];Ah.value=j[S].value;this.testVariants[Ah.name]=S;}catch(AE){WIDGETBOX.logMessage(AE);}}}var AN=0;var AD=navigator.userAgent.toLowerCase();if(T.widgetType=="FLASH"&&(AD.match(/firefox\/3\.6/i)||AD.match(/msie\s8/i))){AN=-1;}if(AN!=0){v.widthAdjustment=""+AN;}v.appId=this.appId;v.regId=this.regId;v.friendlyId=this.fId;v.name=T.name;v.token=WIDGETBOX.subscriber.Main.getToken();v.sid=this.sid;v.vid=WIDGETBOX.globals.vid;v.id=""+this.id;v.location=window.location.href;v.timestamp=""+B.newTimestamp();v.serviceLevel=""+this.serviceLevel;v.provServiceLevel=""+this.providerServiceLevel;v.instServiceLevel=""+this.instServiceLevel;v.width=""+Number(Number(T.appWidth)+AN);v.height=""+T.appHeight;v.wrapper="JAVASCRIPT";v.isAdFriendly=""+T.isAdFriendly;v.isAdEnabled=""+T.isAdEnabled;v.adPlacement=""+T.adPlacement;v.prototype=T.widgetPrototype;v.prototypeOrdinal=T.widgetPrototypeOrdinal;v.ua=AD;v.version=T.appVersion;v.regVersion=T.regVersion;for(var Az in this.testVariants){if(this.testVariants.hasOwnProperty(Az)){v["variant."+Az]=this.testVariants[Az];}}var Aw=this;var A3=function(e,d){return Aw.replaceConfigParamTokens(e,d,At,v,true);};var h=function(e,d){return Aw.replaceConfigParamTokens(e,d,At,v);};for(var a in At){var Ah=At[a];if(Ah.value&&Ah.value.replace){Ah.value=Ah.value.replace(/\$\s*?{\s*?(.*?)\s*?}/gi,A3);}}for(var a in At){var Ah=At[a];var f=null;if(n&&Ah.useContext){H=true;var G=n[Ah.contextName];if(G){f=G.keywords;}}if(k&&!f&&(Ah.useRelTags)&&(Ah.contextName=="*")){var G=k[0];if(G){f=G.keywords;}}if(f){Ah.value=f;}if(!Ah.value){Ah.value="";}if(a.indexOf("plugin.")==0){var AJ=a.substring(7);if(AJ.toLowerCase()=="allowscriptaccess"){continue;}if(T.widgetType=="FLASH"&&AJ.toLowerCase()=="wmode"&&T.isAdFriendly&&T.isAdEnabled){AG=true;if(Ah.value.toLowerCase()!="transparent"){Am[AJ]="opaque";continue;}}Am[AJ]=Ah.value;continue;}if(a.indexOf("flashvar.")==0){var An=a.substring(9);m[An]=Ah.value;continue;}if(a.indexOf("loadvar.")==0){continue;}if(a.indexOf("wbx.")==0){var s=a.substring(4);var M=Ah.value;if(s=="initialWidth"){Q.style.overflow="hidden";Q.style.width=M+"px";v.initialWidth=M;}else{if(s=="initialHeight"){Q.style.overflow="hidden";Q.style.height=M+"px";v.initialHeight=M;}else{As[s]=M;}}continue;}var q=Ah.value;if(WIDGETBOX.isType("Object",q)){var V="{";for(var AQ in q){if(q.hasOwnProperty(AQ)){if(V.length>1){V+=",";}V+='"'+AQ+'":"'+q[AQ]+'"';}}q=V+"}";}if(T.widgetPrototype=="BLIDGET"||T.widgetPrototype=="RICH_MEDIA_AD"||T.widgetPrototype=="AD_V3"){m[a]=q;AX.cb=WIDGETBOX.version;}else{AX[a]=q;}}if(T.widgetType=="FLASH"&&!AG&&T.isAdFriendly&&T.isAdEnabled){Am.wmode="opaque";}this.configParams=At;}var D=this.getSourceWidget();var AV=As.paramMode;var J=As.html5Mode;var Aq=T.widgetType=="HTML"&&(T.widgetPrototype=="MOBILE_HTML5"||T.widgetPrototype=="MOBILE_APP"||T.widgetPrototype=="WIDGET_PAGE"||T.widgetPrototype=="PAGE_COMPONENT");Aq=Aq||(J&&J=="true");var AK=(AV&&AV=="suppressAll");var K=(AK||(AV&&AV=="configOnly"));var l=(!Aq&&T.widgetPrototype!="BLIDGET"&&T.widgetPrototype!="RICH_MEDIA_AD"&&T.widgetPrototype!="AD_V3"&&T.widgetPrototype!="TEMPLATE")&&(!AV||AV!="all");this.preloaderEnabled=As.preloaderEnabled;this.preloaderAsset=As.preloaderAsset||WIDGETBOX.urls.cdnRuntimeBaseUrl+"/images/indicator-u.gif";this.buttonMode=As.buttonMode?As.buttonMode:0;if(D){v.sourceId=String(D.id);}if(T.widgetType!="FLASH"){if(T.hasDynamicSize){v.hasDynamicSize=""+T.hasDynamicSize;}if(T.sendsMessages){v.sendsMessages=""+T.sendsMessages;}}if(T.widgetType=="HTML"){v.output="htmlcontent";}if(!l){v.appPK=this.appPK;v.regPK=this.regPK;v.providerPK=this.providerPK;v.userPK=this.userPK;if(this.installPartnerNetworkPK){v.partnerNetworkPK=this.installPartnerNetworkPK;}if(this.fromGalleryPK){v.fromGalleryPK=this.fromGalleryPK;}if(D){var E=this.getSourceWidget(true);v.sAppId=E.appId;v.sAppPK=E.appPK;v.sRegPK=E.regPK;v.sProviderPK=E.providerPK;v.sUserPK=E.userPK;v.sPrototype=E.info.widgetPrototype;v.sPrototypeOrdinal=E.info.widgetPrototypeOrdinal;v.sVersion=E.info.appVersion;v.sRegVersion=E.info.regVersion;v.sTsq=E.tracker.seq;v.sThe=E.tracker.hasEngaged;if(E.installPartnerNetworkPK){v.sPartnerNetworkPK=E.installPartnerNetworkPK;}if(E.fromGalleryPK){v.sFromGalleryPK=E.fromGalleryPK;}for(var Az in E.testVariants){if(E.testVariants.hasOwnProperty(Az)){v["sVariant."+Az]=E.testVariants[Az];}}}}if(D){if(D.anchoring.unloadOnLink){if(T.widgetType=="FLASH"){m.wbx_unload_on_link="true";}else{AX.wbx_unload_on_link="true";}}}if(T.widgetType=="FLASH"){if(!K){for(var AT in v){m["widget_"+AT]=v[AT];}}}else{if(T.widgetType=="HTML"||!K){for(var Ad in v){AX["widget."+Ad]=v[Ad];}}}var c=T.url;var O;if(!this.tracker){this.tracker=new WIDGETBOX.track.tracker.Tracker(T,this.sid,"1",null,null,(D?D.testVariants:this.testVariants));this.tracker.isInEditor=Aj;}else{if(typeof this.sourceWidgetId!=="undefined"){this.tracker.setSubInstanceKey(T.appPK);if(this.tracker.isInEditor){if(T.widgetType=="FLASH"){m.wbx_in_editor="true";}else{AX.wbx_in_editor="true";}}}}this.tracker.affiliateTrackers=this.affiliateTrackers;this.tracker.logAffiliateImpressions();if(!this.hasError){this.tracker.logWidgetImpression();}if(As.ab){this.notifyEventListeners("load");WIDGETBOX.subscriber.Main.renderWidgetInPlaceOfExistingWidget(this.id,As.ab,null,true,null,null,true,false,false);return;}if((T.widgetType=="HTML")&&T.isRenderedInline){try{var Au=T.htmlContent;Au=Au.replace(/\$\s*?{\s*?(.*?)\s*?}/gi,h);Au=Au.replace("__MODULE_ID__",this.id);this.headNodes=WIDGETBOX.dom.Utils.insertHtmlText(Q,Au);}catch(AE){WIDGETBOX.logMessage(AE);}this.notifyEventListeners("load");return;}if(Aq){c=WIDGETBOX.urls.runtimeBaseUrl+"/html5/"+T.appId;}else{if(T.widgetType=="HTML"){c=WIDGETBOX.urls.markupRuntimeBaseUrl+"/get_widget.html";}else{if(T.widgetType=="URL"||T.widgetType=="FLASH"){try{c=c.replace(/\$\s*?{\s*?(.*?)\s*?}/gi,h);}catch(AE){WIDGETBOX.logMessage(AE);}}}}if(!AK){var Ap;if(T.widgetType=="HTML"&&!H&&!this.isConfigurable&&!this.cfgString){Ap=new Object;for(Al in v){Ap["widget."+Al]=v[Al];}}else{Ap=AX;}c=B.newURLWithParams(c,Ap);}var AZ=null;var r=false;if(T.widgetType=="FLASH"){if(!WIDGETBOX.flash.Utils.DetectFlashVer(8,0,0)){var AD=navigator.userAgent.toLowerCase();var u=AD.indexOf("iphone")>-1||AD.indexOf("ipod")>-1||AD.indexOf("ipad")>-1||AD.indexOf("android")>-1;if(u&&As.backupImageMobile){c=As.backupImageMobile;r=true;}if(!r&&As.backupImage){c=As.backupImage;r=true;}if(r){O=WIDGETBOX.urls.runtimeBaseUrl+"/backuplink/i/"+this.appId;var Ai=At.wbx_ct;if(Ai){O+="?ct="+encodeURIComponent(Ai);}}}if(!r){if(As.backupImageLink){m.wbx_cant_expand_url=As.backupImageLink;}var Ao=null;if((T.widgetPrototype=="RICH_MEDIA_AD"||T.widgetPrototype=="AD_V3")&&window.location.protocol==="https:"&&c.indexOf("http://")==0){c="https"+c.substr(4);}if(!T.hasDynamicSize){Ao=new WIDGETBOX.flash.Utils.FlashTag(c,T.appWidth,T.appHeight,"6,0,65,0");}else{Ao=new WIDGETBOX.flash.Utils.FlashTag(c,-1,-1,"6,0,65,0");}if(T.isRenderedInline||WIDGETBOX.globals.trustedPage){Ao.setAllowScriptAccess("always");}else{Ao.setAllowScriptAccess("sameDomain");}var I="widgetbox_widget_flash_"+this.id;Ao.setId(I);Ao.addParams(Am);Ao.addFlashVarsParams(m);var F;try{Q.innerHTML=Ao.toString();F=Q.children[0];}catch(AE){F=Ao.getElement(Q.ownerDocument);Q.appendChild(F);}this.addEventListener("unload",function(){WIDGETBOX.flash.Utils.destroyMovie(F);});this.iframe=Q.ownerDocument.getElementById(I);if(this.preloaderEnabled){this.addPreloader(this.preloaderAsset);}this.notifyEventListeners("load");if(T.hasDynamicSize){this.notifyEventListeners("resize");}return;}}if(T.widgetType=="IMG"||r){AZ=WIDGETBOX.createElement("img",Q);AZ.setAttribute("id","widgetbox_widget_img_"+this.id);AZ.setAttribute("src",c);if(!T.hasDynamicSize){AZ.setAttribute("width",(v.initialWidth)?v.initialWidth:T.appWidth);AZ.setAttribute("height",(v.initialHeight)?v.initialHeight:T.appHeight);}AZ.setAttribute("alt",T.name);if(O){if(At.wbx_ls){O+=At.wbx_ls.value;}O=this.tracker.getMetricsRedirectUrl(O,null);var N=0;var Av=At.wbx_lp||At["wbx_lp_"+N];while(Av){O=WIDGETBOX.net.Utils.addParameter(O,"up"+((N)?N:""),Av.value);Av=At["wbx_lp_"+(++N)];}var p=At.wbx_ct;if(p){O=WIDGETBOX.net.Utils.addParameter(O,"up"+((N)?N:""),p.value);}var AC=WIDGETBOX.createElement("a",Q);AC.setAttribute("href",O);AC.setAttribute("target","_blank");var AL=At.wbx_lt;if(AL&&AL.value){var z=this.tracker;AC.onclick=function(){z.loadMetricsTrackerImage(AL.value);};}AZ.setAttribute("border","0");AC.appendChild(AZ);Q.appendChild(AC);}else{Q.appendChild(AZ);}this.widgetImage=AZ;this.notifyEventListeners("load");if(T.hasDynamicSize){this.notifyEventListeners("resize");}return;}this.makeWidgetIframe(T,Q);var AM=false;if((Aq&&c.length>1000)||c.length>2000){AM=true;}if(AM){if(Aq){c=WIDGETBOX.urls.runtimeBaseUrl+"/html5/"+T.appId;if(!K){c=B.newURLWithParams(c,v,null,"widget");}}else{if(T.widgetType=="HTML"){c=WIDGETBOX.urls.markupRuntimeBaseUrl+"/get_widget.html";}else{c=T.url;}}}var U=null;if(AM){U='<form name="widgetForm" method="POST" action="'+c+'">';for(var Al in AX){var A0=AX[Al];if(WIDGETBOX.isType("String",A0)){A0=A0.replace(/</g,"&lt;");A0=A0.replace(/>/g,"&gt;");A0=A0.replace(/"/g,"&quot;");}U+='<input type="hidden" name="'+Al+'" value="'+A0+'" />';}U+="</form>";}if(T.hasDynamicSize){if(!this.activityImage){AZ=WIDGETBOX.createElement("img",Q);AZ.setAttribute("id","widgetbox_widget_activity_img_"+this.id);AZ.setAttribute("src",WIDGETBOX.urls.cdnRuntimeBaseUrl+"/images/indicator-u.gif");AZ.setAttribute("width","21");AZ.setAttribute("height","21");AZ.setAttribute("alt","Loading...");Q.appendChild(AZ);this.activityImage=AZ;}if(this.iframe){this.iframe.src=c;}}else{var g=c.replace(/"/g,'" + \'"\' + "');g=g.replace(/'/g,'" + "\'" + "');if(U){var A2=null;try{A2=(this.iframe.contentDocument)?this.iframe.contentDocument:((this.iframe.contentWindow)?this.iframe.contentWindow.document:this.iframe.document);}catch(AE){this.makeWidgetIframe(T,Q);A2=(this.iframe.contentDocument)?this.iframe.contentDocument:((this.iframe.contentWindow)?this.iframe.contentWindow.document:this.iframe.document);}A2.open();A2.write('<html><body onload="document.widgetForm.submit();"><table width="100%" height="100%"><tr><td align="center"><img src="'+WIDGETBOX.urls.cdnRuntimeBaseUrl+'/images/indicator-u.gif" width="21" height="21" alt="Loading..." /></td></tr></table>');A2.write(U);A2.write("</body></html>");A2.close();}else{if(this.iframe){this.iframe.src=g;}}}this.notifyEventListeners("load");}},setConfigParam:function(D,E){var G={name:D,value:E};var F={name:D,value:E};if(!this.configParams){this.configParams={};}this.configParams[D]=G;if(this.info.widgetPrototype=="RICH_MEDIA_AD"){this.configParams["gallery."+D]=F;}if(!this.info.configParams){this.info.configParams={};}this.info.configParams[D]=G;if(this.info.widgetPrototype=="RICH_MEDIA_AD"){this.info.configParams["gallery."+D]=F;}},replaceConfigParamTokens:function(L,O,I,M,J){var P="";var F=O.indexOf(".");if(F>0&&O.length>F){var G=O.substr(0,F);var H=O.substr(F+1);if(G&&H){if(G==="config"){var E=I[H];if(E){P=E.value;}else{var K=H.indexOf(".");var N=H.substr(0,K);E=I[N];if(E){var D=H.substr(K+1);if(E.value[D]){P=E.value[D];}}}}else{if(G==="widget"){P=M[H];}else{if(G==="wbx"&&I[H]){P=I["wbx."+H];}}}}}if(!P){P=(J?"${"+O+"}":"");}return P;},getSourceWidget:function(E){if(typeof this.sourceWidgetId==="undefined"||this.sourceWidgetId===null){return null;}else{var D=WIDGETBOX.globals.widgets[this.sourceWidgetId];if(D){if(typeof D.sourceWidgetId!=="undefined"&&E){return D.getSourceWidget(E)||D;}else{return D;}}}return null;},makeWidgetIframe:function(J,K){var G="hidden";var F=1;var I=1;if(!J.hasDynamicSize){F=J.appWidth;I=J.appHeight;G="visible";}var H="no";if(J.scrolling){H="auto";}var E=this.iframe;if(E!=null){var D=E.parentNode;if(D){D.removeChild(E);E=null;this.iframe=null;}}E=WIDGETBOX.createElement("iframe",K);E.setAttribute("name","widgetbox_widget_iframe_"+this.id);E.setAttribute("id","widgetbox_widget_iframe_"+this.id);E.setAttribute("width",F);E.setAttribute("height",I);E.setAttribute("border","0");E.setAttribute("frameBorder","0");E.setAttribute("src","about:blank");E.setAttribute("marginWidth","0");E.setAttribute("marginHeight","0");E.setAttribute("vspace","0");E.setAttribute("hspace","0");E.setAttribute("allowTransparency","true");E.setAttribute("scrolling",H);if(!this.iframe){K.appendChild(E);this.iframe=E;if(this.preloaderEnabled){this.addPreloader(this.preloaderAsset);}}},addPreloader:function(D){if(this.iframe){try{this.iframe.style.background="url('"+D+"') no-repeat center center";}catch(E){}}},resize:function(D,E){var F=this.info;if(!F){return;}F.appWidth=D;F.appHeight=E;F.wasResized=true;if(this.activityImage){this.activityImage.style.visibility="hidden";this.activityImage.style.display="none";}if(this.iframe&&F.hasDynamicSize){this.iframe.style.visibility="visible";this.iframe.width=D;this.iframe.height=E;this.notifyEventListeners("resize");}},reloadInfo:function(H){if(!this.loaded){return;}this.widgetImage=null;this.info=null;this.loaded=false;var F=false;if(((H.widgetType=="HTML")&&H.isRenderedInline)||H.widgetType=="IMG"||H.widgetType=="FLASH"){F=true;}else{if((document.all||navigator.userAgent.toLowerCase().indexOf("safari")!=-1)&&this.iframe){this.iframe=null;F=true;}}if(this.headNodes){var E=document.getElementsByTagName("head").item(0);for(var D=0;D<this.headNodes.length;D++){var G=this.headNodes[D];if(G){E.removeChild(G);}this.headNodes[D]=null;}}this.headNodes=null;if(F){WIDGETBOX.dom.Utils.removeAllChildren(this.divNode);}this.loadInfo(H);},unload:function(){if(!this.unloaded){try{this.notifyEventListeners("unload");this.activityImage=null;this.widgetImage=null;this.iframe=null;this.headNodes=null;this.info=null;if(this.closeButton){this.closeButton.style.display="none";this.closeButton=null;}if(this.sourceWidgetId!=null){var D=WIDGETBOX.globals.widgets[this.sourceWidgetId];if(D){if(D.mouseoutState){D.mouseoutState.mouseOver=false;D.mouseoutState.suspended=false;}D.dispatchEvent("widget","close_popup",this.appId);if(D.mouseoverState.mouseElementBody&&D.mouseoverState.mouseChecker){try{WIDGETBOX.removeEvent(D.mouseoverState.mouseElementBody,"mousemove",D.mouseoverState.mouseChecker,false);setTimeout(function(){WIDGETBOX.addEvent(D.mouseoverState.mouseElementBody,"mousemove",D.mouseoverState.mouseChecker,false);},10);}catch(E){}}}}if(this.mouseoverState){this.mouseoverState.isHovering=false;this.mouseoverState.onTop=false;try{WIDGETBOX.removeEvent(this.mouseoutState.mouseoutElement,"mousemove",this.mouseoutState.docMouseHandler,false);}catch(E){}if(this.mouseoverState.cancelMouseoverTimeout){this.mouseoverState.cancelMouseoverTimeout();}this.mouseoutState.docMouseHandler=function(){};}this.unloadAllChildren();this.divNode=null;this.eventListeners=null;this.loaded=false;this.unloaded=true;}catch(F){}}},hasChildren:function(){return this.getChildren().length>0;},getChildren:function(){var F=[];for(var E=0;E<WIDGETBOX.globals.widgets.length;E++){var D=WIDGETBOX.globals.widgets[E];if(D&&D.sourceWidgetId==this.id&&D.loaded&&D.info){F.push(D);}}return F;},unloadAllChildren:function(D){var F=this.getChildren();for(var E=0;E<F.length;E++){try{if(D){F[E].anchoring.setUnloadEventConfig(D);}F[E].unload();}catch(G){}}},setOnMouseoutHandler:function(I,O,L){var K=this;if(!O){return;}if(!I){I=K.iframe;}if(!L){L=0;}var D=navigator.userAgent.toLowerCase();var E=(D.indexOf("msie")>-1);var F=(D.indexOf("msie 6")>-1);var M=(typeof K.sourceWidgetId!=="undefined")?WIDGETBOX.subscriber.Main.getWidget(K.sourceWidgetId):null;K.mouseoutState.mouseoutElement=I.ownerDocument.documentElement;K.mouseoutState.doMouseOut=function(){if(!K.mouseoutState.suspended&&K.mouseoutState.mousedOver){try{WIDGETBOX.removeEvent(K.mouseoutState.mouseoutElement,"mousemove",K.mouseoutState.docMouseHandler);K.mouseoutState.docMouseHandler=function(){};}catch(P){}finally{if(typeof K.sourceWidgetId!=="undefined"){var Q=WIDGETBOX.subscriber.Main.getWidget(K.sourceWidgetId);if(Q){Q.mouseoverState.onTop=false;}}O();}}};var H=function(Q){var P=WIDGETBOX.dom.Utils.getX(Q);var R=WIDGETBOX.dom.Utils.getY(Q);return{x:P,y:R};};var G=function(R){var Q,P=0;if(!R){R=window.event;}if(!R){return{x:0,y:0};}if(E&&R.clientX!==undefined&&R.clientY!=undefined){Q=R.clientX;P=R.clientY;}else{Q=R.pageX;P=R.pageY;}return{x:Q,y:P};};var N=I.offsetWidth||0;var J=I.offsetHeight||0;K.mouseoutState.docMouseHandler=(function(){return function(P){var R=G(P);var S=H(I);var Q=H(K.mouseoutState.mouseoutElement);if(R.x+Q.x<S.x||R.y+Q.y<S.y||R.x+Q.x>S.x+N||R.y+Q.y>S.y+J){if(!K.mouseoutState.mouseOutHold){K.mouseoutState.mouseOutHold=true;K.mouseoutState.closeTimeout=setTimeout(K.mouseoutState.doMouseOut,L);}}else{K.mouseoutState.mousedOver=true;K.mouseoutState.mouseOutHold=false;clearTimeout(K.mouseoutState.closeTimeout);}};})();if(!F){WIDGETBOX.addEvent(K.mouseoutState.mouseoutElement,"mousemove",K.mouseoutState.docMouseHandler,false);}else{I.onmousemove=function(){K.mouseoutState.mousedOver=true;K.mouseoutState.mouseOutHold=false;clearTimeout(K.mouseoutState.closeTimeout);};I.onmouseout=function(){K.mouseoutState.closeTimeout=setTimeout(K.mouseoutState.doMouseOut,L);};}},setOnMouseoverHandler:function(H,P,M){var L=this;if(!P){return;}if(!H){H=L.iframe;}if(!M){M=0;}var D=navigator.userAgent.toLowerCase();var E=(D.indexOf("msie")>-1);var F=(D.indexOf("msie 9")>-1);var I=function(Q){var R=WIDGETBOX.dom.Utils.getXY(Q);return{x:R[0],y:R[1]};};var G=function(S){var R,Q=0;if(!S){S=window.event;}if(!S){return{x:0,y:0};}if(E&&S.clientX!=undefined&&S.clientY!=undefined){R=S.clientX+H.ownerDocument.documentElement.scrollLeft;Q=S.clientY+H.ownerDocument.documentElement.scrollTop;}else{R=S.pageX;Q=S.pageY;}return{x:R,y:Q};};var N=H.offsetWidth||0;var K=H.offsetHeight||0;var J=function(){try{if(window&&window.parent&&window.parent.frames&&window.parent.document&&window.parent.document.getElementsByTagName){var T=window.parent.document.getElementsByTagName("iframe");for(var R=0;R<T.length;R++){try{if(T[R].contentDocument===H.ownerDocument||T[R].contentWindow.document===H.ownerDocument){return T[R];}}catch(Q){}}}}catch(S){}return null;};var O=J()||H;L.mouseoverState.doMouseOver=function(R){var T=R||window.event;var Q=(T.offsetX!==undefined)?T.offsetX:T.pageX-WIDGETBOX.dom.Utils.getX(T.target);var U=(T.offsetY!==undefined)?T.offsetY:T.pageY-WIDGETBOX.dom.Utils.getY(T.target);if(!L.mouseoverState.overTimeout){var S=function(){P({offsetX:Q,offsetY:U});};if(M){L.mouseoverState.overTimeout=setTimeout(S,M);}else{S();}}};L.mouseoverState.mouseoverElement=H;L.mouseoverState.mouseElementBox=O;L.mouseoverState.mouseElementBody=O.ownerDocument.documentElement;L.mouseoverState.mouseChecker=function(Q){var T=Q||window.event;if(T){var U=I(L.mouseoverState.mouseElementBox);var S=G(T);var R=I(L.mouseoverState.mouseElementBody);if(S.x+R.x<U.x||S.y+R.y<U.y||S.x+R.x>U.x+N||S.y+R.y>U.y+K){L.mouseoverState.onTop=false;L.mouseoverState.cancelMouseoverTimeout();}else{if(E&&!L.mouseoverState.onTop){var V=T.target||T.srcElement;if(V===H||(H===L.divNode&&V.parentNode===H)){L.mouseoverState.doMouseOver(T);}}}}};WIDGETBOX.addEvent(L.mouseoverState.mouseElementBody,"mousemove",L.mouseoverState.mouseChecker,false);WIDGETBOX.addEvent(L.mouseoverState.mouseoverElement,"mousemove",function(Q){var R=Q||window.event;var S=R.target||R.srcElement;if(S===H||(H===L.divNode&&S.parentNode===H)){if(!L.mouseoverState.onTop){L.mouseoverState.doMouseOver(R);}}else{L.mouseoverState.onTop=false;L.mouseoverState.cancelMouseoverTimeout();}},false);WIDGETBOX.addEvent(L.mouseoverState.mouseoverElement,"mouseout",function(Q){L.mouseoverState.cancelMouseoverTimeout();if(L.mouseoverState.ignoreFirstMouseout&&!L.mouseoverState.mousedOut){L.mouseoverState.mousedOut=true;return;}L.mouseoverState.mousedOut=false;L.mouseoverState.onTop=false;},false);L.mouseoverState.cancelMouseoverTimeout=function(){clearTimeout(L.mouseoverState.overTimeout);L.mouseoverState.overTimeout=null;};L.mouseoverState.IEMouseMove=function(Q){try{var S=G(Q);var U=I(L.mouseoverState.mouseoverElement);var R=I(L.mouseoverState.mouseElementBody);if(S.x+R.x<U.x||S.y+R.y<U.y||S.x+R.x>U.x+N||S.y+R.y>U.y+K){L.mouseoverState.onTop=false;L.mouseoverState.cancelMouseoverTimeout();}}catch(T){}finally{WIDGETBOX.removeEvent(L.mouseoverState.mouseElementBody,"mousemove",L.mouseoverState.IEMouseMove,false);}};},dispatchEvent:function(E,F,H){var D=false;try{if(this.info.widgetPrototype=="BLIDGET"||this.info.widgetPrototype=="RICH_MEDIA_AD"||this.info.widgetPrototype=="AD_V3"){if(this.iframe&&this.iframe.handleEvent){this.iframe.handleEvent({type:E,action:F,value:H});D=true;}}else{}}catch(G){}return D;}};WIDGETBOX.subscriber.Widget=C;WIDGETBOX.setReady("subscriber.Widget");})();}WIDGETBOX.namespace("subscriber");if(!WIDGETBOX.subscriber.Panel){(function(){var A=WIDGETBOX.net.JSONRequest;var B=WIDGETBOX.net.Utils;function C(E,D){if(!E){E="00000000-0000-0000-0000-000000000000";}this.defer=false;this.panelId=E;this.id=WIDGETBOX.globals.panels.length;this.loaded=false;this.panelInfoRequestPending=false;this.showMark=WIDGETBOX.globals.showPanelMarks;this.info=null;this.activityImage=null;this.panelImage=null;this.divNode=null;this.markNode=null;this.markNodeContainer=null;this.parentNode=D;this.divId="widgetbox_panel_div_"+this.id;this.divNode=document.createElement("div");this.divNode.setAttribute("id",this.divId);this.divNode.className="p"+this.panelId;this.deferRendering=false;D.appendChild(this.divNode);WIDGETBOX.globals.panels[this.id]=this;}C.prototype={addEventListener:function(D,F){if(F){if((D=="load")&&this.loaded){try{F(this);}catch(G){WIDGETBOX.logMessage(G);}}else{if(!this.eventListeners){this.eventListeners={};}if(!this.eventListeners[D]){this.eventListeners[D]=[];}var E=this.eventListeners[D];E.push(F);}}},notifyEventListeners:function(E){if(!this.eventListeners){return;}var F=this.eventListeners[E];if(!F){return;}for(var D=0;D<F.length;D++){var G=F[D];try{G(this);}catch(H){WIDGETBOX.logMessage(H);}}},loadInfo:function(V){if(!V&&!this.info){return;}if(V&&!this.info){this.info=V;}else{V=this.info;}this.orientation=V.orientation;this.name=V.name;this.title=V.title;this.token=V.token;this.panelId=V.panelId;this.styleContent=V.styleContent;this.heightSize=V.heightSize;this.heightUnit=V.heightUnit;this.widthSize=V.widthSize;this.widthUnit=V.widthUnit;this.overflowStyle=V.overflowStyle;this.showWidgetLinks=V.widgetLinkOff!=true;this.userAccountServiceLevel=V.userAccountServiceLevel;this.markNodeContainer=null;this.headNodes=null;if(!this.loaded){if(this.deferRendering){this.loaded=true;this.notifyEventListeners("load");return;}var P=this.divNode;if(!P){return;}if(P.parentNode&&P.parentNode.className=="module-content"){P.parentNode.style.marginRight="0";P.parentNode.style.marginLeft="0";P.parentNode.style.overflow="auto";}this.loaded=true;var H=this.orientation=="HORIZONTAL";if(this.heightSize){P.style.height=this.heightSize+this.heightUnit;}if(this.widthSize){P.style.width=this.widthSize+this.widthUnit;}if(this.overflowStyle==1){P.style.overflow="auto";}else{if(this.overflowStyle==2){P.style.overflow="hidden";}else{P.style.overflow="";}}var O=null;var E=null;if(H){O=document.createElement("table");O.cellSpacing="0";var D=document.createElement("tbody");O.appendChild(D);E=document.createElement("tr");D.appendChild(E);P.appendChild(O);}var a=V.panelItems;try{var N="";var F=-1;for(var S=0;S<a.length;S++){var T=null;if(H){T=true;}var X=a[S];if(X.textContent){var Y=X.textContent;if(S==0&&Y=="WBX:RANDOMIZE"){var L=0;while(F<0){F=Math.floor(Math.random()*a.length);if(!a[F].appId&&L++<100){F=-1;}}}else{if(X.textType=="PLAIN"){Y=escape(Y);}var Q=document.createElement("div");Q.setAttribute("id","panel-item-"+X.index);Q.className="wbx-panel-textblock";Q.innerHTML=Y;if(H){var I=document.createElement("td");I.vAlign="top";I.appendChild(Q);E.appendChild(I);}else{P.appendChild(Q);}}}else{if(X.appId){if(F<0||F==S){var c="widgetbox_widget_parent_"+WIDGETBOX.globals.widgetCount++;var W=document.createElement("div");W.className="wbx-panel-widget";var J=document.createElement("div");J.setAttribute("id",c);J.className="wbx-widget-div";W.appendChild(J);if(H){var I=document.createElement("td");I.vAlign="top";E.appendChild(I);I.appendChild(W);}else{P.appendChild(W);}WIDGETBOX.subscriber.Main.insertWidget(X.appId,null,J,!this.showWidgetLinks);}}}}if(WIDGETBOX.globals.showPanelMarks){if(!this.markNode&&!this.showWidgetLinks&&this.userAccountServiceLevel==0){this.markNode=document.createElement("div");var R=document.createElement("a");R.setAttribute("href","http://www.widgetbox.com");R.setAttribute("target","_blank");var K=document.createElement("img");K.setAttribute("id","widgetbox_widget_mark_img_"+this.id);K.setAttribute("src",WIDGETBOX.urls.runtimeBaseUrl+"/images/logomark.gif");K.setAttribute("width","81");K.setAttribute("height","18");K.setAttribute("alt","wbx");K.setAttribute("title","Powered by Widgetbox");K.setAttribute("border","0");K.style.border="none";K.style.paddingTop="2px";R.appendChild(K);this.markNode.appendChild(R);var M=null;if(this.overflowStyle>0){M=this.parentNode;if(this.widthSize){this.markNode.style.width=this.widthSize+this.widthUnit;}}else{if(this.markNodeContainer){M=this.markNodeContainer;}else{M=this.divNode;}}M.appendChild(this.markNode);}}if(this.styleContent){var G=document.getElementsByTagName("head").item(0);var b=document.createElement("style");b.setAttribute("type","text/css");G.appendChild(b);if(b.styleSheet){b.styleSheet.cssText=this.styleContent;}else{var Z=document.createTextNode(this.styleContent);b.appendChild(Z);}if(!this.styles){this.styles=[];}this.styles.push(b);}if(this.headNodes){var G=document.getElementsByTagName("head").item(0);}}catch(U){WIDGETBOX.logMessage(U);}this.notifyEventListeners("load");return;}},reloadInfo:function(I){if(!this.loaded){return;}this.panelImage=null;this.info=null;this.loaded=false;if(this.markNode){var H=this.markNode;this.markNode=null;if(H.parentNode){H.parentNode.removeChild(H);}}if(this.styles){var E=document.getElementsByTagName("head").item(0);for(var D=0;D<this.styles.length;D++){var G=this.styles[D];if(G){E.removeChild(G);}this.styles[D]=null;}}if(this.headNodes){var E=document.getElementsByTagName("head").item(0);for(var D=0;D<this.headNodes.length;D++){var F=this.headNodes[D];if(F){E.removeChild(F);}this.headNodes[D]=null;}}this.headNodes=null;this.styles=null;WIDGETBOX.dom.Utils.removeAllChildren(this.divNode);this.loadInfo(I);},unload:function(){this.activityImage=null;this.widgetImage=null;this.markNode=null;this.markNodeContainer=null;this.divNode=null;this.eventListeners=null;this.info=null;this.loaded=false;this.styles=null;this.headNodes=null;}};WIDGETBOX.subscriber.Panel=C;WIDGETBOX.setReady("subscriber.Panel");})();}WIDGETBOX.namespace("subscriber");if(!WIDGETBOX.subscriber.Main){(function(){var C=WIDGETBOX.globals;var G=false;var K=false;var P=false;var F=false;var A=false;var E=WIDGETBOX.net.JSONRequest;var J=WIDGETBOX.net.Utils;var R=WIDGETBOX.behaviour.Behaviour;var e=WIDGETBOX.message.Helper.supported()?WIDGETBOX.message.Helper:WIDGETBOX.flash.Helper;var Z=navigator.userAgent.toLowerCase();var c=(Z.indexOf("opera")>-1),b=(Z.indexOf("safari")>-1),Q=(!c&&!b&&Z.indexOf("gecko")>-1),W=(!c&&Z.indexOf("msie")>-1),M=(W&&(Z.indexOf("msie 6")>-1||Z.indexOf("msie 5")>-1)),U=(W&&(Z.indexOf("msie 7")>-1)),T=(W&&(Z.indexOf("msie 8")>-1)),I=(Z.indexOf("firefox")>-1),V=(I&&(Z.indexOf("firefox/2")>-1||Z.indexOf("firefox/1")>-1)),a=(Z.indexOf("camino")),O=(Z.indexOf("mac")>-1);var X=null;var D=null;var B=false;var Y=null;var N=null;var d=null;var L=null;var H=null;WIDGETBOX.subscriber.Main={hiddenElements:[],init:function(){if(!G){G=true;var f=function(){S.unloadWidgets();};WIDGETBOX.addPageUnloadListener(f);S.setupBehaviourForSubscriber();S.loadWidgets();}},getToken:function(){return WIDGETBOX.globals.token;},setupHelperForSubscriber:function(){if(!K&&!P){K=true;var n=function(){if(!P){P=true;K=false;S.loadWidgets();}};var h=function(q){S.resizeWidget(q.widgetId,q.width,q.height);};var m=function(q){S.resizeWidgetDiv(q.widgetId,q.width,q.height);};var l=function(q){S.sendStyleMesssageToWidget(q.widgetId);};var f=function(q){if(q.mode=="inplace"||q.mode=="ontop"){S.renderWidgetInPlaceOfExistingWidget(q.widgetId,q.appId,q.cfgString,false,q.width,q.height,q.isChild,q.closeOnMouseOut,q.mode=="ontop");}else{if(q.mode=="anchor"){S.renderWidgetAnchored(q.widgetId,q.appId,q.cfgString,"TR",false,q.isChild,q.closeOnMouseOut);}else{S.renderWidgetInLightbox(q.appId,q.cfgString,false,q.widgetId,q.isChild,q.closeOnMouseOut);}}};var k=function(q){S.renderUrlInLightbox(q.baseUrl,q.paramObj,q.windowName,q.width,q.height);};var g=function(q){S.renderCanvasInLightbox(q);};var j=function(q){S.unloadWidget(q.widgetId);};var p=function(q){var s=q.widgetId;var r=q.label;var w=q.payload;var v=q.cause;var u=q.custom;if(s&&r&&w){var t=WIDGETBOX.globals.widgets[s];if(t&&t.tracker){t.tracker.logWidgetAction(r,w.substr(0,40),v,u);}}};var o=function(q){var t=q.widgetId;var r=q.href;var v=q.target;if(t&&r){var u=WIDGETBOX.globals.widgets[t];if(u&&u.tracker){var w=u.tracker.getMetricsRedirectUrl(r);var s=u.tracker.getOOBLinkTracker();if(s){u.tracker.loadMetricsTrackerImage(s);}if(WIDGETBOX.message.Helper.supported()&&v&&v=="_blank"){window.open(w);}else{window.location.href=w;}}}};e.startHelper(WIDGETBOX.globals.token,1001,n);e.setMessageHandler("resizeWidget",h);e.setMessageHandler("resizeWidgetDiv",m);e.setMessageHandler("renderWidget",f);e.setMessageHandler("renderUrl",k);e.setMessageHandler("renderCanvas",g);e.setMessageHandler("unloadWidget",j);e.setMessageHandler("logWidgetAction",p);e.setMessageHandler("gotoAndTrackUrl",o);e.setMessageHandler("requestStyle",l);}},isHelperSetupForSubscriber:function(){return P;},setupBehaviourForSubscriber:function(){if(!F){F=true;var f={"a[rel=tag]":function(h){var j={};var g=h.getAttribute("href");j.href=g;j.keywords=decodeURIComponent(g.substring(g.lastIndexOf("/")+1));j.text=R.getInnerText(h);if(!WIDGETBOX.globals.taggingMarkup){WIDGETBOX.globals.taggingMarkup=[];}WIDGETBOX.globals.taggingMarkup.push(j);},"a[rel=wbx-keywords]":function(j){var h={};var g=j.getAttribute("name");if(!g){g="*";}h.name=g;h.keywords=j.getAttribute("title");h.text=R.getInnerText(j);if(!WIDGETBOX.globals.keywordMarkup){WIDGETBOX.globals.keywordMarkup={};}if(!WIDGETBOX.globals.keywordMarkup[g]){WIDGETBOX.globals.keywordMarkup[g]=h;}},"wbx:keywords":function(j){var h={};var g=j.getAttribute("name");if(!g){g="*";}h.name=g;h.keywords=j.getAttribute("value");h.text=R.getInnerText(j);if(!WIDGETBOX.globals.keywordMarkup){WIDGETBOX.globals.keywordMarkup={};}if(!WIDGETBOX.globals.keywordMarkup[g]){WIDGETBOX.globals.keywordMarkup[g]=h;}},"wbx:widget":function(g){var h=g.getAttribute("appId");if(h){S.insertWidget(h,null,g);}},"wbx:panel":function(h){var g=h.getAttribute("panelId");if(g){S.insertPanel(g,h);}},"div.wbx-widget":function(g){var h=g.getAttribute("id");if(h){S.insertWidget(h,null,g);}},"div.wbx-panel":function(h){var g=h.getAttribute("id");if(g){S.insertPanel(g,h);}},"span.wbx-widget":function(g){var h=g.getAttribute("id");if(h){S.insertWidget(h,null,g);}},"span.wbx-panel":function(h){var g=h.getAttribute("id");if(g){S.insertPanel(g,h);}}};R.register(f);WIDGETBOX.addPageLoadListener(function(){R.apply();S.loadWidgets();});}},replaceWidget:function(h,l){var j=WIDGETBOX.globals.widgets[h];if(j){var n=j.eventListeners;var f=j.divNode.parentNode;var m=j.buttonMode;var g=j.suppressEditWidget;j.eventListeners={};j.unload();WIDGETBOX.globals.widgets[h]=null;var k=S.insertWidget(l,null,f,m,g,null);k.eventListners=n;return k;}},insertWidget:function(l,h,f,g,j,m){if(!WIDGETBOX.globals.firstParentNode){WIDGETBOX.globals.firstParentNode=f;}WIDGETBOX.dom.Utils.removeAllChildren(f);var k=new WIDGETBOX.subscriber.Widget(l,h,f);if(!g&&!WIDGETBOX.globals.suppressGetWidget){k.addEventListener("load",function(n){S.appendGetWidget(n,j);});}else{k.addEventListener("load",S.appendUserChecker);}if(m){k.addEventListener("load",m);}S.loadWidgets();return k;},appendGetWidget:function(h,f){if(h&&!h.getWidgetLoaded){var g=S.buildGetWidgetElement(h,f);h.parentNode.appendChild(g);h.getWidgetLoaded=true;}},appendUserChecker:function(f){if(f&&f.adFriendly){if(f.isPreviewInstance){WIDGETBOX.subscriber.Main.setIsSubscriber(f.id,false);}else{S.loadUchkr(S.getWidgetDiv(f.id),f.id,f.appId);}}},loadUchkr:function(j,g,h){var f=WIDGETBOX.urls.cdnGalleryBaseUrl+"/flash/uchkr.swf";var k=document.createElement("DIV");ft=new WIDGETBOX.flash.Utils.FlashTag(f,1,1,"9,0,0,0");ft.addFlashVar("js","1");ft.addFlashVar("widgetId",g);ft.addFlashVar("appId",h);ft.setWmode("transparent");ft.setAllowScriptAccess("always");if(ft){k.innerHTML=ft.toString();}j.appendChild(k);},loadAd:function(j){if(!(O&&I)){if(!j.info.hasDynamicSize||j.info.wasResized){if(j&&j.adLoaded){var h="wbx-ad-wrapper-"+j.id;var g=document.getElementById(h);if(g){g.parentNode.removeChild(g);}}if(j&&j.info.isAdFriendly){j.adDiv=S.buildAdUnitElement(j);var f=S.getWidgetDiv(j.id);f.appendChild(j.adDiv);f.style.position="relative";j.adLoaded=true;S.updateAdFrameContent(j);}}}},getWidget:function(f){var g=null;try{g=WIDGETBOX.globals.widgets[f];}catch(h){WIDGETBOX.logMessage(h);}return g;},getWidgetCfgString:function(f){var h=null;try{var g=WIDGETBOX.globals.widgets[f];if(g){h=g.cfgString;}}catch(j){WIDGETBOX.logMessage(j);}return h;},getWidgetTrackingData:function(f){var g=WIDGETBOX.globals.widgets[f];if(g){return g.tracker.getTrackingParams();}return{};},setWidgetClickTrackingParams:function(f,h){var g=WIDGETBOX.globals.widgets[f];if(g&&h){g.tracker.setClickTrackingParams(h);}},getWidgetDiv:function(f){var g=document.getElementById("widgetbox_widget_div_"+f);return g;},resizeWidgetDiv:function(j,f,g){var k=S.getWidgetDiv(j);k.style.overflow="hidden";k.style.width=f+"px";k.style.height=g+"px";},resizeWidget:function(j,f,g){var k=S.getWidget(j);if(!k){return;}k.resize(f,g);if(k.info.isAdFriendly){if(k.adEnabled||(k.isSubscriber&&k.providerServiceLevel=="0")){WIDGETBOX.subscriber.Main.loadAd(k);}}},sendStyleMesssageToWidget:function(h){var j=[];for(var g=0;g<document.styleSheets.length;g++){var f=document.styleSheets[g];if(f&&f.href){j.push(f.href);}}e.sendMessage(WIDGETBOX.globals.token,h,"sendStyle",{widgetId:h,externalSheets:j});},unloadWidgets:function(h){var g=WIDGETBOX.globals.widgets;for(var f=0;f<g.length;f++){var j=g[f];if(j){if(h&&j.sourceWidgetId==null){continue;}try{j.unload();}catch(k){}}}},loadWidgets:function(){var g=WIDGETBOX.globals.widgets;var h=true;for(var f=0;f<g.length;f++){var j=g[f];if(j!=null){if(!j.loaded&&!j.unloaded&&!j.defer){h=false;}if(j.defer){j.loadInfo();}}}if(h){return;}setTimeout(S.startWidgetInfoRequest);},reloadWidgets:function(){S.unloadWidgets();S.loadWidgets();},unloadWidget:function(h,f){var j=S.getWidget(h);if(j){var g=S.getWidget(j.sourceWidgetId);if(g){g.mouseoverState.onTop=true;if(W&&!M){WIDGETBOX.addEvent(g.mouseoverState.mouseElementBody,"mousemove",g.mouseoverState.IEMouseMove,false);}}if(f){j.anchoring.setUnloadEventConfig(f);}j.unload();}},unloadAllChildren:function(g,f){var h=S.getWidget(g);if(h){h.unloadAllChildren(f);}},startWidgetInfoRequest:function(){WIDGETBOX.globals.startTime=J.newTimestamp();var l=document;var f=WIDGETBOX.urls.runtimeBaseUrl+"/get_widget.js?callback=WIDGETBOX.subscriber.Main.onWidgetInfoResponse&output=json&location="+WIDGETBOX.net.Utils.urlEncode(window.location.href)+"&timestamp="+J.newTimestamp();var n=WIDGETBOX.globals.widgets;for(var h=0;h<n.length;h++){var j=n[h];if(j!=null&&!j.widgetInfoRequestPending&&!j.loaded&&!j.unloaded&&!j.defer){var g="widgetbox_getwidgetinfo_script_"+j.appId;var o=l.getElementById(g);if(o){try{o.parentNode.removeChild(o);}catch(k){}}var m;if(j.infoUrlOverride){m=j.infoUrlOverride;}else{m=f+"&appId."+h+"="+j.appId;if(j.regId){m+="&regId."+h+"="+j.regId;}}WIDGETBOX.appendScript(m,g,"true");j.widgetInfoRequestPending=true;}}},onWidgetInfoResponse:function(m){try{if(!WIDGETBOX.globals.token){WIDGETBOX.globals.tokenTime=(new Date()).getTime();WIDGETBOX.globals.token=m.token;}else{m.token=WIDGETBOX.globals.token;}if(m.isBatch){WIDGETBOX.logMessage("Batch response not supported.");}else{var g=m.widgets;if(g){for(var k=0;k<g.length;k++){var f=g[k];for(var h=0;h<WIDGETBOX.globals.widgets.length;h++){var l=WIDGETBOX.globals.widgets[h];if(l&&l.appId==f.appId){try{if(l){l.widgetInfoRequestPending=false;l.loadInfo(f);}}catch(n){l.loaded=true;WIDGETBOX.logMessage(n);}}}}S.loadWidgets();}}}catch(n){WIDGETBOX.logMessage(n);}},buildGetWidgetElement:function(g,f){var h=document.createElement("div");h.setAttribute("class","wbx-gw-wrapper");h.setAttribute("id","wbx-gw-button-wrapper-"+g.id);g.suppressEditWidget=f;WIDGETBOX.subscriber.Main.renderGetWidgetButton(h,g,false);return h;},buildAdUnitElement:function(g){var h=document.createElement("div");h.setAttribute("class","wbx-ad-wrapper");h.setAttribute("id","wbx-ad-wrapper-"+g.id);h.style.height="1px";h.style.width=g.info.appWidth+"px";h.style.position="absolute";h.style.top="0px";h.style.left="0px";h.style.textAlign="center";h.style.overflow="hidden";var f='<iframe src="" width="100%" scrolling="no" height="1" frameborder="0" name="wbx-adframe-'+g.id+'" id="wbx-adframe-'+g.id+'" border="0" allowtransparency="true" style="position:absolute; top:0px; left:0px; visibility: visible;"/>';h.innerHTML=f;return h;},updateAdFrameContent:function(h){var k="<head><script>var widget = parent.WIDGETBOX.subscriber.Main.getWidget("+h.id+');function fetchPromoScript(){var headID = document.getElementsByTagName("head")[0];var newScript = document.createElement("script");newScript.type = "text/javascript";newScript.src = "'+WIDGETBOX.urls.cdnRuntimeBaseUrl+'/promo/promo/";headID.appendChild(newScript);}<\/script><style type="text/css">img{border:none;}a{outline:none;}#ad-loader-div{position:absolute;}</style></head>';var g='<body style="background-color:transparent;padding:0px;margin:0px;" onload="fetchPromoScript();"><div id="ad-loader-div"></div></body>';var f=document.getElementById("wbx-adframe-"+h.id);var j;if(f.contentDocument){j=f.contentDocument;}else{if(f.contentWindow){j=f.contentWindow.document;}else{if(window.frames[f.name]){j=window.frames[f.name].document;}}}if(j){j.open();j.write("<html>"+k+g+"</html>");j.close();}},getAdChannelsAsQueryString:function(j){var f=j.channels;var g="";if(!!f){for(var h in f){if(g!=""){g+="&";}if(f[h].channelName){g+=WIDGETBOX.net.Utils.urlEncode(h)+"="+WIDGETBOX.net.Utils.urlEncode(f[h].channelName);}}}return g;},renderGetWidgetButton:function(f,k,g,l){var j=null;if("DISABLE_GW"!=k.subscribeMode&&k.buttonMode!=2){var h=WIDGETBOX.urls.cdnRuntimeBaseUrl+"/flash/install/getwidget.swf";var m=k.info.hasDynamicSize?141:k.info.appWidth;j=new WIDGETBOX.flash.Utils.FlashTag(h,m,23,"8,0,0,0");j.setAllowScriptAccess("always");j.setId("wbx-gw-button-"+k.id);j.setWmode("transparent");j.addFlashVar("w",m);if(!WIDGETBOX.globals.disableGetWidget){if("REQUIRE_CONFIG"==k.subscribeMode){if(!k.configUrl){j.addFlashVar("gwUrl",k.detailsUrl);}else{j.addFlashVar("gwUrl",k.configUrl);}}else{j.addFlashVar("gwArg",new String(k.id));}if(!k.suppressEditWidget&&g){j.addFlashVar("cw","true");}j.addFlashVar("instanceId",k.appId);}j.addFlashVar("widgetId",new String(k.id));j.addFlashVar("cdnRuntimeUrl",WIDGETBOX.urls.cdnRuntimeBaseUrl);j.addFlashVar("cdnGalleryUrl",WIDGETBOX.urls.cdnGalleryBaseUrl);if(!k.suppressEditWidget){var n=WIDGETBOX.urls.galleryBaseUrl+"/dash/subscription.jsp?id="+k.appId;if(k.configUrl){n=k.configUrl;n+=(n.indexOf("?")>0)?"&":"?";n+="wbx.edit=true&wbx.id="+k.appId;n+="&appInstance.name="+escape(k.name);n+="&appInstance.width="+k.width;n+="&appInstance.height="+k.height;if(k.configParams){for(var o in k.configParams){n+="&"+o+"="+escape(k.configParams[o].value);}}}j.addFlashVar("cwUrl",n);}else{j.addFlashVar("suppressCW","true");}if(j){f.innerHTML=j.toString();}}else{if(k.info&&k.info.isAdFriendly){if(k.isPreviewInstance){WIDGETBOX.subscriber.Main.setIsSubscriber(k.id,false);}else{WIDGETBOX.subscriber.Main.loadUchkr(f,k.id,k.appId);}}}},setIsSubscriber:function(g,f){if(!g){g=0;}var h=WIDGETBOX.globals.widgets[g];h.isSubscriber=f;if(h.info.isAdFriendly){if(h.adEnabled||(h.isSubscriber&&(h.providerServiceLevel=="0"||h.info.widgetPrototype=="TEMPLATE"))){WIDGETBOX.subscriber.Main.loadAd(h);}}},unloadPanels:function(){var g=WIDGETBOX.globals.panels;for(var h=0;h<g.length;h++){var f=g[h];if(f){f.unload();}}},loadPanels:function(){var g=WIDGETBOX.globals.panels;var j=true;for(var h=0;h<g.length;h++){var f=g[h];if(f&&!f.loaded&&!f.defer){j=false;}if(f.defer){f.loadInfo();}}if(j){return;}S.startPanelInfoRequest();},startPanelInfoRequest:function(){var m=document;var h=WIDGETBOX.urls.runtimeBaseUrl+"/get_panel.js?callback=WIDGETBOX.subscriber.Main.onPanelInfoResponse&output=json&location="+escape(window.location.href)+"&timestamp="+J.newTimestamp();var l=WIDGETBOX.globals.panels;for(var j=0;j<l.length;j++){var f=l[j];if(!f.panelInfoRequestPending&&!f.loaded){var g="widgetbox_getpanelinfo_script_"+f.panelId;var o=m.getElementById(g);if(o){try{o.parentNode.removeChild(o);}catch(k){}}o=m.createElement("script");var n=h+"&panelId."+j+"="+f.panelId;WIDGETBOX.appendScript(n,g,"true");f.panelInfoRequestPending=true;}}},insertPanel:function(h,f){WIDGETBOX.dom.Utils.removeAllChildren(f);var g=new WIDGETBOX.subscriber.Panel(h,f);S.loadPanels();return g;},getPanelDiv:function(f){var g=document.getElementById("widgetbox_panel_div_"+f);return g;},getPanel:function(g){var f=null;try{f=WIDGETBOX.globals.panels[g];}catch(h){WIDGETBOX.logMessage(h);}return f;},onPanelInfoResponse:function(k){try{var f=k.panels;if(k.isBatch){WIDGETBOX.logMessage("Batch response not supported.");}else{var f=k.panels;if(f){for(var j=0;j<f.length;j++){var h=f[j];for(var j=0;j<WIDGETBOX.globals.panels.length;j++){var g=WIDGETBOX.globals.panels[j];if(g.panelId==h.panelId){if(!h.isError){g.loadInfo(h);}else{g.loaded=true;g.panelInfoRequestPending=false;}}}}}S.loadPanels();}}catch(l){WIDGETBOX.logMessage(l);}},getViewportHeight:function(g){if(!g){g=document;}var f=-1;var h=g.compatMode;if((h||W)&&!c){switch(h){case"CSS1Compat":f=g.documentElement.clientHeight;break;default:f=g.body.clientHeight;}}else{f=(window.innerHeight)?window.innerHeight:0;}return f;},getViewportWidth:function(g){if(!g){g=document;}var f=-1;var h=g.compatMode;if(h||W){switch(h){case"CSS1Compat":f=g.documentElement.clientWidth;break;default:f=g.body.clientWidth;}}else{f=(window.innerWidth)?window.innerWidth:0;}return f;},findPosX:function(f){var g=0;if(f.offsetParent){while(1){g+=f.offsetLeft;if(!f.offsetParent){break;}f=f.offsetParent;}}else{if(f.x){g+=f.x;}}return g;},findPosY:function(g){var f=0;if(g.offsetParent){while(1){f+=g.offsetTop;if(!g.offsetParent){break;}g=g.offsetParent;}}else{if(g.y){f+=g.y;}}return f;},getMarginValues:function(){var j=parseInt(document.body.style.marginTop,10);var h=parseInt(document.body.style.marginRight,10);var k=parseInt(document.body.style.marginBottom,10);var g=parseInt(document.body.style.marginLeft,10);var f=[];f[0]=isNaN(j)?0:j;f[1]=isNaN(h)?0:h;f[2]=isNaN(k)?0:k;f[3]=isNaN(g)?0:g;return f;},getDocumentHeight:function(h){if(!h){h=document;}var j=h.compatMode;var g=(j!="CSS1Compat")?h.body.scrollHeight:h.documentElement.scrollHeight;var f=S.innerHeight;if(b){f=h.body.scrollHeight;}else{if((j||W)&&!c){f=(j=="CSS1Compat")?h.documentElement.clientHeight:h.body.clientHeight;}}return Math.max(g,f);},getDocumentWidth:function(h){if(!h){h=document;}var j=h.compatMode;var g=(j!="CSS1Compat")?h.body.scrollWidth:h.documentElement.scrollWidth;var f=S.innerWidth;if(b){f=h.body.scrollWidth;}else{if(j||W){f=(j=="CSS1Compat")?h.documentElement.clientWidth:h.body.clientWidth;}}return Math.max(g,f);},getScrollTop:function(){return WIDGETBOX.dom.Utils.getDocumentScrollTop();},getScrollLeft:function(){return WIDGETBOX.dom.Utils.getDocumentScrollLeft();},displayMask:function(p,g,n,o){if(!n){n=function(){WIDGETBOX.subscriber.Main.closeGetWidgetDiv();};}if(!o){o=document;}var f=o.createElement("div");f.id="wbx-mask-div";if(O&&(I||a)){f.style.backgroundImage="url("+WIDGETBOX.urls.cdnRuntimeBaseUrl+"/images/"+(p?"dark":"light")+"-bg.png)";f.style.backgroundRepeat="repeat";WIDGETBOX.dom.Utils.insertCssText("body * { opacity: 1.0 !important; }",o,null,"wbx-hide-opacity-style");}else{f.style.opacity=p?"0.8":"0.4";f.style.MozOpacity=p?"0.8":"0.4";f.style.filter="alpha(opacity="+(p?"80":"40")+")";f.style.backgroundColor=p?"#000":"#FFF";}f.style.left="0";f.style.top="0";f.style.position="absolute";f.style.zIndex=WIDGETBOX.globals.nextZIndex++;o.getElementsByTagName("body")[0].appendChild(f);var j=o.getElementById("wbx-mask-div");S.resizeMask(o);if(j){j.onclick=function(){n();};}if(!S.isListening){setTimeout(function(){WIDGETBOX.subscriber.Main.onScrollResizeCallback();},50);S.isListening=true;}if(g){var h=o.getElementsByTagName("object");for(var k=0;k<h.length;k++){h[k].style.visibility="hidden";}var q=o.getElementsByTagName("embed");for(var k=0;k<q.length;k++){q[k].style.visibility="hidden";}WIDGETBOX.dom.Utils.hideElementsOnPage(document,"select",null,WIDGETBOX.subscriber.Main.hiddenElements);for(var k=0;k<WIDGETBOX.globals.widgets.length;k++){var m=WIDGETBOX.globals.widgets[k];if(m&&m.iframe){m.iframe.style.visibility="hidden";}}for(var k=0;k<WIDGETBOX.globals.widgets.length;k++){var l=WIDGETBOX.globals.widgets[k];if(l&&WIDGETBOX.globals.widgets[k].adDiv){l.adDiv.style.display="none";}}}return j;},hideMask:function(l){if(!l){l=document;}S.isListening=false;var n=l.getElementById("wbx-mask-div");if(n){n.style.display="none";n.parentNode.removeChild(n);var m=l.getElementsByTagName("object");for(var h=0;h<m.length;h++){var k=m[h];k.style.visibility="visible";}var j=l.getElementsByTagName("embed");for(var h=0;h<j.length;h++){var f=j[h];f.style.visibility="visible";}WIDGETBOX.dom.Utils.showHiddenElementsOnPage(WIDGETBOX.subscriber.Main.hiddenElements);for(var h=0;h<WIDGETBOX.globals.widgets.length;h++){var g=WIDGETBOX.globals.widgets[h];if(g&&g.iframe){g.iframe.style.visibility="visible";}}for(var h=0;h<WIDGETBOX.globals.widgets.length;h++){var g=WIDGETBOX.globals.widgets[h];if(g&&g.adDiv){g.adDiv.style.display="";}}if(O){WIDGETBOX.dom.Utils.insertCssText("/* unhide */",l,null,"wbx-hide-opacity-style");}}if(window.scrollBy){window.scrollBy(0,1);window.scrollBy(0,-1);}},resizeMask:function(h){if(!h){h=document;}var j=h.getElementById("wbx-mask-div");if(j){var g=S.getDocumentWidth(h);var f=S.getDocumentHeight(h);if(g+"px"!=j.style.width){j.style.width=g+"px";}if(f+"px"!=j.style.height){j.style.height=f+"px";}}},onScrollResizeCallback:function(){S.positionGetWidgetDiv();S.resizeMask();if(S.isListening){setTimeout(function(){WIDGETBOX.subscriber.Main.onScrollResizeCallback();},50);}},setAdUnitSizeAndLocation:function(AC,n,m,o,z,AD,j){if(AC){var v=document.getElementById("wbx-adframe-"+AC);var s=document.getElementById("wbx-ad-wrapper-"+AC);if(s&&v){var u;var g=S.getWidgetDiv(AC);try{u=g.childNodes[0];}catch(AB){WIDGETBOX.logMessage(AB);}var p="0px";if(!isNaN(o)){p=o+"px";}var t="0px";if(!isNaN(z)){t=z+"px";}var f=(isNaN(n))?"0":n;var q=(isNaN(m))?"0":m;if(!M){var k=WIDGETBOX.globals.widgets[AC].parentNode;var r=(k.id=="widgetbox_widget_parent_"+AC);var AA=(g.scrollWidth>u.width);var l=u&&(!W||(!r&&AA));if(l){f=Number(f)+Number(u.offsetLeft);q=Number(q)+Number(u.offsetTop);}}s.style.width=p;v.style.width=p;s.style.left=f+"px";v.style.height=j+"px";s.style.height=t;if(q<0){q=0;}s.style.top=q+"px";v.style.top=(-q)+"px";}}},injectAd:function(f,h){var g=WIDGETBOX.globals.widgets[f];if(g&&(g.info.widgetPrototype=="BLIDGET"||g.info.widgetPrototype=="RICH_MEDIA_AD")&&g.iframe&&g.iframe.loadAdFromXML){g.iframe.loadAdFromXML(h,g.isSubscriber);}},makeLightbox:function(h,j){L=false;var f=S.displayMask(true,h,j);f.style.zIndex=10000000000;var g=document.getElementById("wbx-lb-cont-div");if(!g){g=document.createElement("div");g.id="wbx-lb-cont-div";g.style.cssFloat="left";g.style.styleFloat="left";g.style.position="absolute";g.style.zIndex=10000000000+1;g.style.border="0px";g.style.padding="5px";g.style.margin="0px";g.style.background="#FFF";document.getElementsByTagName("body")[0].appendChild(g);}d=g;return d;},renderUrlInLightbox:function(n,h,q,j,r,l,o,m){WIDGETBOX.notifyEventListeners("openModalDialog");var p=null;if(typeof l!=="undefined"){p=WIDGETBOX.globals.widgets[l];}var f=function(){if(p){p.mouseoverState.onTop=true;}try{WIDGETBOX.subscriber.Main.closeGetWidgetDiv(l);}catch(s){}};var k=S.makeLightbox(true,function(){f();});var g=document.createElement("iframe");g.id="wbxLightboxedElement";g.width=j;g.style.width=j+"px";g.height=r;g.style.height=r+"px";g.name=q;g.frameBorder="0";g.marginWidth="0";g.marginHeight="0";g.src=(h&&typeof h!=="string")?WIDGETBOX.net.Utils.newURLWithParams(n,h):n;k.appendChild(g);if(p){p.tracker.logWidgetAction(WIDGETBOX.track.tracker.ActionLabel.OPEN,p.fId,m||WIDGETBOX.track.tracker.ActionCause.USER,o);p.mouseoutState.suspended=false;}WIDGETBOX.subscriber.Main.renderCloseButton(k,"outside","right",function(){if(p){p.anchoring.unloadEventCause=WIDGETBOX.track.tracker.ActionCause.USER;}f();},"Close",j);},renderCanvasInLightbox:function(j){var o,t,n,f,s,g,u,k,q,m;if(typeof j!=="string"){o=j.baseUrl;t=j.stream;k=j.sourceWidgetId;n=j.sourceWidgetGuid;f=j.isChild;s=j.windowName;g=j.width;u=j.height;q=j.actionCustomString;m=j.actionCause;}else{o=arguments[0];t=arguments[1];n=arguments[2];f=arguments[3];s=arguments[4];g=arguments[5];u=arguments[6];k=arguments[7];}function p(x,v){var y=x.indexOf("#")>-1;if(!y){x=x+"#";}var w=x.indexOf("#")!=x.length-1;if(w){x=x+"|";}x=x+v;return x;}if(t&&t!=""&&t!="null"&&t!="undefined"){o=p(o,"_stream/"+t);}if(f&&n&&n!=""&&n!="null"&&n!="undefined"){var h="";var r=WIDGETBOX.globals.widgets[k];if(r){h="_tracker/update/"+n+"/"+r.tracker.sessionId;var l=null;if(typeof r.sourceWidgetId!=="undefined"){l=r.getSourceWidget(true)||r;if(l){n=l.appId||n;if(l.testVariants){h+="/"+encodeURIComponent(WIDGETBOX.net.Utils.addParameters("",l.testVariants));}}}}o=p(o,h);}S.renderUrlInLightbox(o,null,s,g,u,k,q,m);},renderWidgetInLightbox:function(q,k,o,m,g,h,j){var p=WIDGETBOX.globals.widgets[m];if(g&&p){if(p.mouseoutState.suspended){return;}p.mouseoutState.suspended=true;}WIDGETBOX.notifyEventListeners("openModalDialog");var l=S.makeLightbox(true,function(){WIDGETBOX.subscriber.Main.closeGetWidgetDiv(n.id);});var f=document.createElement("div");f.id="wbxLightboxedElement";l.appendChild(f);var n=S.insertWidget(q,null,f,!o,true,S.positionLightbox);n.addEventListener("loadInfo",function(r){if(g){r.sourceWidgetId=m;r.info.configParams.wbx_parent_id={name:"wbx_parent_id",value:m};}});n.addEventListener("load",function(r){if(h){r.setOnMouseoutHandler(f,function(){WIDGETBOX.subscriber.Main.closeGetWidgetDiv(r.id);},((M)?1000:500));}if(j){r.closeButton.style.display="none";}});if(g&&p){n.tracker=p.tracker.clone();}n.cfgString=k;},renderWidgetAnchored:function(x,l,p,o,s,q,z){var w=WIDGETBOX.globals.widgets[x];var r=WIDGETBOX.globals.nextZIndex++;if(q&&w){if(w.mouseoutState.suspended){return;}w.mouseoutState.suspended=true;if(w.zIndexForExpandable){r=w.zIndexForExpandable;}if(z){w.anchoring.unloadOnLink=true;}}WIDGETBOX.notifyEventListeners("openModalDialog");var m=document.getElementById("wbxAnchoredElement_"+l);if(m){m.parentNode.removeChild(m);}m=document.createElement("div");var y=w.anchoring.anchorChildrenToBody;var AA=w.iframe;var f=null;var h="auto";while(AA&&AA.nodeName.toLowerCase()!="body"&&AA.nodeName.toLowerCase()!="head"&&AA.nodeName.toLowerCase()!="#document"&&AA.parentNode){var t=WIDGETBOX.dom.Utils.getComputedStyle(AA,"position");if(t=="fixed"){y=false;break;}AA=AA.parentNode;}m.style.position="absolute";m.id="wbxAnchoredElement_"+l;var j=WIDGETBOX.dom.Utils.getElementsByTagName("object",document);j=WIDGETBOX.dom.Utils.getElementsByTagName("embed",document,j);var AC=false;for(var v=0;v<j.length;v++){var u=j[v];if(!AC){if(u.offsetWidth>=10&&u.offsetHeight>=10){var AB=WIDGETBOX.flash.Utils.getParamValue(u,"wmode");if(!AB||AB=="window"){AC=true;}}}}m.style.zIndex=r;if(y){document.getElementsByTagName("body")[0].appendChild(m);}else{w.parentNode.parentNode.insertBefore(m,w.parentNode);var n="wbxClearElement_"+l;var g=document.getElementById(n);if(!g){g=document.createElement("div");g.id=n;g.style.clear="both";m.parentNode.insertBefore(g,m);}}var k=S.insertWidget(l,null,m,true,true,function(AD){WIDGETBOX.subscriber.Main.anchorWidget(AD,w,o,true);if(AD.loaded&&w&&w.mouseoutState.suspended&&AD.anchoring.anchorToBody){setTimeout(function(){WIDGETBOX.subscriber.Main.onAdjustAnchorCallback(AD,w,o);},50);}});k.anchoring.anchorToBody=y;k.addEventListener("loadInfo",function(AE){if(q){AE.sourceWidgetId=x;AE.info.configParams.wbx_parent_id={name:"wbx_parent_id",value:x};if(AC){var AD=AE.info.configParams["wbx.wmodeOverride"];if(AD&&AD.value){WIDGETBOX.globals.wmodeOverride=AD.value;}}}});if(q&&w){k.tracker=w.tracker.clone();}k.cfgString=p;k.addEventListener("load",function(AE){var AD=function(){WIDGETBOX.subscriber.Main.hideAnchoredWidget(m.id,AE.id);};AE.addEventListener("unload",function(AF){if(f){f.style.zIndex=h;}AD();});if(z){AE.setOnMouseoutHandler(AE.iframe,function(){AE.unload();},((M)?1000:500));}if(!s){AE.closeButton=WIDGETBOX.subscriber.Main.renderCloseButton(m,"outside","right",function(){AE.anchoring.unloadEventCause=WIDGETBOX.track.tracker.ActionCause.USER;AE.unload();},"Close",AE.info.appWidth);}});},hideAnchoredWidget:function(l,g){var j=document.getElementById(l);if(j){var k=WIDGETBOX.globals.widgets[g];if(k){k.tracker.logWidgetAction(WIDGETBOX.track.tracker.ActionLabel.COLLAPSE,k.fId,k.anchoring.unloadEventCause||WIDGETBOX.track.tracker.ActionCause.AUTO,k.anchoring.unloadEventCustom);if(k.sourceWidgetId){var f=WIDGETBOX.globals.widgets[k.sourceWidgetId];if(f){f.mouseoutState.suspended=false;}clearTimeout(H);}}WIDGETBOX.dom.Utils.removeAllChildren(j);WIDGETBOX.notifyEventListeners("closeModalDialog");}for(var h=0;h<WIDGETBOX.subscriber.Main.hiddenElements.length;h++){WIDGETBOX.subscriber.Main.hiddenElements[h].style.visibility="visible";}WIDGETBOX.subscriber.Main.hiddenElements=[];},anchorWidget:function(AJ,AA,m,w){var j=AA.iframe;if(AJ.iframe&&j&&document.getElementById(j.id)){var f=w;var n=AJ.iframe.ownerDocument;var AU=new Date().getTime();f=f||(AU-AJ.anchoring.lastAnchorAttempt>1000);var s=WIDGETBOX.dom.Utils.getDocumentHeight(n);var p=WIDGETBOX.subscriber.Main.getViewportWidth(n);var AE=WIDGETBOX.subscriber.Main.getViewportHeight(n);var h,g;try{h=window.pageXOffset;g=window.pageYOffset;}catch(AS){h=g=null;}if(h==undefined){h=n.documentElement.scrollLeft;}if(g==undefined){g=n.documentElement.scrollTop;}f=f||p!=AJ.anchoring.lastViewportWidth||AE!=AJ.anchoring.lastViewportHeight||h!=AJ.anchoring.lastPageXOffset||g!=AJ.anchoring.lastPageYOffset;if(f){var AN=false;var AM=false;var AD={};var AB={};var AP,AO;while(!AN||!AM){if(!m){m="TR";}if(AJ.anchoring.anchorToBody){var AC=n.documentMode;if(T&&(AC&&!isNaN(AC)&&Number(AC)>=8)){var k=Math.max(n.documentElement.scrollTop,n.body.scrollTop);var AF=Math.max(n.documentElement.scrollLeft,n.body.scrollLeft);AP=AA.iframe.getBoundingClientRect().left;AO=AA.iframe.getBoundingClientRect().top;if(AJ.parentNode.style.position!="fixed"){AP+=AF;AO+=k;}}else{AP=WIDGETBOX.dom.Utils.getX(AA.iframe);AO=WIDGETBOX.dom.Utils.getY(AA.iframe);}}else{AP=0;AO=0;var q=("center"==WIDGETBOX.dom.Utils.getComputedStyle(AA.parentNode,"text-align")||(AA.parentNode.parentNode&&"center"==AA.parentNode.parentNode.getAttribute("align")));if(q){AJ.parentNode.style.marginLeft=(AA.iframe.offsetLeft-AA.divNode.offsetLeft)+"px";}}if(m.indexOf("R")!=-1){AP+=(AA.info.appWidth-AJ.info.appWidth);}else{if(m.indexOf("L")==-1){AP+=(AA.info.appWidth-AJ.info.appWidth)/2;}}if(m.indexOf("B")!=-1){AO+=(AA.info.appHeight-AJ.info.appHeight);}else{if(m.indexOf("T")==-1){AO+=(AA.info.appHeight-AJ.info.appHeight)/2;}}var z=AJ.parentNode.style.left;var AT=AJ.parentNode.style.top;var u=AP;var v=AO;if(!AJ.anchoring.anchorToBody){var AH=WIDGETBOX.dom.Utils.getXY(AA.iframe);u+=AH[0];v+=AH[1];}if(m.indexOf("R")>-1){AN=u>0;}else{if(m.indexOf("L")>-1){AN=(u+AJ.parentNode.offsetWidth)<(p-10);}}if(m.indexOf("B")>-1){AM=v>10;}else{if(m.indexOf("T")>-1){AM=(v+AJ.parentNode.offsetHeight)<s;}}if(AN&&AM){AJ.anchorPosition=m;}else{if(!AN){if(m.indexOf("L")>-1&&!AD[m]){AD[m]=true;m=m.replace("L","R");}else{if(m.indexOf("R")>-1&&!AD[m]){AD[m]=true;m=m.replace("R","L");}else{AN=true;}}}if(!AM){if(m.indexOf("T")>-1&&!AB[m]){AB[m]=true;m=m.replace("T","B");}else{if(m.indexOf("B")>-1&&!AB[m]){AB[m]=true;m=m.replace("B","T");}else{AM=true;}}}}}if(AJ.anchoring.lastX!=AP||AJ.anchoring.lastY!=AO){if(AJ.anchoring.anchorToBody){AJ.parentNode.style.left=AP+"px";AJ.parentNode.style.top=AO+"px";}else{var o=parseFloat(AJ.parentNode.style.marginLeft);o=(AJ.parentNode.style.marginLeft!=""&&!isNaN(o))?o:0;o+=AP;AJ.parentNode.style.marginLeft=o+"px";var AL=parseFloat(AJ.parentNode.style.marginTop);AL=(AJ.parentNode.style.marginTop!=""&&!isNaN(AL))?AL:0;AL+=AO;AJ.parentNode.style.marginTop=AL+"px";}}AJ.anchorPosition=m;WIDGETBOX.dom.Utils.hideElementsOnPage(document,"select",AJ.parentNode,WIDGETBOX.subscriber.Main.hiddenElements);if(w){var AK=WIDGETBOX.dom.Utils.getElementsByTagName("object",document);AK=WIDGETBOX.dom.Utils.getElementsByTagName("embed",document,AK);AK=WIDGETBOX.dom.Utils.getElementsByTagName("img",document,AK);if(AA.zIndexForExpandable==null){var t=AJ.parentNode.style.zIndex;for(var AR=0;AR<AK.length;AR++){var AI=AK[AR];var AQ=AI.parentNode;while(AQ&&AQ.nodeName!="BODY"&&AQ.nodeName!="HEAD"&&AQ.nodeName!="#document"){var l=AQ.style&&WIDGETBOX.dom.Utils.getComputedStyle(AQ,"visibility")!="hidden"&&WIDGETBOX.dom.Utils.getComputedStyle(AQ,"display")!="none";if(l){var r=WIDGETBOX.dom.Utils.doNodesOverlap(AQ,AJ.parentNode);if(r){var AG=AQ.style.zIndex;if(!AG){AG=WIDGETBOX.dom.Utils.getComputedStyle(AQ,"z-index");}if(AG&&!isNaN(AG)&&Number(AG)>=Number(t)){t=Number(AG)+1;}}}AQ=AQ.parentNode;}}}AJ.parentNode.style.zIndex=t;}AJ.anchoring.lastX=AP;AJ.anchoring.lastY=AO;AJ.anchoring.lastViewportWidth=p;AJ.anchoring.lastViewportHeight=AE;AJ.anchoring.lastPageXOffset=h;AJ.anchoring.lastPageYOffset=g;AJ.anchoring.lastAnchorAttempt=AU;}}else{WIDGETBOX.subscriber.Main.hideAnchoredWidget(AJ.parentNode.id,AJ.id);}},onAdjustAnchorCallback:function(j,h,g,f){S.anchorWidget(j,h,g,false);if(j.loaded&&h&&h.mouseoutState.suspended){H=setTimeout(function(){WIDGETBOX.subscriber.Main.onAdjustAnchorCallback(j,h,g,false);},50);}},hideInPlaceWidget:function(g,h,j,o,m){if(!m){m=document;}var n=m.getElementById(h);var k=m.getElementById(j);if(n){WIDGETBOX.dom.Utils.removeAllChildren(n);n.parentNode.removeChild(n);}var l=WIDGETBOX.globals.widgets[g];if(l){l.mouseoutState.suspended=false;}if(k){if(M){k.style.display="";}else{k.style.visibility="visible";k.style.height=l.info.appHeight+"px";var f=WIDGETBOX.globals.widgets[o];f.tracker.logWidgetAction(WIDGETBOX.track.tracker.ActionLabel.COLLAPSE,f.fId,f.anchoring.unloadEventCause||WIDGETBOX.track.tracker.ActionCause.AUTO,f.anchoring.unloadEventCustom);}}WIDGETBOX.notifyEventListeners("closeModalDialog");},renderWidgetInPlaceOfExistingWidget:function(x,m,p,t,v,s,q,y,AA){var h="wbxwgt"+m.replace(/-/g,"")+x;var u=document.getElementById(h);var w=WIDGETBOX.globals.widgets[x];if(u||(w&&w.mouseoutState.suspended)){return;}var r=WIDGETBOX.globals.nextZIndex++;if(q&&w){w.mouseoutState.suspended=true;if(w.zIndexForExpandable){r=w.zIndexForExpandable;}}WIDGETBOX.notifyEventListeners("openModalDialog");var z=v||w.info.appWidth;var AB=s||w.info.appHeight;var f=p;if(f){f+="&";}f+="appInstance.width="+z;f+="&appInstance.height="+AB;var o=document.createElement("div");var n=document.createElement("div");o.appendChild(n);o.style.lineHeight="0px";if(AA){o.style.position="absolute";o.style.marginTop="0px";o.style.width=w.parentNode.offsetWidth+"px";var j=WIDGETBOX.dom.Utils.getComputedStyle(w.parentNode,"z-index");o.style.zIndex=(!j||j=="auto")?(r):Number(j)+1;}else{o.style.position="relative";}o.id="wbxwgt"+m.replace(/-/g,"");w.divNode.parentNode.insertBefore(o,((AA)?w.divNode:w.divNode.nextSibling));var k=function(AD){if(AA){var AE="wbxClearElement_"+m;var AC=document.getElementById(AE);if(!AC){AC=document.createElement("div");AC.id=AE;AC.style.clear="both";if(M||U||(W&&document.documentMode<8)){w.divNode.style.height=w.info.appHeight+"px";}o.parentNode.insertBefore(AC,o);}}else{if(M){w.divNode.style.display="none";}else{w.divNode.style.visibility="hidden";w.divNode.style.height="0px";}}AD.resize(w.info.appWidth,w.info.appHeight);};function g(AC){AC.info.appWidth=z;AC.info.appHeight=AB;if(q){AC.sourceWidgetId=x;AC.info.configParams.wbx_parent_id={name:"wbx_parent_id",value:x};}}var l=S.insertWidget(m,null,n,true,true,k);l.addEventListener("loadInfo",g);if(q&&w){l.tracker=w.tracker.clone();}l.cfgString=f;l.addEventListener("load",function(AD){var AC=function(){WIDGETBOX.subscriber.Main.hideInPlaceWidget(x,o.id,w.divNode.id,AD.id,n.ownerDocument);};AD.addEventListener("unload",function(AE){AC();});if(y){AD.setOnMouseoutHandler(AD.iframe,function(){AD.unload();},((M)?1000:500));}if(!t){AD.closeButton=WIDGETBOX.subscriber.Main.renderCloseButton(n,"inside","right",function(){AD.anchoring.unloadEventCause=WIDGETBOX.track.tracker.ActionCause.USER;AD.unload();},"Close",z,n.ownerDocument);if(AD.closeButton&&AA&&M){AD.closeButton.style.textAlign=WIDGETBOX.dom.Utils.getComputedStyle(AD.closeButton.parentNode,"text-align");}}});},positionLightbox:function(f){S.positionGetWidgetDiv(f.info.appWidth,f.info.appHeight);var g=function(){WIDGETBOX.subscriber.Main.closeGetWidgetDiv(f.id);};f.addEventListener("unload",function(h){g();});f.closeButton=S.renderCloseButton(d,"outside","right",function(){f.anchoring.unloadEventCause=WIDGETBOX.track.tracker.ActionCause.USER;f.unload();},"Close",f.info.appWidth);},closeFunctions:{},renderCloseButton:function(o,m,w,l,s,t,v,g){var q=new Date().getTime();if(!m){m="outside";}if(!w){w="right";}if(!s){s="Close";}if(!l){l=WIDGETBOX.subscriber.Main.closeGetWidgetDiv;}if(!v){v=document;}if(!g){g=q;}var f=WIDGETBOX.createElement("div",o);if(!M){var r=WIDGETBOX.dom.Utils.getComputedStyle(o,"text-align");if(r=="center"||r=="right"){f.style.width="100%";}}else{if(w=="right"){f.style.textAlign="right";}else{f.style.textAlign="left";}}f.style.width="100%";f.style.height="1px";f.style.position="absolute";var k=WIDGETBOX.createElement("div",f);k.setAttribute("id","wbx-close-mask-"+q);k.setAttribute("class","wbx-close-mask");k.style.width=t+"px";if(!M){if(r=="center"){k.style.margin="0 auto";}else{if(r=="right"){k.style.cssFloat="right";}}}var n=function(){try{f.removeChild(k);l();}catch(x){}};k.onclick=n;var p="";if(M){p=' filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+WIDGETBOX.urls.cdnRuntimeBaseUrl+"/images/closebox.png?cb="+q+'", sizingMethod="scale");';}else{p=" background:url("+WIDGETBOX.urls.cdnRuntimeBaseUrl+"/images/closebox.png?cb="+q+");";}var j="text-decoration:none;float:"+w+";";k.innerHTML="<a style='"+j+"' title='"+s+"' href='javascript:void(0);'><div id='wbx-close-btn' style='width:30px; height:30px;"+p+"'>&nbsp;</div></a>";f.style.zIndex=WIDGETBOX.globals.nextZIndex++;f.appendChild(k);o.appendChild(f);if((m=="outside")){f.style.top="-18px";if(w=="left"){f.style.left=(f.style.left-20)+"px";}else{f.style.right="-20px";}}else{f.style.top="0px";f.style.left="0px";var h=f.offsetLeft;var u=-(h)+"px";f.style.left=u;}return f;},openGetWidgetDiv:function(f){S.renderGetWidget(new WIDGETBOX.subscriber.WidgetMenuConfig(WIDGETBOX.globals.widgets[f]));},renderGetWidget:function(AC){WIDGETBOX.notifyEventListeners("openModalDialog");WIDGETBOX.subscriber.Main.closeGetWidgetDiv();if(WIDGETBOX.globals.disableInstallerMenu){return;}if(!WIDGETBOX.globals.renderInstallerMenuInline){var v=S.displayMask(false,true);v.style.zIndex=10000000000;}var o=document.getElementById("wbx-gw-menu-div");if(o==null){o=document.createElement("div");o.id="wbx-gw-menu-div";o.style.cssFloat="left";o.style.styleFloat="left";o.style.position="absolute";o.style.zIndex=10000000000+1;o.style.border="0px";o.style.backgroundColor="transparent";o.style.padding="0px";o.style.margin="0px";o.style.width="255px";o.style.height="458px";o.style.display="none";o.style.border="0";document.getElementsByTagName("body")[0].appendChild(o);}else{o.innerHTML="";}try{var j=WIDGETBOX.flash.Utils.GetFlashVersionArray();if(!AC.panelId&&j[0]<9){var s=j[0]+"."+j[1]+"r"+j[2];var r="wbxLightboxedElement";var g=document.createElement("iframe");g.id=r;g.name=r;g.width="255";g.height="458";g.frameBorder="0";g.scrolling="no";g.marginWidth="0";g.marginHeight="0";g.style.border="1px solid #000";o.appendChild(g);if(window.frames[r]&&window.frames[r].name!=r){window.frames[r].name=r;}var z=document.createElement("a");z.id="closebtn";z.innerHTML="Close";z.onclick=function(){S.closeGetWidgetDiv();};z.style.background="url(/css/images/close-btn.png) no-repeat";z.style.display="block";z.style.position="absolute";z.style.top="3px";z.style.right="2px";z.style.width="24px";z.style.height="20px";z.style.textIndent="-9999px";z.style.overflow="hidden";o.appendChild(z);var p=document.createElement("form");p.id="wbx_flash_upgrade_form";p.target="wbxLightboxedElement";p.action=WIDGETBOX.urls.galleryBaseUrl+"/getwidget/html_menu.jsp";p.method="POST";o.appendChild(p);var u=document.createElement("input");u.type="hidden";u.name="version";u.value=s;p.appendChild(u);var m=document.createElement("input");m.type="hidden";m.name="appRegId";m.value=AC.regId;p.appendChild(m);var n=document.createElement("input");n.type="hidden";n.name="location";n.value=location.href;p.appendChild(n);if(AC.configData){var q=document.createElement("input");q.type="hidden";q.name="appConfig";q.value=AC.configData;p.appendChild(q);}if(AC.sourceId){var AA=document.createElement("input");AA.type="hidden";AA.name="sourceId";AA.value=AC.sourceId;p.appendChild(AA);}if(AC.instId){var w=document.createElement("input");w.type="hidden";w.name="instId";w.value=AC.instId;p.appendChild(w);}p.submit();}else{var x=WIDGETBOX.urls.cdnRuntimeBaseUrl+"/flash/install/menu.swf?cb="+WIDGETBOX.version;var f=(WIDGETBOX.globals.renderInstallerMenuInline)?281:255;var t=458;var l=WIDGETBOX.subscriber.Main.getDocumentWidth();var h=WIDGETBOX.subscriber.Main.getDocumentHeight();var AB=false;if(h<t){t=h;AB=true;}if(l<f){f=l;AB=true;}var k=null;try{k=new WIDGETBOX.flash.Utils.FlashTag(x,f,t,"9,0,0,0");}catch(y){k=new WIDGETBOX.flash.Utils.FlashTag(x,f,t,"9,0,0,0");}k.setAllowScriptAccess("always");k.setId("wbxLightboxedElement");k.setSalign("tl");k.setWmode("transparent");k.addFlashVar("syndicationHost",AC.syndUrl);k.addFlashVar("galleryHost",AC.galleryUrl);k.addFlashVar("cdnRuntimeURL",AC.cdnRuntimeUrl);k.addFlashVar("appRegId",AC.regId);k.addFlashVar("sourceId",AC.sourceId);k.addFlashVar("instanceId",AC.instId);k.addFlashVar("panelId",AC.panelId);k.addFlashVar("context",AC.context);k.addFlashVar("locationURL",AC.location);k.addFlashVar("fromPartnerCode",AC.fromPn);k.addFlashVar("toPartnerCode",AC.toPn);k.addFlashVar("fromGallery",AC.galleryCode);k.addFlashVar("appConfig",AC.configData);k.addFlashVar("sessionId",AC.sessionId);k.addFlashVar("regVersion",AC.regVersion);k.addFlashVar("version",AC.version);k.addFlashVar("variants",AC.variants);if(AC.jsOnly!=null){k.addFlashVar("jsOnly",AC.jsOnly);}if(WIDGETBOX.globals.renderInstallerMenuInline){k.addFlashVar("onPage","true");}if(AB){k.addFlashVar("w",f-20);k.addFlashVar("h",t-20);}else{if(WIDGETBOX.globals.renderInstallerMenuInline){k.addFlashVar("w",280);}}o.style.display="";o.innerHTML=k.toString();if(S.onShowFn){S.onShowFn();}}if(o.style.position=="absolute"){S.positionGetWidgetDiv();d=o;}}catch(y){}},positionGetWidgetDiv:function(g,l){var f=document.getElementById("wbxLightboxedElement");if(f!=null){g=f.offsetWidth;l=f.offsetHeight;}if(!g||isNaN(g)){g=0;}if(!l||isNaN(l)){l=0;}var m=d;if(m){m.style.display="";var n=S.getViewportHeight();var k=(S.getViewportWidth()/2)-(g/2)+WIDGETBOX.dom.Utils.getDocumentScrollLeft();if(k<0){m.style.left="0px";}else{if(k+"px"!=m.style.left){m.style.left=k+"px";}}if(n-20<=l){if(!L){m.style.top=(WIDGETBOX.dom.Utils.getDocumentScrollTop()+20)+"px";}}else{var j=(n/2)-(l/2)+WIDGETBOX.dom.Utils.getDocumentScrollTop();if(j<0){m.style.top="0px";}else{if(j+"px"!=m.style.top){m.style.top=j+"px";}}}if(l>0){L=true;}}},closeGetWidgetDiv:function(j){S.isListening=false;var g=d;L=false;if(WIDGETBOX.globals.renderInstallerMenuInline){if(g!=null){g.style.display="none";}}else{if(g!=null){setTimeout(function(){if(g.parentNode&&g.parentNode.hasChildNodes()){WIDGETBOX.dom.Utils.removeAllChildren(g);var k=g.parentNode;k.removeChild(g);}d=null;g=null;},100);if(S.onCloseFn){S.onCloseFn();}WIDGETBOX.notifyEventListeners("closeModalDialog");if(typeof j!=="undefined"){var h=WIDGETBOX.globals.widgets[j];h.tracker.logWidgetAction(WIDGETBOX.track.tracker.ActionLabel.CLOSE,h.fId,h.anchoring.unloadEventCause||WIDGETBOX.track.tracker.ActionCause.AUTO,h.anchoring.unloadEventCustom);var f=WIDGETBOX.globals.widgets[h.sourceWidgetId];if(f){f.mouseoutState.suspended=false;}}}S.hideMask();}},getElementsByClass:function(m,g,p){var o=[];if(g==null){g=document;}if(p==null){p="*";}var k=g.getElementsByTagName(p);var f=k.length;var n=new RegExp("(^|\s)"+m+"(\s|$)");for(var l=0,h=0;l<f;l++){if(n.test(k[l].className)){o[h]=k[l];h++;}}return o;},setChildParameters:function(f,h){var g=S.getWidget(f);if(g){g.childParams=h;}},getChildParameters:function(g){var f=S.getWidget(g);if(f&&f.childParams){return f.childParams;}else{return{};}},addMouseListenerToWidget:function(h,g){var j=S.getWidget(h);if(j&&j.iframe&&g){var f=function(m){var l=m?m:window.event;var k=(l.offsetX!==undefined)?l.offsetX:l.pageX-WIDGETBOX.dom.Utils.getX(l.target);var n=(l.offsetY!==undefined)?l.offsetY:l.pageY-WIDGETBOX.dom.Utils.getY(l.target);j.dispatchEvent("mouse",g,{x:k,y:n});};if(g=="mouseover"){j.setOnMouseoverHandler(j.iframe,f,j.anchoring.overTimeoutLength);}else{WIDGETBOX.removeEvent(j.iframe,g,f);WIDGETBOX.addEvent(j.iframe,g,f);}}}};var S=WIDGETBOX.subscriber.Main;S.init();WIDGETBOX.setReady("subscriber.Main");})();}if(!WIDGETBOX.subscriber.WidgetMenuConfig){(function(){function A(C){this.regId;this.sourceId;this.instId;this.panelId;this.context;this.toPn;this.fromPn;this.galleryUrl;this.syndUrl;this.cdnRuntimeUrl;this.location;this.galleryCode;this.configData;this.jsOnly;this.widgetId=0;this.sessionId;this.regVersion;this.version;this.variants;if(C){this.regId=C.regId;this.sourceId=C.appId;this.instId=null;this.panelId=null;this.context="wild";this.toPn=null;this.fromPn=C.partnerNetwork;this.syndUrl=WIDGETBOX.urls.runtimeBaseUrl;this.galleryUrl=WIDGETBOX.urls.galleryBaseUrl;this.cdnRuntimeUrl=WIDGETBOX.urls.cdnRuntimeBaseUrl;this.location=window.location.href;this.galleryCode=null;this.configData=C.cfgString;this.jsOnly=null;this.widgetId=C.id;this.sessionId=C.sid;this.regVersion=C.info.regVersion;this.version=C.info.appVersion;if(C.testVariants){var B=WIDGETBOX.net.Utils.addParameters(null,C.testVariants);if(B){this.variants=B;}}}}WIDGETBOX.subscriber.WidgetMenuConfig=A;})();}
WIDGETBOX.subscriber.Main.onWidgetInfoResponse({"widgets":[{"enabledState":"0","initParams":"wbx_framerate=26&wbx_stageHeight=240&wbx_stageWidth=320","isFlashWrapperCompatible":false,"appWidth":"600","fromPartnerNetworkCode":"","providerServiceLevel":"0","regPK":92318,"hasDynamicSize":true,"serviceLevel":"0","appPK":"142248292","isContextAware":false,"widgetPrototypeOrdinal":"0","fromGalleryCode":"","isRenderedInline":false,"defaultDomain":"","thumbFileExt":"jpg","isUseDefaultDomain":"false","fId":"facebooksupermario","url":"http://mymediapromotion.com/supergames/supermario.htm","providerPK":20042,"widgetPrototype":"NONE","regVersion":"333","widgetType":"HTML","scrolling":true,"appVersion":"2","regHeight":"400","configUrl":"","userPK":67769892,"hasDynamicStyle":false,"appId":"b9ca455b-35cf-410e-8be9-6364a0b362ea","instFriendlyId":"","subscribeMode":"USE_USER_INSTANCE","appHeight":"400","shortDescr":"The Fun Classic Super Mario Game In Flash.","instServiceLevel":"0","htmlContent":"","isPreviewInstance":false,"isAdFriendly":true,"configParams":{"wbx_framerate":{"name":"wbx_framerate","value":"26","type":"HIDDEN"},"wbx.buttonMode":{"name":"wbx.buttonMode","value":"0","type":"HIDDEN"},"wbx_stageHeight":{"name":"wbx_stageHeight","value":"240","type":"HIDDEN"},"wbx_stageWidth":{"name":"wbx_stageWidth","value":"320","type":"HIDDEN"},"plugin.BGCOLOR":{"name":"plugin.BGCOLOR","value":"FFFFFF","type":"HIDDEN"}},"name":"Super Mario Game","customHostname":"","regId":"4d3e0814-eaf1-4528-addb-32da5bf30ccf","regWidth":"600","installPartnerNetworkCode":"","installPartnerNetworkPK":"14","fromGalleryPK":"","sendsMessages":false,"isAdEnabled":true,"adPlacement":"","categories":"entertainment,fun,games","thumbFilePath":"/thumbs/a3e/4d3e0814-eaf1-4528-addb-32da5bf30ccf.jpg?333"}],"token":"67607e273a848abe1fd95ab2ace2fe66cf59db9700000134808b7788"});function StickyScroller(c,d){var e=this;var top=$(c).css('top');var f=$(c).css('left');var g=$(c).css('right');var scroll=0;var h=0;var i={start:0,end:1000,interval:400,margin:parseInt(top,10),range:400},j=jQuery.extend(i,d);c=$(c);j.index=0;j.oldIndex=0;GetSet.getters({scope:e,obj:j});var k={};k.newIndex=function(){};k.limbo=function(){};k.scroll=function(){};GetSet.setters({scope:this,prefix:"on",obj:k});this.distanceFrom=function(n){h=$(window).scrollTop();var top=n*j.interval;var o=n*j.interval+j.range;var p=Math.abs(h-top);var q=Math.abs(h-o);if(p<q){return p;}else{return q;}};this.closestIndex=function(){if(j.index===0){return 1;}var n=this.distanceFrom(j.index-1);var o=this.distanceFrom(j.index+1);if(n<=o){return j.index-1;}else{return j.index+1;}};var l=function(){h=$(window).scrollTop()+j.margin;if(h>j.start&&h<j.end){tempIndex=Math.floor((h-j.start)/j.interval);if(tempIndex!==j.index){j.oldIndex=j.index;j.index=tempIndex;}}else if(h>=j.end){j.oldIndex=j.index;j.index=Math.floor((j.end-j.start)/j.interval);}else{j.oldIndex=j.index;j.index=0;}};this.firstIndex=function(){return 0;};this.lastIndex=function(){return Math.floor((j.end-j.start)/j.interval);};this.inRange=function(){var scroll=$(window).scrollTop()-j.start+j.margin;var n=(scroll>=j.index*j.interval)&&(scroll<=(j.index*j.interval+j.range));return n;};var m=$('<div id="scrollcontainer">').css({width:c.width(),height:c.height(),position:"absolute"});c.wrap(m);$(window).scroll(function(){scroll=$(window).scrollTop()+j.margin;l();if(scroll<j.start){$(c).css({position:'absolute',top:0,left:0,right:0});$("#scrollcontainer").css({position:'absolute',top:j.start,left:f,right:g});}else if(scroll>j.end){$(c).css({position:'absolute',top:0,left:0,right:0});$("#scrollcontainer").css({position:'absolute',top:j.end,left:f,right:g});}else{$(c).css({position:'fixed',top:j.margin,left:f,right:g});}if(j.oldIndex!==j.index){k.newIndex(j.index);}if(!e.inRange()&&scroll>j.start&&scroll<j.end){k.limbo(j.index);}k.scroll(j.index);});}
var GetSet={};GetSet.override=function(options,defaults)
{var $this=options;for(var i in defaults)
{if(!($this[i]))
{$this[i]=defaults[i];}}};GetSet.getFunctions=function(template,recepient)
{for(var i in template)
{if(template[i].constructor==Function)
{recepient[i]=template[i];}}};GetSet.getters=function(options)
{var defaults={prefix:"get",camel:true};GetSet.override(options,defaults);options.prefix=(options.prefix==="none")?"":options.prefix;var str;for(var i in options.obj)
{if(options.camel&&options.prefix!="")
{str=i.charAt(0).toUpperCase()+i.substr(1);}
else
{str=i;}
(function(i)
{options.scope[options.prefix+str]=function()
{return options.obj[i];};})(i);}};GetSet.setters=function(options)
{var defaults={prefix:"set",camel:true};GetSet.override(options,defaults);options.prefix=(options.prefix==="none")?"":options.prefix;var str;for(var i in options.obj)
{if(options.camel&&options.prefix!="")
{str=i.charAt(0).toUpperCase()+i.substr(1);}
else
{str=i;}
(function(i)
{options.scope[options.prefix+str]=function(val)
{options.obj[i]=val;};})(i);}};(function($){$.fn.easySlider=function(options){var defaults={prevId:'prevBtn',prevText:'Previous',nextId:'nextBtn',nextText:'Next',controlsShow:true,controlsBefore:'',controlsAfter:'',controlsFade:true,firstId:'firstBtn',firstText:'First',firstShow:false,lastId:'lastBtn',lastText:'Last',lastShow:false,vertical:false,speed:800,auto:false,pause:2000,continuous:false,numeric:false,numericId:'controls'};var options=$.extend(defaults,options);this.each(function(){var obj=$(this);var s=$("li",obj).length;var w=$("li",obj).width();var h=$("li",obj).height();var clickable=true;obj.width(w);obj.height(h);obj.css("overflow","hidden");var ts=s-1;var t=0;$("ul",obj).css('width',s*w);if(options.continuous){$("ul",obj).prepend($("ul li:last-child",obj).clone().css("margin-left","-"+w+"px"));$("ul",obj).append($("ul li:nth-child(2)",obj).clone());$("ul",obj).css('width',(s+1)*w);};if(!options.vertical)$("li",obj).css('float','left');if(options.controlsShow){var html=options.controlsBefore;if(options.numeric){html+='<ol id="'+options.numericId+'"></ol>';}else{if(options.firstShow)html+='<span id="'+options.firstId+'"><a href=\"javascript:void(0);\">'+options.firstText+'</a></span>';html+=' <span id="'+options.prevId+'"><a href=\"javascript:void(0);\">'+options.prevText+'</a></span>';html+=' <span id="'+options.nextId+'"><a href=\"javascript:void(0);\">'+options.nextText+'</a></span>';if(options.lastShow)html+=' <span id="'+options.lastId+'"><a href=\"javascript:void(0);\">'+options.lastText+'</a></span>';};html+=options.controlsAfter;$(obj).after(html);};if(options.numeric){for(var i=0;i<s;i++){$(document.createElement("li")).attr('id',options.numericId+(i+1)).html('<a rel='+i+' href=\"javascript:void(0);\">'+(i+1)+'</a>').appendTo($("#"+options.numericId)).click(function(){animate($("a",$(this)).attr('rel'),true);});};}else{$("a","#"+options.nextId).click(function(){animate("next",true);});$("a","#"+options.prevId).click(function(){animate("prev",true);});$("a","#"+options.firstId).click(function(){animate("first",true);});$("a","#"+options.lastId).click(function(){animate("last",true);});};function setCurrent(i){i=parseInt(i)+1;$("li","#"+options.numericId).removeClass("current");$("li#"+options.numericId+i).addClass("current");};function adjust(){if(t>ts)t=0;if(t<0)t=ts;if(!options.vertical){$("ul",obj).css("margin-left",(t*w*-1));}else{$("ul",obj).css("margin-left",(t*h*-1));}
clickable=true;if(options.numeric)setCurrent(t);};function animate(dir,clicked){if(clickable){clickable=false;var ot=t;switch(dir){case"next":t=(ot>=ts)?(options.continuous?t+1:ts):t+1;break;case"prev":t=(t<=0)?(options.continuous?t-1:0):t-1;break;case"first":t=0;break;case"last":t=ts;break;default:t=dir;break;};var diff=Math.abs(ot-t);var speed=diff*options.speed;if(!options.vertical){p=(t*w*-1);$("ul",obj).animate({marginLeft:p},{queue:false,duration:speed,complete:adjust});}else{p=(t*h*-1);$("ul",obj).animate({marginTop:p},{queue:false,duration:speed,complete:adjust});};if(!options.continuous&&options.controlsFade){if(t==ts){$("a","#"+options.nextId).hide();$("a","#"+options.lastId).hide();}else{$("a","#"+options.nextId).show();$("a","#"+options.lastId).show();};if(t==0){$("a","#"+options.prevId).hide();$("a","#"+options.firstId).hide();}else{$("a","#"+options.prevId).show();$("a","#"+options.firstId).show();};};if(clicked)clearTimeout(timeout);if(options.auto&&dir=="next"&&!clicked){;timeout=setTimeout(function(){animate("next",false);},diff*options.speed+options.pause);};};};var timeout;if(options.auto){;timeout=setTimeout(function(){animate("next",false);},options.pause);};if(options.numeric)setCurrent(0);if(!options.continuous&&options.controlsFade){$("a","#"+options.prevId).hide();$("a","#"+options.firstId).hide();};});};})(jQuery);var JSON;if(!JSON){JSON={};}
(function(){'use strict';function f(n){return n<10?'0'+n:n;}
if(typeof Date.prototype.toJSON!=='function'){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+'-'+
f(this.getUTCMonth()+1)+'-'+
f(this.getUTCDate())+'T'+
f(this.getUTCHours())+':'+
f(this.getUTCMinutes())+':'+
f(this.getUTCSeconds())+'Z':null;};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf();};}
var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={'\b':'\\b','\t':'\\t','\n':'\\n','\f':'\\f','\r':'\\r','"':'\\"','\\':'\\\\'},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==='string'?c:'\\u'+('0000'+a.charCodeAt(0).toString(16)).slice(-4);})+'"':'"'+string+'"';}
function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==='object'&&typeof value.toJSON==='function'){value=value.toJSON(key);}
if(typeof rep==='function'){value=rep.call(holder,key,value);}
switch(typeof value){case'string':return quote(value);case'number':return isFinite(value)?String(value):'null';case'boolean':case'null':return String(value);case'object':if(!value){return'null';}
gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==='[object Array]'){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||'null';}
v=partial.length===0?'[]':gap?'[\n'+gap+partial.join(',\n'+gap)+'\n'+mind+']':'['+partial.join(',')+']';gap=mind;return v;}
if(rep&&typeof rep==='object'){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==='string'){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?': ':':')+v);}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?': ':':')+v);}}}}
v=partial.length===0?'{}':gap?'{\n'+gap+partial.join(',\n'+gap)+'\n'+mind+'}':'{'+partial.join(',')+'}';gap=mind;return v;}}
if(typeof JSON.stringify!=='function'){JSON.stringify=function(value,replacer,space){var i;gap='';indent='';if(typeof space==='number'){for(i=0;i<space;i+=1){indent+=' ';}}else if(typeof space==='string'){indent=space;}
rep=replacer;if(replacer&&typeof replacer!=='function'&&(typeof replacer!=='object'||typeof replacer.length!=='number')){throw new Error('JSON.stringify');}
return str('',{'':value});};}
if(typeof JSON.parse!=='function'){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==='object'){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v;}else{delete value[k];}}}}
return reviver.call(holder,key,value);}
text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return'\\u'+
('0000'+a.charCodeAt(0).toString(16)).slice(-4);});}
if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,'@').replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,']').replace(/(?:^|:|,)(?:\s*\[)+/g,''))){j=eval('('+text+')');return typeof reviver==='function'?walk({'':j},''):j;}
throw new SyntaxError('JSON.parse');};}}());(function(window,undefined){"use strict";var
document=window.document,setTimeout=window.setTimeout||setTimeout,clearTimeout=window.clearTimeout||clearTimeout,setInterval=window.setInterval||setInterval,History=window.History=window.History||{};if(typeof History.initHtml4!=='undefined'){throw new Error('History.js HTML4 Support has already been loaded...');}
History.initHtml4=function(){if(typeof History.initHtml4.initialized!=='undefined'){return false;}
else{History.initHtml4.initialized=true;if($.browser.msie&&parseInt($.browser.version,10)==7){History.enabled=false;return true;}}
History.enabled=true;History.savedHashes=[];History.isLastHash=function(newHash){var oldHash=History.getHashByIndex(),isLast;isLast=newHash===oldHash;return isLast;};History.saveHash=function(newHash){if(History.isLastHash(newHash)){return false;}
History.savedHashes.push(newHash);return true;};History.getHashByIndex=function(index){var hash=null;if(typeof index==='undefined'){hash=History.savedHashes[History.savedHashes.length-1];}
else if(index<0){hash=History.savedHashes[History.savedHashes.length+index];}
else{hash=History.savedHashes[index];}
return hash;};History.discardedHashes={};History.discardedStates={};History.discardState=function(discardedState,forwardState,backState){var discardedStateHash=History.getHashByState(discardedState),discardObject;discardObject={'discardedState':discardedState,'backState':backState,'forwardState':forwardState};History.discardedStates[discardedStateHash]=discardObject;return true;};History.discardHash=function(discardedHash,forwardState,backState){var discardObject={'discardedHash':discardedHash,'backState':backState,'forwardState':forwardState};History.discardedHashes[discardedHash]=discardObject;return true;};History.discardedState=function(State){var StateHash=History.getHashByState(State),discarded;discarded=History.discardedStates[StateHash]||false;return discarded;};History.discardedHash=function(hash){var discarded=History.discardedHashes[hash]||false;return discarded;};History.recycleState=function(State){var StateHash=History.getHashByState(State);if(History.discardedState(State)){delete History.discardedStates[StateHash];}
return true;};if(History.emulated.hashChange){History.hashChangeInit=function(){alert('hashChangeInit doc domain is: '+document.domain);History.checkerFunction=null;var lastDocumentHash='',iframeId,iframe,docDomainChanged,lastIframeHash,checkerRunning;if(History.isInternetExplorer()){docDomainChanged=(document.domain&&document.location.hostname!=document.domain);iframeId='historyjs-iframe';iframe=document.createElement('iframe');iframe.setAttribute('id',iframeId);iframe.style.display='none';if(docDomainChanged){}
document.body.appendChild(iframe);iframe.contentWindow.document.open();iframe.contentWindow.document.close();lastIframeHash='';checkerRunning=false;History.checkerFunction=function(){if(checkerRunning){return false;}
checkerRunning=true;var documentHash=History.getHash()||'',iframeHash=History.unescapeHash(iframe.contentWindow.document.location.hash)||'';if(documentHash!==lastDocumentHash){lastDocumentHash=documentHash;if(iframeHash!==documentHash){lastIframeHash=iframeHash=documentHash;if(docDomainChanged){iframe.src='javascript:(function(){document.open();document.domain="'+document.domain+'";document.close();})()';}
iframe.contentWindow.document.open();iframe.contentWindow.document.close();iframe.contentWindow.document.location.hash=History.escapeHash(documentHash);}
History.Adapter.trigger(window,'hashchange');}
else if(iframeHash!==lastIframeHash){lastIframeHash=iframeHash;History.setHash(iframeHash,false);}
checkerRunning=false;return true;};}
else{History.checkerFunction=function(){var documentHash=History.getHash();if(documentHash!==lastDocumentHash){lastDocumentHash=documentHash;History.Adapter.trigger(window,'hashchange');}
return true;};}
History.intervalList.push(setInterval(History.checkerFunction,History.options.hashChangeInterval));return true;};History.Adapter.onDomLoad(History.hashChangeInit);}
if(History.emulated.pushState){History.onHashChange=function(event){var currentUrl=((event&&event.newURL)||document.location.href),currentHash=History.getHashByUrl(currentUrl),currentState=null,currentStateHash=null,currentStateHashExits=null,discardObject;if(History.isLastHash(currentHash)){History.busy(false);return false;}
History.doubleCheckComplete();History.saveHash(currentHash);if(currentHash&&History.isTraditionalAnchor(currentHash)){History.Adapter.trigger(window,'anchorchange');History.busy(false);return false;}
currentState=History.extractState(History.getFullUrl(currentHash||document.location.href,false),true);if(History.isLastSavedState(currentState)){History.busy(false);return false;}
currentStateHash=History.getHashByState(currentState);discardObject=History.discardedState(currentState);if(discardObject){if(History.getHashByIndex(-2)===History.getHashByState(discardObject.forwardState)){History.back(false);}else{History.forward(false);}
return false;}
History.pushState(currentState.data,currentState.title,currentState.url,false);return true;};History.Adapter.bind(window,'hashchange',History.onHashChange);History.pushState=function(data,title,url,queue){if(History.getHashByUrl(url)){throw new Error('History.js does not support states with fragement-identifiers (hashes/anchors).');}
if(queue!==false&&History.busy()){History.pushQueue({scope:History,callback:History.pushState,args:arguments,queue:queue});return false;}
History.busy(true);var newState=History.createStateObject(data,title,url),newStateHash=History.getHashByState(newState),oldState=History.getState(false),oldStateHash=History.getHashByState(oldState),html4Hash=History.getHash();History.storeState(newState);History.expectedStateId=newState.id;History.recycleState(newState);History.setTitle(newState);if(newStateHash===oldStateHash){History.busy(false);return false;}
if(newStateHash!==html4Hash&&newStateHash!==History.getShortUrl(document.location.href)){History.setHash(newStateHash,false);return false;}
History.saveState(newState);History.Adapter.trigger(window,'statechange');History.busy(false);return true;};History.replaceState=function(data,title,url,queue){if(History.getHashByUrl(url)){throw new Error('History.js does not support states with fragement-identifiers (hashes/anchors).');}
if(queue!==false&&History.busy()){History.pushQueue({scope:History,callback:History.replaceState,args:arguments,queue:queue});return false;}
History.busy(true);var newState=History.createStateObject(data,title,url),oldState=History.getState(false),previousState=History.getStateByIndex(-2);History.discardState(oldState,newState,previousState);History.pushState(newState.data,newState.title,newState.url,false);return true;};}
if(History.emulated.pushState){if(History.getHash()&&!History.emulated.hashChange){History.Adapter.onDomLoad(function(){History.Adapter.trigger(window,'hashchange');});}}};if(typeof History.init!=='undefined'){History.init();}})(window);(function(window,undefined){"use strict";var
History=window.History=window.History||{},jQuery=window.jQuery;if(typeof History.Adapter!=='undefined'){throw new Error('History.js Adapter has already been loaded...');}
History.Adapter={bind:function(el,event,callback){jQuery(el).bind(event,callback);},trigger:function(el,event,extra){jQuery(el).trigger(event,extra);},extractEventData:function(key,event,extra){var result=(event&&event.originalEvent&&event.originalEvent[key])||(extra&&extra[key])||undefined;return result;},onDomLoad:function(callback){jQuery(callback);}};if(typeof History.init!=='undefined'){History.init();}})(window);(function(window,undefined){"use strict";var
console=window.console||undefined,document=window.document,navigator=window.navigator,sessionStorage=window.sessionStorage||false,setTimeout=window.setTimeout,clearTimeout=window.clearTimeout,setInterval=window.setInterval,clearInterval=window.clearInterval,JSON=window.JSON,alert=window.alert,History=window.History=window.History||{},history=window.history;JSON.stringify=JSON.stringify||JSON.encode;JSON.parse=JSON.parse||JSON.decode;if(typeof History.init!=='undefined'){throw new Error('History.js Core has already been loaded...');}
History.init=function(){if(typeof History.Adapter==='undefined'){return false;}
if(typeof History.initCore!=='undefined'){History.initCore();}
if(typeof History.initHtml4!=='undefined'){History.initHtml4();}
return true;};History.initCore=function(){if(typeof History.initCore.initialized!=='undefined'){return false;}
else{History.initCore.initialized=true;}
History.options=History.options||{};History.options.hashChangeInterval=History.options.hashChangeInterval||100;History.options.safariPollInterval=History.options.safariPollInterval||500;History.options.doubleCheckInterval=History.options.doubleCheckInterval||500;History.options.storeInterval=History.options.storeInterval||1000;History.options.busyDelay=History.options.busyDelay||250;History.options.debug=History.options.debug||false;History.options.initialTitle=History.options.initialTitle||document.title;History.intervalList=[];History.clearAllIntervals=function(){var i,il=History.intervalList;if(typeof il!=="undefined"&&il!==null){for(i=0;i<il.length;i++){clearInterval(il[i]);}
History.intervalList=null;}};History.debug=function(){if((History.options.debug||false)){History.log.apply(History,arguments);}};History.log=function(){var
consoleExists=!(typeof console==='undefined'||typeof console.log==='undefined'||typeof console.log.apply==='undefined'),textarea=document.getElementById('log'),message,i,n,args,arg;if(consoleExists){args=Array.prototype.slice.call(arguments);message=args.shift();if(typeof console.debug!=='undefined'){console.debug.apply(console,[message,args]);}
else{console.log.apply(console,[message,args]);}}
else{message=("\n"+arguments[0]+"\n");}
for(i=1,n=arguments.length;i<n;++i){arg=arguments[i];if(typeof arg==='object'&&typeof JSON!=='undefined'){try{arg=JSON.stringify(arg);}
catch(Exception){}}
message+="\n"+arg+"\n";}
if(textarea){textarea.value+=message+"\n-----\n";textarea.scrollTop=textarea.scrollHeight-textarea.clientHeight;}
else if(!consoleExists){alert(message);}
return true;};History.getInternetExplorerMajorVersion=function(){var result=History.getInternetExplorerMajorVersion.cached=(typeof History.getInternetExplorerMajorVersion.cached!=='undefined')?History.getInternetExplorerMajorVersion.cached:(function(){var v=3,div=document.createElement('div'),all=div.getElementsByTagName('i');while((div.innerHTML='<!--[if gt IE '+(++v)+']><i></i><![endif]-->')&&all[0]){}
return(v>4)?v:false;})();return result;};History.isInternetExplorer=function(){var result=History.isInternetExplorer.cached=(typeof History.isInternetExplorer.cached!=='undefined')?History.isInternetExplorer.cached:Boolean(History.getInternetExplorerMajorVersion());return result;};History.emulated={pushState:!Boolean(window.history&&window.history.pushState&&window.history.replaceState&&!((/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i).test(navigator.userAgent)||(/AppleWebKit\/5([0-2]|3[0-2])/i).test(navigator.userAgent))),hashChange:Boolean(!(('onhashchange'in window)||('onhashchange'in document))||(History.isInternetExplorer()&&History.getInternetExplorerMajorVersion()<8))};History.enabled=!History.emulated.pushState;History.bugs={setHash:Boolean(!History.emulated.pushState&&navigator.vendor==='Apple Computer, Inc.'&&/AppleWebKit\/5([0-2]|3[0-3])/.test(navigator.userAgent)),safariPoll:Boolean(!History.emulated.pushState&&navigator.vendor==='Apple Computer, Inc.'&&/AppleWebKit\/5([0-2]|3[0-3])/.test(navigator.userAgent)),ieDoubleCheck:Boolean(History.isInternetExplorer()&&History.getInternetExplorerMajorVersion()<8),hashEscape:Boolean(History.isInternetExplorer()&&History.getInternetExplorerMajorVersion()<7)};History.isEmptyObject=function(obj){for(var name in obj){return false;}
return true;};History.cloneObject=function(obj){var hash,newObj;if(obj){hash=JSON.stringify(obj);newObj=JSON.parse(hash);}
else{newObj={};}
return newObj;};History.getRootUrl=function(){var rootUrl=document.location.protocol+'//'+(document.location.hostname||document.location.host);if(document.location.port||false){rootUrl+=':'+document.location.port;}
rootUrl+='/';return rootUrl;};History.getBaseHref=function(){var
baseElements=document.getElementsByTagName('base'),baseElement=null,baseHref='';if(baseElements.length===1){baseElement=baseElements[0];baseHref=baseElement.href.replace(/[^\/]+$/,'');}
baseHref=baseHref.replace(/\/+$/,'');if(baseHref)baseHref+='/';return baseHref;};History.getBaseUrl=function(){var baseUrl=History.getBaseHref()||History.getBasePageUrl()||History.getRootUrl();return baseUrl;};History.getPageUrl=function(){var
State=History.getState(false,false),stateUrl=(State||{}).url||document.location.href,pageUrl;pageUrl=stateUrl.replace(/\/+$/,'').replace(/[^\/]+$/,function(part,index,string){return(/\./).test(part)?part:part+'/';});return pageUrl;};History.getBasePageUrl=function(){var basePageUrl=document.location.href.replace(/[#\?].*/,'').replace(/[^\/]+$/,function(part,index,string){return(/[^\/]$/).test(part)?'':part;}).replace(/\/+$/,'')+'/';return basePageUrl;};History.getFullUrl=function(url,allowBaseHref){var fullUrl=url,firstChar=url.substring(0,1);allowBaseHref=(typeof allowBaseHref==='undefined')?true:allowBaseHref;if(/[a-z]+\:\/\//.test(url)){}
else if(firstChar==='/'){fullUrl=History.getRootUrl()+url.replace(/^\/+/,'');}
else if(firstChar==='#'){fullUrl=History.getPageUrl().replace(/#.*/,'')+url;}
else if(firstChar==='?'){fullUrl=History.getPageUrl().replace(/[\?#].*/,'')+url;}
else{if(allowBaseHref){fullUrl=History.getBaseUrl()+url.replace(/^(\.\/)+/,'');}else{fullUrl=History.getBasePageUrl()+url.replace(/^(\.\/)+/,'');}}
return fullUrl.replace(/\#$/,'');};History.getShortUrl=function(url){var shortUrl=url,baseUrl=History.getBaseUrl(),rootUrl=History.getRootUrl();if(History.emulated.pushState){shortUrl=shortUrl.replace(baseUrl,'');}
shortUrl=shortUrl.replace(rootUrl,'/');if(History.isTraditionalAnchor(shortUrl)){shortUrl='./'+shortUrl;}
shortUrl=shortUrl.replace(/^(\.\/)+/g,'./').replace(/\#$/,'');return shortUrl;};History.store={};History.idToState=History.idToState||{};History.stateToId=History.stateToId||{};History.urlToId=History.urlToId||{};History.storedStates=History.storedStates||[];History.savedStates=History.savedStates||[];History.normalizeStore=function(){History.store.idToState=History.store.idToState||{};History.store.urlToId=History.store.urlToId||{};History.store.stateToId=History.store.stateToId||{};};History.getState=function(friendly,create){if(typeof friendly==='undefined'){friendly=true;}
if(typeof create==='undefined'){create=true;}
var State=History.getLastSavedState();if(!State&&create){State=History.createStateObject();}
if(friendly){State=History.cloneObject(State);State.url=State.cleanUrl||State.url;}
return State;};History.getIdByState=function(newState){var id=History.extractId(newState.url),str;if(!id){str=History.getStateString(newState);if(typeof History.stateToId[str]!=='undefined'){id=History.stateToId[str];}
else if(typeof History.store.stateToId[str]!=='undefined'){id=History.store.stateToId[str];}
else{while(true){id=(new Date()).getTime()+String(Math.random()).replace(/\D/g,'');if(typeof History.idToState[id]==='undefined'&&typeof History.store.idToState[id]==='undefined'){break;}}
History.stateToId[str]=id;History.idToState[id]=newState;}}
return id;};History.normalizeState=function(oldState){var newState,dataNotEmpty;if(!oldState||(typeof oldState!=='object')){oldState={};}
if(typeof oldState.normalized!=='undefined'){return oldState;}
if(!oldState.data||(typeof oldState.data!=='object')){oldState.data={};}
newState={};newState.normalized=true;newState.title=oldState.title||'';newState.url=History.getFullUrl(History.unescapeString(oldState.url||document.location.href));newState.hash=History.getShortUrl(newState.url);newState.data=History.cloneObject(oldState.data);newState.id=History.getIdByState(newState);newState.cleanUrl=newState.url.replace(/\??\&_suid.*/,'');newState.url=newState.cleanUrl;dataNotEmpty=!History.isEmptyObject(newState.data);if(newState.title||dataNotEmpty){newState.hash=History.getShortUrl(newState.url).replace(/\??\&_suid.*/,'');if(!/\?/.test(newState.hash)){newState.hash+='?';}
newState.hash+='&_suid='+newState.id;}
newState.hashedUrl=History.getFullUrl(newState.hash);if((History.emulated.pushState||History.bugs.safariPoll)&&History.hasUrlDuplicate(newState)){newState.url=newState.hashedUrl;}
return newState;};History.createStateObject=function(data,title,url){var State={'data':data,'title':title,'url':url};State=History.normalizeState(State);return State;};History.getStateById=function(id){id=String(id);var State=History.idToState[id]||History.store.idToState[id]||undefined;return State;};History.getStateString=function(passedState){var State,cleanedState,str;State=History.normalizeState(passedState);cleanedState={data:State.data,title:passedState.title,url:passedState.url};str=JSON.stringify(cleanedState);return str;};History.getStateId=function(passedState){var State,id;State=History.normalizeState(passedState);id=State.id;return id;};History.getHashByState=function(passedState){var State,hash;State=History.normalizeState(passedState);hash=State.hash;return hash;};History.extractId=function(url_or_hash){var id,parts,url;parts=/(.*)\&_suid=([0-9]+)$/.exec(url_or_hash);url=parts?(parts[1]||url_or_hash):url_or_hash;id=parts?String(parts[2]||''):'';return id||false;};History.isTraditionalAnchor=function(url_or_hash){var isTraditional=!(/[\/\?\.]/.test(url_or_hash));return isTraditional;};History.extractState=function(url_or_hash,create){var State=null,id,url;create=create||false;id=History.extractId(url_or_hash);if(id){State=History.getStateById(id);}
if(!State){url=History.getFullUrl(url_or_hash);id=History.getIdByUrl(url)||false;if(id){State=History.getStateById(id);}
if(!State&&create&&!History.isTraditionalAnchor(url_or_hash)){State=History.createStateObject(null,null,url);}}
return State;};History.getIdByUrl=function(url){var id=History.urlToId[url]||History.store.urlToId[url]||undefined;return id;};History.getLastSavedState=function(){return History.savedStates[History.savedStates.length-1]||undefined;};History.getLastStoredState=function(){return History.storedStates[History.storedStates.length-1]||undefined;};History.hasUrlDuplicate=function(newState){var hasDuplicate=false,oldState;oldState=History.extractState(newState.url);hasDuplicate=oldState&&oldState.id!==newState.id;return hasDuplicate;};History.storeState=function(newState){History.urlToId[newState.url]=newState.id;History.storedStates.push(History.cloneObject(newState));return newState;};History.isLastSavedState=function(newState){var isLast=false,newId,oldState,oldId;if(History.savedStates.length){newId=newState.id;oldState=History.getLastSavedState();oldId=oldState.id;isLast=(newId===oldId);}
return isLast;};History.saveState=function(newState){if(History.isLastSavedState(newState)){return false;}
History.savedStates.push(History.cloneObject(newState));return true;};History.getStateByIndex=function(index){var State=null;if(typeof index==='undefined'){State=History.savedStates[History.savedStates.length-1];}
else if(index<0){State=History.savedStates[History.savedStates.length+index];}
else{State=History.savedStates[index];}
return State;};History.getHash=function(){var hash=History.unescapeHash(document.location.hash);return hash;};History.unescapeString=function(str){var result=str,tmp;while(true){tmp=window.unescape(result);if(tmp===result){break;}
result=tmp;}
return result;};History.unescapeHash=function(hash){var result=History.normalizeHash(hash);result=History.unescapeString(result);return result;};History.normalizeHash=function(hash){var result=hash.replace(/[^#]*#/,'').replace(/#.*/,'');return result;};History.setHash=function(hash,queue){var adjustedHash,State,pageUrl;if(queue!==false&&History.busy()){History.pushQueue({scope:History,callback:History.setHash,args:arguments,queue:queue});return false;}
adjustedHash=History.escapeHash(hash);History.busy(true);State=History.extractState(hash,true);if(State&&!History.emulated.pushState){History.pushState(State.data,State.title,State.url,false);}
else if(document.location.hash!==adjustedHash){if(History.bugs.setHash){pageUrl=History.getPageUrl();History.pushState(null,null,pageUrl+'#'+adjustedHash,false);}
else{document.location.hash=adjustedHash;}}
return History;};History.escapeHash=function(hash){var result=History.normalizeHash(hash);result=window.escape(result);if(!History.bugs.hashEscape){result=result.replace(/\%21/g,'!').replace(/\%26/g,'&').replace(/\%3D/g,'=').replace(/\%3F/g,'?');}
return result;};History.getHashByUrl=function(url){var hash=String(url).replace(/([^#]*)#?([^#]*)#?(.*)/,'$2');hash=History.unescapeHash(hash);return hash;};History.setTitle=function(newState){var title=newState.title,firstState;if(!title){firstState=History.getStateByIndex(0);if(firstState&&firstState.url===newState.url){title=firstState.title||History.options.initialTitle;}}
try{document.getElementsByTagName('title')[0].innerHTML=title.replace('<','&lt;').replace('>','&gt;').replace(' & ',' &amp; ');}
catch(Exception){}
document.title=title;return History;};History.queues=[];History.busy=function(value){if(typeof value!=='undefined'){History.busy.flag=value;}
else if(typeof History.busy.flag==='undefined'){History.busy.flag=false;}
if(!History.busy.flag){clearTimeout(History.busy.timeout);var fireNext=function(){var i,queue,item;if(History.busy.flag)return;for(i=History.queues.length-1;i>=0;--i){queue=History.queues[i];if(queue.length===0)continue;item=queue.shift();History.fireQueueItem(item);History.busy.timeout=setTimeout(fireNext,History.options.busyDelay);}};History.busy.timeout=setTimeout(fireNext,History.options.busyDelay);}
return History.busy.flag;};History.busy.flag=false;History.fireQueueItem=function(item){return item.callback.apply(item.scope||History,item.args||[]);};History.pushQueue=function(item){History.queues[item.queue||0]=History.queues[item.queue||0]||[];History.queues[item.queue||0].push(item);return History;};History.queue=function(item,queue){if(typeof item==='function'){item={callback:item};}
if(typeof queue!=='undefined'){item.queue=queue;}
if(History.busy()){History.pushQueue(item);}else{History.fireQueueItem(item);}
return History;};History.clearQueue=function(){History.busy.flag=false;History.queues=[];return History;};History.stateChanged=false;History.doubleChecker=false;History.doubleCheckComplete=function(){History.stateChanged=true;History.doubleCheckClear();return History;};History.doubleCheckClear=function(){if(History.doubleChecker){clearTimeout(History.doubleChecker);History.doubleChecker=false;}
return History;};History.doubleCheck=function(tryAgain){History.stateChanged=false;History.doubleCheckClear();if(History.bugs.ieDoubleCheck){History.doubleChecker=setTimeout(function(){History.doubleCheckClear();if(!History.stateChanged){tryAgain();}
return true;},History.options.doubleCheckInterval);}
return History;};History.safariStatePoll=function(){var
urlState=History.extractState(document.location.href),newState;if(!History.isLastSavedState(urlState)){newState=urlState;}
else{return;}
if(!newState){newState=History.createStateObject();}
History.Adapter.trigger(window,'popstate');return History;};History.back=function(queue){if(queue!==false&&History.busy()){History.pushQueue({scope:History,callback:History.back,args:arguments,queue:queue});return false;}
History.busy(true);History.doubleCheck(function(){History.back(false);});history.go(-1);return true;};History.forward=function(queue){if(queue!==false&&History.busy()){History.pushQueue({scope:History,callback:History.forward,args:arguments,queue:queue});return false;}
History.busy(true);History.doubleCheck(function(){History.forward(false);});history.go(1);return true;};History.go=function(index,queue){var i;if(index>0){for(i=1;i<=index;++i){History.forward(queue);}}
else if(index<0){for(i=-1;i>=index;--i){History.back(queue);}}
else{throw new Error('History.go: History.go requires a positive or negative integer passed.');}
return History;};if(History.emulated.pushState){var emptyFunction=function(){};History.pushState=History.pushState||emptyFunction;History.replaceState=History.replaceState||emptyFunction;}
else{History.onPopState=function(event,extra){var stateId=false,newState=false,currentHash,currentState;History.doubleCheckComplete();currentHash=History.getHash();if(currentHash){currentState=History.extractState(currentHash||document.location.href,true);if(currentState){History.replaceState(currentState.data,currentState.title,currentState.url,false);}
else{History.Adapter.trigger(window,'anchorchange');History.busy(false);}
History.expectedStateId=false;return false;}
stateId=History.Adapter.extractEventData('state',event,extra)||false;if(stateId){newState=History.getStateById(stateId);}
else if(History.expectedStateId){newState=History.getStateById(History.expectedStateId);}
else{newState=History.extractState(document.location.href);}
if(!newState){newState=History.createStateObject(null,null,document.location.href);}
History.expectedStateId=false;if(History.isLastSavedState(newState)){History.busy(false);return false;}
History.storeState(newState);History.saveState(newState);History.setTitle(newState);History.Adapter.trigger(window,'statechange');History.busy(false);return true;};History.Adapter.bind(window,'popstate',History.onPopState);History.pushState=function(data,title,url,queue){if(History.getHashByUrl(url)&&History.emulated.pushState){throw new Error('History.js does not support states with fragement-identifiers (hashes/anchors).');}
if(queue!==false&&History.busy()){History.pushQueue({scope:History,callback:History.pushState,args:arguments,queue:queue});return false;}
History.busy(true);var newState=History.createStateObject(data,title,url);if(History.isLastSavedState(newState)){History.busy(false);}
else{History.storeState(newState);History.expectedStateId=newState.id;history.pushState(newState.id,newState.title,newState.url);History.Adapter.trigger(window,'popstate');}
return true;};History.replaceState=function(data,title,url,queue){if(History.getHashByUrl(url)&&History.emulated.pushState){throw new Error('History.js does not support states with fragement-identifiers (hashes/anchors).');}
if(queue!==false&&History.busy()){History.pushQueue({scope:History,callback:History.replaceState,args:arguments,queue:queue});return false;}
History.busy(true);var newState=History.createStateObject(data,title,url);if(History.isLastSavedState(newState)){History.busy(false);}
else{History.storeState(newState);History.expectedStateId=newState.id;history.replaceState(newState.id,newState.title,newState.url);History.Adapter.trigger(window,'popstate');}
return true;};}
if(sessionStorage){try{History.store=JSON.parse(sessionStorage.getItem('History.store'))||{};}
catch(err){History.store={};}
History.normalizeStore();}
else{History.store={};History.normalizeStore();}
History.Adapter.bind(window,"beforeunload",History.clearAllIntervals);History.Adapter.bind(window,"unload",History.clearAllIntervals);History.saveState(History.storeState(History.extractState(document.location.href,true)));if(sessionStorage){History.onUnload=function(){var currentStore,item;try{currentStore=JSON.parse(sessionStorage.getItem('History.store'))||{};}
catch(err){currentStore={};}
currentStore.idToState=currentStore.idToState||{};currentStore.urlToId=currentStore.urlToId||{};currentStore.stateToId=currentStore.stateToId||{};for(item in History.idToState){if(!History.idToState.hasOwnProperty(item)){continue;}
currentStore.idToState[item]=History.idToState[item];}
for(item in History.urlToId){if(!History.urlToId.hasOwnProperty(item)){continue;}
currentStore.urlToId[item]=History.urlToId[item];}
for(item in History.stateToId){if(!History.stateToId.hasOwnProperty(item)){continue;}
currentStore.stateToId[item]=History.stateToId[item];}
History.store=currentStore;History.normalizeStore();sessionStorage.setItem('History.store',JSON.stringify(currentStore));};History.intervalList.push(setInterval(History.onUnload,History.options.storeInterval));History.Adapter.bind(window,'beforeunload',History.onUnload);History.Adapter.bind(window,'unload',History.onUnload);}
if(!History.emulated.pushState){if(History.bugs.safariPoll){History.intervalList.push(setInterval(History.safariStatePoll,History.options.safariPollInterval));}
if(navigator.vendor==='Apple Computer, Inc.'||(navigator.appCodeName||'')==='Mozilla'){History.Adapter.bind(window,'hashchange',function(){History.Adapter.trigger(window,'popstate');});if(History.getHash()){History.Adapter.onDomLoad(function(){History.Adapter.trigger(window,'hashchange');});}}}};History.init();})(window);(function($){$.newgallery=function(galleryId,bizObjectID,params)
{var o=$.extend({"detailsIdSuffix":"-details","detailsClass":"details","carouselIdSuffix":'-carousel',"slideClass":"gallery-slide","slideIdSuffix":"-slide","galleryThumbsUlClass":"gallery-thumbs","thumbClass":"gallery-item","thumbIdSuffix":"-thumb","prevClass":"gallery-prev","nextClass":"gallery-next","expandClass":"gallery-expand","prevHoverId":"prevThumb","nextHoverId":"nextThumb","thumbWrapClass":"gallery-thumb-wrap","thumbPrevClass":"thumb-list-prev","thumbNextClass":"thumb-list-next","currentClass":"current","showingClass":"showing","zoomPrependId":"pagecontent","slideCountClass":"slide-count-current","adClickInterval":10,"useAdClickInterval":0,"standardWidth":Math.round($('.gallery-grow-wrap').width()/10)*10,"standardImgWidth":632,"standardImgHeight":356,"standardHeight":$('.gallery-content').height(),"expandedWidth":Math.round($('.gallery-container').outerWidth()/10)*10,"expandedImgWidth":960,"expandedImgHeight":540},params);if(typeof HDN!='undefined'){if(HDN.slideshowEIW){o.expandedImgWidth=HDN.slideshowEIW;}
if(HDN.slideshowEIH){o.expandedImgHeight=HDN.slideshowEIH;}}
var gallery,galleryDataHtmlMap,details,carousel,slides,thumbs,lastSlideIndex,relatedThumbLinkId,relatedSlideID,adTimer=0,showingRelated=false,relatedRefreshed=false,currentSlideURL=null,showingNav=false,currentSlide,slideId,currentIndex,urlMatch=/(gallery|slideshow|articleGallery)\/([a-zA-Z0-9_\-]+)-([a-zA-Z0-9_]+)\/([a-zA-Z0-9_\-]+)-([a-zA-Z0-9_]+).php/,hashMatch=/(?:#?!\/(gallery-\d+)\/((?:media|photo|item|related)-\d+))?$/,clicksSinceAd=0,relatedData,relatedSlide,bGalIsLarge=false;var myself=this;myself.holdRefreshForInterstitial=false;var galleryInit=function()
{gallery=$(galleryId);details=$(galleryId+o.detailsIdSuffix);carousel=$(galleryId+o.carouselIdSuffix);width=gallery.width();hideInterstitialAd();initSlides();slides=$('.'+o.slideClass,gallery);thumbs=$('.'+o.thumbClass,carousel);currentSlide=currentIndex=null;lastSlideIndex=slides.length-1;initHistory();$(document).keyup(keyup);$('.'+o.slideClass).not(':last').click(next);$(window).bind('onGalleryViewAll',showViewAll);$('.gallery-view-all-button').click(showViewAll);if('ontouchstart'in document.documentElement){gallery.swipe({'swipeRight':prev,'swipeLeft':next});}
$('a',thumbs).click(thumbClick);$('.'+o.thumbPrevClass).click(pageCarouselPrev);$('.'+o.thumbNextClass).click(pageCarouselNext);initRelated();changeState({url:location.href},true);$('.'+o.prevClass,gallery).click(prev);$('.'+o.nextClass,gallery).click(next);$('.'+o.prevClass,details).click(prev);$('.'+o.nextClass,details).click(next);$('.'+o.expandClass,gallery).toggle(expand,contract);navigationOn();showCarouselNav();$('#right-column-gallery-promo').show().insertAfter($('#A300').parent());};var initHistory=function()
{if($.browser.msie&&parseInt($.browser.version,10)==7){$("body").addClass("photo-gallery");return;}};var changeState=function(state,firstLoad,specificID)
{slideId=null;if(typeof specificID!='undefined'){slideId=specificID;}else{var matches=state.url.match(urlMatch);currentSlideURL=state.url;if(matches==null){slideId=gallery.find('ul').children('li').first().attr('id').replace(o.slideIdSuffix,'');}else{slideId=matches[4]+'-'+matches[5];}}
changeSlide(slideId,firstLoad);$("#gallery_view_all_container").trigger('close');}
var thumbClick=function(click)
{if(click){click.preventDefault?click.preventDefault():click.returnValue=false;click.stopPropagation();}
if(this.id==relatedThumbLinkId){hideInterstitialAd();showingRelated=true;relatedRefreshed=false;changeState({},false,relatedSlideID);return;}
showingRelated=false;HDN.disposeAdPosition('slideshow','Last300','gallery-lastslide-mediumrectangle');if((clicksSinceAd>=o.adClickInterval)&&o.useAdClickInterval){displayInterstitialAd();myself.holdRefreshForInterstitial=true;}else{hideInterstitialAd();if(myself.holdRefreshForInterstitial){refreshPageAds();}
myself.holdRefreshForInterstitial=false;}
var unsupportedIEVersions=[7,8,9];var stateChangeResult=null;if($.browser.msie&&(parseInt($.browser.version,10)==7)){stateChangeResult=false;}else{stateChangeResult=window.History.replaceState({url:this.href,title:document.title},document.title,this.href);}
if(!stateChangeResult||($.browser.msie&&($.inArray(parseInt($.browser.version,10),unsupportedIEVersions)!=-1))){changeState({url:this.href},false);return;}
showCarouselNav();changeState({url:this.href},false);};var keyup=function(key)
{if(key.which==37)
prev();else if(key.which==39)
next();};var updateNavButtons=function()
{if(showingRelated){if(showingNav){$('.'+o.nextClass).each(function(){$(this).fadeOut(0);});}}else if(showingNav){$('.'+o.nextClass).each(function(){$(this).fadeIn(0);});}
if(currentIndex==0){if(showingNav){$('.'+o.prevClass).each(function(){$(this).fadeOut(0);});}}else if(showingNav){$('.'+o.prevClass).each(function(){$(this).fadeIn(0);});}}
var navigationOn=function()
{showingNav=true;if(currentIndex!=0){$('.'+o.prevClass).fadeIn("slow");$('.'+o.prevClass).css('z-index',1000);}
else
$('.'+o.prevClass).fadeOut(0);if(showingRelated){$('.'+o.nextClass).fadeOut(0);}else{$('.'+o.nextClass).fadeIn("slow");}
$('.'+o.expandClass).fadeIn("slow");};var navigationOff=function()
{showingNav=false;$('.'+o.prevClass).fadeOut("slow");$('.'+o.nextClass).fadeOut("slow");$('.'+o.expandClass).fadeOut("slow");};var changeSlide=function(slideId,firstLoad)
{slideId+=o.slideIdSuffix;if(!firstLoad&&slideId==currentSlide.attr('id')){return false;}
if(showingRelated&&bGalIsLarge){refreshLastSlideAd();}
var slide=$('#'+slideId,gallery);if(!slide.length){if(firstLoad){slide=slides.eq(0);}else{return false;}}
currentSlide=slide;ensureSlideImgLoaded(currentSlide);currentIndex=slides.index(slide);transition(firstLoad);if(!firstLoad)
updatePaginationText(currentIndex);updatePageData();updateCarousel();updateComments();updateSharebar();updateNavButtons();if(!firstLoad){if(!myself.holdRefreshForInterstitial){refreshPageAds();}
HDN.refresh('photo',getCurrentSlideNumber(),false,true);++clicksSinceAd;}
return true;};var getCurrentSlideNumber=function()
{var num=currentIndex+1;var total=slides.length-1;if(num>total){num=total;}
return num;}
var transition=function(skipAnimation)
{if(!skipAnimation){slides.animate(({zindex:"-1",opacity:"0"},2000),{complete:function(){slides.removeClass(o.currentClass);slides.eq(currentIndex).animate(({zindex:"0",opacity:"1"})).addClass(o.currentClass);}});}else{slides.removeClass(o.currentClass).eq(currentIndex).addClass(o.currentClass);}
checkSrc();};var displayInterstitialAd=function()
{try
{HDN.refreshAdPosition('slideshow','Int300','gallery-interstitial-mediumrectangle');$('.interstitialAd').show();}
catch(e){}
clicksSinceAd=0;};var hideInterstitialAd=function()
{HDN.disposeAdPosition('slideshow','Int300','gallery-interstitial-mediumrectangle');$('.interstitialAd').hide();};var updatePaginationText=function(slideIndex)
{$('.'+o.slideCountClass).text((slideIndex+1));};var updateCarousel=function()
{var start=currentIndex-5,lastIndex=lastSlideIndex,count=11,end;if(!bGalIsLarge){start=currentIndex-3,lastIndex=lastSlideIndex,count=7,end;}
if(start<0){start=0;}
end=start+count;if(lastIndex>count&&end>lastIndex){end=lastIndex,start=lastIndex-count;}
thumbs.removeClass(o.showingClass).slice(start,end).addClass(o.showingClass);thumbs.removeClass(o.currentClass).eq(currentIndex).addClass(o.currentClass);thumbs.removeClass('last-visible').eq(end-1).addClass('last-visible');for(var i=start;i<=end;i++){ensureSlideImgLoaded(slides.eq(i));}};var showCarouselNav=function()
{var totalThumbs=$('.'+o.galleryThumbsUlClass+' li'+'.'+o.thumbClass+":not('.related-item')");var firstImageShowing=$('.'+o.galleryThumbsUlClass+' li'+'.'+o.showingClass+':first');var lastImageShowing=$('.'+o.galleryThumbsUlClass+' li'+'.'+o.showingClass+":not('.related-item'):last");var first=$('.'+o.galleryThumbsUlClass+' li').index(firstImageShowing);var last=$('.'+o.galleryThumbsUlClass+' li').index(lastImageShowing);if(first==0&&last==(totalThumbs.length-1)){$('.'+o.thumbPrevClass).fadeOut("slow"),$('.'+o.thumbNextClass).fadeOut("slow");return;}
if(first!=0&&last!=(totalThumbs.length-1)){$('.'+o.thumbPrevClass).fadeIn("slow"),$('.'+o.thumbNextClass).fadeIn("slow");}else if(first!=0){$('.'+o.thumbPrevClass).fadeIn("slow"),$('.'+o.thumbNextClass).fadeOut("slow");}else{$('.'+o.thumbNextClass).fadeIn("slow"),$('.'+o.thumbPrevClass).fadeOut("slow");}};var fixSlideAspect=function(img)
{if(img.getAttribute('aspect_sized')==1337){return;}
if(img.width==0||img.height==0){return;}
var imageratio=img.height/img.width;var displayratio=0.5625;img.setAttribute('aspect_sized',1337);if(imageratio>displayratio){$(img).addClass('tall-image');}else{$(img).addClass('wide-image');if(imageratio<displayratio){img.setAttribute('image_ratio',imageratio);parentWidth=parseInt($(img).css("max-width"));parentHeight=parseInt($(img).css("max-height"));$(img).css('margin-top',parseInt((parentHeight-(parentWidth*imageratio))/2));}}}
var ensureSlideImgLoaded=function(slide)
{var slideImg=slide.find('img:first');var imgElm=$(slideImg)[0];if(typeof(imgElm)=='undefined'||imgElm==null){return;}
if(slideImg.attr('src')!=slideImg.attr('img')){imgElm.onload=function(){fixSlideAspect(imgElm);};slideImg.attr('src',slideImg.attr('img'));}else if($.browser.msie){fixSlideAspect(imgElm);}};var refreshPageAds=function()
{if(adTimer){clearTimeout(adTimer);}
adTimer=setTimeout(function(){adTimer=0;HDN.refresh('photo',currentIndex,true,false);},2000);};var updatePageData=function()
{var html=currentSlide.find('.'+o.detailsClass).html();if(html){details.show().empty().append(currentSlide.find('.'+o.detailsClass).clone(true).children());}else{details.hide();}
$('meta[name="description"]').attr('content',$('.gallery-caption',currentSlide));$('meta[property="og:title"]').attr('content',document.title);$('meta[property="og:url"]').attr('content',location.href);$('meta[property="og:image"]').attr('content',$('img',currentSlide).attr('src'));};var updateComments=function()
{var data=getCurrentSlideData();var commentID=data.bizClass+'-'+data.id;if(typeof window.viafoura!='undefined'){commentID=HDN.site+'-'+commentID;}
if(HDN.resetComments){HDN.resetComments(commentID);}
else if(window.showFBCommentBlock){window.showFBCommentBlock(commentID);}}
var getCurrentSlideData=function()
{var id=currentSlide.attr('id');var data=galleryDataHtmlMap[id];return data;}
var refreshLastSlideAd=function()
{if(showingRelated&&!relatedRefreshed){relatedRefreshed=true;try
{HDN.refreshAdPosition('slideshow','Last300','gallery-lastslide-mediumrectangle');myself.holdRefreshForInterstitial=true;}
catch(e){}}}
var expand=this.expand=function()
{refreshLastSlideAd();$(".gallery-last-slide-ad").show();$(".gallery-grow-wrap").animate({width:o.expandedWidth+"px"},{queue:false,duration:600,complete:function(){$(this).addClass("wide");$(this).parent().filter(".gallery-container").addClass("wide")
bGalIsLarge=true;updateCarousel();}});$(".gallery-content").animate({'min-width':o.expandedWidth+"px",'max-height':o.expandedImgHeight+"px"},{queue:false,duration:600,complete:function(){$(this).css("min-width","").css("max-height","");}});$(".gallery-slide.current").animate({'max-height':o.expandedImgHeight+"px",'max-width':o.expandedImgWidth+"px"},{queue:false,duration:600,complete:function(){$(this).css('max-width',"").css('max-height',"");}});$(".gallery-slide.current").find("img").animate({'max-height':o.expandedImgHeight+"px",'max-width':o.expandedImgWidth+"px"},{queue:false,duration:600,complete:function(){$(this).css("max-width","").css("max-height","");}});$('img[image_ratio]').each(function(){imgRatio=Number($(this).attr('image_ratio'));$(this).css('margin-top',parseInt((o.expandedImgHeight-(o.expandedImgWidth*imgRatio))/2));});$(".interstitialAd").animate({width:o.expandedImgWidth+"px",height:o.expandedImgHeight+"px"},{queue:false,duration:600});$(".gallery_last_slide_container").animate({width:o.expandedImgWidth+"px",height:o.expandedImgHeight+"px"},{queue:false,duration:600});$(".gallery_last_slide_contents").animate({width:o.expandedImgWidth+"px",height:o.expandedImgHeight+"px"},{queue:false,duration:600});};var contract=this.contract=function()
{$(".gallery-last-slide-ad").hide();$(".gallery-slide.current").find("img").animate({'max-height':o.standardImgHeight+"px",'max-width':o.standardImgWidth+"px"},{queue:false,duration:600,complete:function(){$(this).css('max-width',"").css('max-height',"");}});$(".gallery-slide.current").animate({'max-height':o.standardImgHeight+"px",'max-width':o.standardImgWidth+"px"},{queue:false,duration:600,complete:function(){$(this).css('max-width',"").css('max-height',"");}});$(".gallery-content").animate({'min-width':o.standardImgWidth+"px",'max-height':o.standardImgHeight+"px"},{queue:false,duration:600,complete:function(){$(this).css("min-width","").css("max-height","");}});$(".gallery-grow-wrap").animate({width:o.standardWidth+"px"},{queue:false,duration:600,complete:function(){$(this).removeClass("wide");$(this).parent().filter(".gallery-container").removeClass("wide")
bGalIsLarge=false;updateCarousel();}});$('img[image_ratio]').each(function(){imgRatio=Number($(this).attr('image_ratio'));$(this).css('margin-top',parseInt((o.standardImgHeight-(o.standardImgWidth*imgRatio))/2));});$(".interstitialAd").animate({width:o.standardImgWidth+"px",height:o.standardImgHeight+"px"},{queue:false,duration:600});$(".gallery_last_slide_container").animate({width:o.standardImgWidth+"px",height:o.standardImgHeight+"px"},{queue:false,duration:600});$(".gallery_last_slide_contents").animate({width:o.standardImgWidth+"px",height:o.standardImgHeight+"px"},{queue:false,duration:600});};var initRelated=function()
{$.get('/rest/1.0/gallery/relatedgalleries-'+bizObjectID+'.html',function(data){relatedData=data;$('#gallery_other_module').empty().append(data);copyRelatedGalleries('.galleryTab1_Related');copyRelatedGalleries('.galleryTab2_Popular');copyRelatedGalleries('.galleryTab2_Recent');$(".gpwide-tab > a").mouseenter(function(){$(this).css('cursor','pointer');});$(".gpwide-tab > a").mouseleave(function(){$(this).css('cursor','default');});initRelatedTabs(false);initRelatedTabs(true);jQuery('.galleryTab1_Related').slideshow(false);jQuery('.galleryTab2_Popular').slideshow(false);jQuery('.galleryTab2_Recent').slideshow(false);if($(".galleryTab1_Related").children().length==0){$("#gpwide-tab-3-link").mouseenter();$("#gpwide-tab-3-link-lastslide").mouseenter();$("#gpwide-tab-1-lastslide").css("display","none");}
$(".galleryTab1_Related .nav a").click(function(e){var ctabs=$(this).closest(".galleryTab1_Related").find("div.tab");ctab=ctabs.filter('.current');pagecount=$('.gallery-promo-wide .pagecount[pagecount="Related"]').find(".dot");pagecount.removeClass("dot-on").eq(ctabs.index(ctab)).addClass("dot-on");});$(".galleryTab2_Popular .nav a").click(function(e){var ctabs=$(this).closest(".galleryTab2_Popular").find("div.tab");ctab=ctabs.filter('.current');pagecount=$('.gallery-promo-wide .pagecount[pagecount="Popular"]').find(".dot");pagecount.removeClass("dot-on").eq(ctabs.index(ctab)).addClass("dot-on");});$(".galleryTab2_Recent .nav a").click(function(e){var ctabs=$(this).closest(".galleryTab2_Recent").find("div.tab");ctab=ctabs.filter('.current');pagecount=$('.gallery-promo-wide .pagecount[pagecount="Recent"]').find(".dot");pagecount.removeClass("dot-on").eq(ctabs.index(ctab)).addClass("dot-on");});initReplayOption();}).error(function(){$('#gallery_other_module').empty();});};var initReplayOption=function()
{var vTab=null;if($(".galleryTab1_Related-lastslide").children().length>0){vTab=$(".galleryTab1_Related-lastslide");$(".galleryTab1_Related-lastslide li:last-child").remove()}else if($(".galleryTab2_Popular-lastslide").children().length>0){vTab=$(".galleryTab2_Popular-lastslide");$(".galleryTab2_Popular-lastslide li:last-child").remove()}else{vTab=$(".galleryTab2_Recent-lastslide");$(".galleryTab2_Recent-lastslide li:last-child").remove()}
vTab.prepend($(".gallery-replay-slide").children());$(".gallery-replay-slide-item").click(function(){thumbs.eq(0).find('a').click();});}
var initRelatedTabs=function(isLastSlide)
{var sLastSlide='';if(isLastSlide){sLastSlide='-lastslide';}
$("#gpwide-tab-1-link"+sLastSlide).mouseenter(function(){$("#gpwide-tab-1"+sLastSlide).addClass("gpwide-on"),$("#gpwide-tab-2"+sLastSlide).removeClass("gpwide-on"),$("#gpwide-tab-3"+sLastSlide).removeClass("gpwide-on"),$(".galleryTab1_Related"+sLastSlide).css("display","block"),$(".galleryTab2_Popular"+sLastSlide).css("display","none"),$(".galleryTab2_Recent"+sLastSlide).css("display","none");$(".gallery-promo-wide .pagecount").removeClass("current");$('.pagecount[pagecount="Related"]').addClass("current");});$("#gpwide-tab-2-link"+sLastSlide).mouseenter(function(){$("#gpwide-tab-1"+sLastSlide).removeClass("gpwide-on"),$("#gpwide-tab-2"+sLastSlide).addClass("gpwide-on"),$("#gpwide-tab-3"+sLastSlide).removeClass("gpwide-on"),$(".galleryTab1_Related"+sLastSlide).css("display","none"),$(".galleryTab2_Popular"+sLastSlide).css("display","block"),$(".galleryTab2_Recent"+sLastSlide).css("display","none");$(".gallery-promo-wide .pagecount").removeClass("current");$('.pagecount[pagecount="Popular"]').addClass("current");});$("#gpwide-tab-3-link"+sLastSlide).mouseenter(function(){$("#gpwide-tab-1"+sLastSlide).removeClass("gpwide-on"),$("#gpwide-tab-2"+sLastSlide).removeClass("gpwide-on"),$("#gpwide-tab-3"+sLastSlide).addClass("gpwide-on"),$(".galleryTab1_Related"+sLastSlide).css("display","none"),$(".galleryTab2_Popular"+sLastSlide).css("display","none"),$(".galleryTab2_Recent"+sLastSlide).css("display","block");$(".gallery-promo-wide .pagecount").removeClass("current");$('.pagecount[pagecount="Recent"]').addClass("current");});};var copyRelatedGalleries=function(sClassName)
{var lastSlideClass=sClassName+'-lastslide';var elems=$(sClassName+' li');var count=elems.length;if(!count&&sClassName==".galleryTab2_Popular"){$("#gpwide-tab-2-lastslide").css("display","none");}
elems.each(function(index){$(this).clone().appendTo(lastSlideClass);if(!--count){jQuery(lastSlideClass).slideshow(false);jQuery(lastSlideClass).each(function(){$(this).find('li').each(function(){$(this).attr("class","item");});$(this).find('img[src*="pageart_n.jpg"]').each(function(){var newSrc=$(this).attr('src');var newStr=newSrc.replace("pageart_n.jpg","band_small.jpg");$(this).attr('src',newStr);});$(this).find('span[class*="sc-caret-right"]').remove();});}});};var initSlides=function(data)
{var html='';var slideHtml='';galleryDataHtmlMap=new Array();var lastData=$.extend({},galleryData[galleryData.length-1]);galleryData[galleryData.length]=lastData;var bakedId=$('div.gallery-content li').attr('id');for(var i=0;i<galleryData.length;i++){data=galleryData[i];data.idxcnt=i+1;data.creditStyleTag=data.credit?'':'display:none;';data.titleStyleTag=data.displayTitle?'':'display:none;';data.captionStyleTag=data.caption?'':'display:none;';data.relatedStyleTag=data.related?'':'display:none;';if(data==lastData){var mediaID=data.id;data.id='related-'+data.id;data=$.extend(data,{"id":data.id,"img":getMediaManagerUrl(mediaID,(data.revisionNumber?data.revisionNumber:0),'960x540')});}else{data=$.extend(data,{"id":data.id,"img":getMediaManagerUrl(data.id,(data.revisionNumber?data.revisionNumber:0),'960x540')});}
galleryDataHtmlMap[data.bizClass+'-'+data.id+'-slide']=data;if(data.bizClass=='photo'&&'photo-'+data.id+'-slide'==bakedId){slideHtml=$('#'+bakedId).closest('ul').html();}else{slideHtml=$.tmpl('#tmpl-gallery-'+data.bizClass+'-slide',data);if(jQuery.inArray(data.bizClass,['photo','item','media'])>-1)
slideHtml+=$.tmpl('#tmpl-gallery-slide-details',data);}
html+=slideHtml;}
gallery.find('ul').html(html);initLastSlide(lastData);};var getCurrentSlideIndex=this.getCurrentSlideIndex=function(){return currentIndex;}
var getTotalSlides=this.getTotalSlides=function(){return slides.length;}
var updateSharebar=function()
{var data=getCurrentSlideData();if(data.title==""){data.title=data.bizClass;}
$("#sharebox").sharebar("option","url",{title:escape(data.title),url:escape(currentSlideURL),object:data.bizClass,objectid:data.id});};var initLastSlide=function(data)
{relatedSlideID=data.bizClass+'-'+data.id;relatedThumbLinkId=relatedSlideID+'-link';galleryId=galleryId.substr(1);var relatedThumb=$('<li id="'+data.id+o.thumbIdSuffix+'" class="gallery-item related-item last"><a id="'+relatedThumbLinkId+'" href="'+data.url+'"></a></li>');relatedThumb.appendTo(carousel);$(".gallery_last_slide_container").appendTo($('#'+relatedSlideID+'-slide'));};var initViewAll=function()
{if($('#gallery-view-all-list').children().length==1){var html='';data=null;for(var i=0;i<galleryData.length-1;i++){data=galleryData[i];data=$.extend(data,{"id":data.id});html+=$.tmpl('#tmpl-gallery-view-all-item',data);}
$('#gallery-view-all-list').find('script').remove();$('#gallery-view-all-list').append(html);$(".gallery-va-list-item a").mouseenter(function(){if(!$(this).hasClass('selected_item')){$(this).stop(true,true).animate({borderColor:"#FFFFFF"},400);}}).mouseleave(function(){if(!$(this).hasClass('selected_item')){$(this).stop(true,true).animate({borderColor:"#151515",queue:false},600);}});$('.gallery-va-list-item a').click(thumbClick);if(slides.length-1<=18){$('.gallery-va-wrap').css({height:"274px"});}else if(slides.length-1<=28){$('.gallery-va-wrap').css({height:"374px"});}
$('.view-all-close-a').click(function(){$("#gallery_view_all_container").trigger('close');});return false;}
return true;};var showViewAll=function()
{var data=getCurrentSlideData();initViewAll();$(".gallery-va-list-item a").removeClass('selected_item');$('#gallery-view-all-'+data.id).addClass('selected_item');$("#gallery_view_all_container").lightbox_me({centered:true,overlaySpeed:250,lightboxSpeed:0,overlayCSS:{background:'black',opacity:.4},onLoad:function(){try
{HDN.refreshAdPosition('slideshow','All300','gallery-viewall-mediumrectangle');}
catch(e){}},onClose:function(){HDN.disposeAdPosition('slideshow','All300','gallery-viewall-mediumrectangle');},zIndex:9999});}
var first=this.first=function()
{thumbs.eq(0).find('a').click();};var prev=this.prev=function(click)
{if(click){click.preventDefault?click.preventDefault():click.returnValue=false;click.stopPropagation();}
if($('.interstitialAd').is(':visible')){hideInterstitialAd();if(myself.holdRefreshForInterstitial){refreshPageAds();}
myself.holdRefreshForInterstitial=false;return;}
if(currentIndex==slides.length-1){showingRelated=false;HDN.disposeAdPosition('slideshow','Last300','gallery-lastslide-mediumrectangle');changeState({url:currentSlideURL},false);if(myself.holdRefreshForInterstitial){refreshPageAds();}
myself.holdRefreshForInterstitial=false;return;}
thumbs.eq(currentIndex).prev().find('a').click();showCarouselNav();};var next=this.next=function(click)
{if(click){click.preventDefault?click.preventDefault():click.returnValue=false;click.stopPropagation();}
if($('.interstitialAd').is(':visible')){hideInterstitialAd();if(myself.holdRefreshForInterstitial){refreshPageAds();}
myself.holdRefreshForInterstitial=false;return;}
thumbs.eq(currentIndex).next().find('a').click();showCarouselNav();};var last=this.last=function()
{thumbs.not('.related-item').last().find('a').click();};var pageCarouselNext=this.pageCarouselNext=function(click)
{click.preventDefault();var totalThumbs=$('.'+o.galleryThumbsUlClass+' li'+'.'+o.thumbClass+":not('.related-item')");var lastImageShowing=$('.'+o.galleryThumbsUlClass+' li'+'.'+o.showingClass+":not('.related-item'):last");var last=$('.'+o.galleryThumbsUlClass+' li').index(lastImageShowing);if(last==(totalThumbs.length-1)){return;}
var start=last+1,lastIndex=lastSlideIndex,count=7,end;if(bGalIsLarge){count=11;}
if(start>lastIndex-count){start=lastIndex-count;}
end=start+count;if(lastIndex>count&&end>lastIndex){end=lastIndex,start=lastIndex-count;}
thumbs.removeClass(o.showingClass).slice(start,end).addClass(o.showingClass);thumbs.removeClass('last-visible').eq(end-1).addClass('last-visible');showCarouselNav();};var pageCarouselPrev=this.pageCarouselPrev=function(click)
{click.preventDefault();var start=0;var firstImageShowing=$('.'+o.galleryThumbsUlClass+' li'+'.'+o.showingClass+':first');var firstImageShowingIndex=$('.'+o.galleryThumbsUlClass+' li').index(firstImageShowing);if(firstImageShowingIndex==0){return;}
var start=firstImageShowingIndex-11,lastIndex=lastSlideIndex,count=11,end;if(!bGalIsLarge){start=firstImageShowingIndex-7,lastIndex=lastSlideIndex,count=7,end;}
if(start<0){start=0;}
end=start+count;if(lastIndex>count&&end>lastIndex){end=lastIndex,start=lastIndex-count;}
thumbs.removeClass(o.showingClass).slice(start,end).addClass(o.showingClass);thumbs.removeClass('last-visible').eq(end-1).addClass('last-visible');showCarouselNav();};var getThumbId=this.getThumbId=function(dir,currentSlideId)
{var slideIndexForThumb,slideIdForCurrentThumb,slideIndexForCurrentThumb,thumbId,endIndex,startIndex;startIndex=0;endIndex=slides.length-2;slideIdForCurrentThumb=currentSlideId.replace("-slide","-thumb");slideIndexForCurrentThumb=$('#'+slideIdForCurrentThumb).index();if(dir=='prev'){slideIndexForThumb=slideIndexForCurrentThumb-1;}else{slideIndexForThumb=slideIndexForCurrentThumb+1;}
if((slideIndexForThumb<startIndex)||(slideIndexForThumb>endIndex)){thumbId='outOfRange'
return thumbId;}
thumbId=$('.'+o.galleryThumbsUlClass+' li').eq(slideIndexForThumb).attr("id");return thumbId;};var getThumbForHover=this.getThumbForHover=function(thumbId)
{var imgHtml=$('#'+thumbId).html();return imgHtml;};var related=this.related=function()
{thumbs.filter('.related-item').find('a').click();};var getThumbs=this.getThumbs=function()
{return thumbs;};var log=function(str)
{if(window.console)
console.log(str);};galleryInit();return this;};})(jQuery);(function($){$.tmpl=function(id,data){if(!$(id).length){return'';}
this.cache=this.cache||{};this.cache[id]=this.cache[id]||$(id).html();return this.cache[id].replace(/\{\$([^\}]+)\}/g,function(match,key){var keys=key.split('.'),val=data;for(var k in keys)val=val[keys[k]]||'';return val;});};})(jQuery);function checkSrc(){if($.browser.msie&&$.browser.version==='8.0'){var test_src=$('.gallery-slide.current iframe').attr('src');if(test_src!==null&&typeof test_src!=='undefined'&&test_src.indexOf('//maps.google.com/')>0){$('.gallery-slide.current iframe').attr('src',$('.gallery-slide.current iframe').attr('src'));}}}
function cmfBucketDirs(id){var val=parseInt(id,10).toString(8);if(val.length%2)
val='0'+val;val=val.replace(/(\d{2})/g,'/$1');return val.replace(/\d{2}$/,id);}
function getMediaManagerUrl(id,rev,format){var host=location.host.replace(/(www|cmf|preview)\./g,'').split('.');env=(host.length>2)?'.'+host[0]:'';env=env.replace(/^\.redesign/,'');url='http://ww'+((id%4)+1)+env+'.hdnux.com/photos'
+cmfBucketDirs(id)+'/'+(rev||0)+'/'+(format?format+'.jpg':'');return url;}
(function($){$.fn.swipe=function(options){var defaults={threshold:{x:10,y:30},swipeLeft:function(){},swipeRight:function(){}};$.extend(defaults,options);if(!this)return false;return this.each(function(){var me=$(this)
var originalCoord={x:0,y:0}
var finalCoord={x:0,y:0}
function touchMove(event){event.preventDefault();finalCoord.x=event.targetTouches[0].pageX
finalCoord.y=event.targetTouches[0].pageY}
function touchEnd(event){var changeY=originalCoord.y-finalCoord.y
if(changeY<defaults.threshold.y&&changeY>(defaults.threshold.y*-1)){changeX=originalCoord.x-finalCoord.x
if(changeX>defaults.threshold.x)
defaults.swipeLeft();if(changeX<(defaults.threshold.x*-1))
defaults.swipeRight();}}
function touchStart(event){originalCoord.x=event.targetTouches[0].pageX
originalCoord.y=event.targetTouches[0].pageY
finalCoord.x=originalCoord.x
finalCoord.y=originalCoord.y}
function touchCancel(event){}
this.addEventListener("touchstart",touchStart,false);this.addEventListener("touchmove",touchMove,false);this.addEventListener("touchend",touchEnd,false);this.addEventListener("touchcancel",touchCancel,false);});};})(jQuery);(function($){var _remove=$.fn.remove;$.fn.remove=function(selector,keepData){if(!keepData){$("*",this).add(this).each(function(){$(this).triggerHandler("remove");});}
return _remove.apply(this,arguments);};$.widget=function(name,base,prototype){var namespace=name.split(".")[0],fullName;name=name.split(".")[1];fullName=namespace+"-"+name;if(!prototype){prototype=base;base=$.Widget;}
$.expr[":"][fullName]=function(elem){return!!$.data(elem,name);};$[namespace]=$[namespace]||{};$[namespace][name]=function(options,element){if(arguments.length){this._createWidget(options,element);}};var basePrototype=new base();basePrototype.options=$.extend({},basePrototype.options);$[namespace][name].prototype=$.extend(true,basePrototype,{namespace:namespace,widgetName:name,widgetEventPrefix:$[namespace][name].prototype.widgetEventPrefix||name,widgetBaseClass:fullName},prototype);$.widget.bridge(name,$[namespace][name]);};$.widget.bridge=function(name,object){$.fn[name]=function(options){var isMethodCall=typeof options==="string",args=Array.prototype.slice.call(arguments,1),returnValue=this;options=!isMethodCall&&args.length?$.extend.apply(null,[true,options].concat(args)):options;if(isMethodCall&&options.substring(0,1)==="_"){return returnValue;}
if(isMethodCall){this.each(function(){var instance=$.data(this,name),methodValue=instance&&$.isFunction(instance[options])?instance[options].apply(instance,args):instance;if(methodValue!==instance&&methodValue!==undefined){returnValue=methodValue;return false;}});}else{this.each(function(){var instance=$.data(this,name);if(instance){if(options){instance.option(options);}
instance._init();}else{$.data(this,name,new object(options,this));}});}
return returnValue;};};$.Widget=function(options,element){if(arguments.length){this._createWidget(options,element);}};$.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(options,element){this.element=$(element).data(this.widgetName,this);this.options=$.extend(true,{},this.options,$.metadata&&$.metadata.get(element)[this.widgetName],options);var self=this;this.element.bind("remove."+this.widgetName,function(){self.destroy();});this._create();this._init();},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled "+
this.namespace+"-state-disabled");},widget:function(){return this.element;},option:function(key,value){var options=key,self=this;if(arguments.length===0){return $.extend({},self.options);}
if(typeof key==="string"){if(value===undefined){return this.options[key];}
options={};options[key]=value;}
$.each(options,function(key,value){self._setOption(key,value);});return self;},_setOption:function(key,value){this.options[key]=value;if(key==="disabled"){this.widget()
[value?"addClass":"removeClass"](this.widgetBaseClass+"-disabled"+" "+
this.namespace+"-state-disabled").attr("aria-disabled",value);}
return this;},enable:function(){return this._setOption("disabled",false);},disable:function(){return this._setOption("disabled",true);},_trigger:function(type,event,data){var callback=this.options[type];event=$.Event(event);event.type=(type===this.widgetEventPrefix?type:this.widgetEventPrefix+type).toLowerCase();data=data||{};if(event.originalEvent){for(var i=$.event.props.length,prop;i;){prop=$.event.props[--i];event[prop]=event.originalEvent[prop];}}
this.element.trigger(event,data);return!($.isFunction(callback)&&callback.call(this.element[0],event,data)===false||event.isDefaultPrevented());}};})(jQuery);(function($){$.widget("ui.sharebar",{commentCounterEl:null,slideCounterEl:null,share_box_social_datas:null,options:{shareBarLocation:"#sharebox",url:"http://seattlepi.com",title:"Seattlepi.com Hearst-Newspapers",defaultImg:"http://seattlepi.com/img/pages/article/opengraph_default.jpg",galleryUrl:"http://seattlepi.com/galleryurl",galleryTitle:"Seattlepi.com Hearst-Newspapers",imgDir:"../../img/pages/sharebar/",via:"chron",faceBookLike:false,twitter:false,googlePlus:false,pinterest:false,linkedin:false,email:false,comments:false,thumbsup:false,photogrid:false,object:"article",objectid:333444555,site:"21",sitename:"chron",socialMediaUlClass:"gallery-social-share",showAllClass:"gallery-view-all-button"},_create:function(){this.share_box_social_datas=[['facebook_like_share_box','Share','gallery-share-fb','btn_facebook_32x32.png','<a class="facebookshare share-box-imageshare" onclick="popup(\'http://www.facebook.com/sharer.php?u={url}&t={title}\');"  title="Share Image on Facebook" href="#">Image</a>','<a class="share-box-galleryshare" onclick="popup(\'http://www.facebook.com/sharer.php?u={galleryUrl}&t={galleryTitle}\');" href="#" title="Share Gallery on Facebbok">Gallery</a>'],['twitter_share_box','Share','gallery-share-tw','btn_twitter_32x32.png','<a class="twittershare share-box-imageshare" onclick="popup(\'http://twitter.com/share?url={url}&amp;text=Currently%20reading%20{title}%3A&amp;via={via}\');" href="#" title="Share Image on Twitter">Image</a>','<a class="share-box-galleryshare" onclick="popup(\'http://twitter.com/share?url={galleryUrl}&amp;text=Currently%20reading%20{galleryTitle}%3A&amp;via={via}\');" href="#" title="Share Gallery on Twitter">Gallery</a>'],['google_plus_share_box','Share','gallery-share-gp','btn_google_32x32.png','<a class="googleplushare share-box-imageshare" href="#" title="Send to a friend" onclick="popup(\'https://plusone.google.com/_/+1/confirm?hl=en&url={url}\');">Image</a>','<a class="emailshare share-box-galleryshare" title="+1 this gallery on Google" onclick="popup(\'https://plusone.google.com/_/+1/confirm?hl=en&url={galleryUrl}\');" href="#">Gallery</a>'],['pinterest_share_box','Share','gallery-share-pn','btn_pinterest_32x32.png','<a class="pinterest share-box-imageshare" onclick="popup(\'http://www.pinterest.com/pin/create/button/?url={url}&amp;media={defaultImg}&amp;description={title}\');" href="#" data-pin-do="none" data-pin-config="none">Image</a>','<a class="share-box-galleryshare" onclick="popup(\'http://www.pinterest.com/pin/create/button/?url={galleryUrl}&amp;media={defaultImg}&amp;description={galleryTitle}\');" href="#" data-pin-do="none" data-pin-config="none">Gallery</a>'],['linkedin_share_share_box','Share','gallery-share-li','btn_linkedin_32x32.png','<a class="linkedinshare share-box-imageshare" title="Share on LinkedIn" onclick="popup(\'http://www.linkedin.com/shareArticle?mini=true&url={url}&title={title}&summary=&source=Hearst Digital News\');">Image</a>','<a class="emailshare share-box-galleryshare" title="Share Gallery on LinkedIn" onclick="popup(\'http://www.linkedin.com/shareArticle?mini=true&url={galleryUrl}&title={galleryTitle}&summary=&source=Hearst Digital News\');" href="#">Gallery</a>'],['email_share_box','Share','gallery-share-em','btn_email_32x32.png','<a class="emailshare share-box-imageshare" href="mailto:?subject={title}&body={url}">Image</a>','<a class="share-box-galleryshare" href="mailto:?subject={galleryTitle}&body={galleryUrl}">Gallery</a>'],['comments_share_box','Buzz','gallery-share-cm','btn_comment_32x32.png','<a class="commentsshare" title="Comment on Image" href="test">Image</a>','<a class="emailshare" title="Comment on Gallery" href="testGallery">Gallery</a>'],['thumbsup_share_box','Vote&nbsp;Up','gallery-share-tu','btn_vote_32x32.png','<a class="thumbsupshare" title="Thumbs Up Image" href="#thumbsUpImage">Image</a>','<a class="emailshare" title="Thumbs Up Gallery" href="#thumbsUpGallery">Gallery</a>'],['photogrid_share_box','Photogrid','gallery-share-fg','btn_count_32x32.png','<a class="photogridshare" title="Open PhotoGrid" href="#test">Open</a>','<a class="emailshare" title=" Close PhotoGrid" href="#cheese">Close</a>']];var self=this,o=self.options,el=self.element,ul,share_box_social_datas=this.share_box_social_datas;ul=$("<ul/>").addClass(o.socialMediaUlClass).appendTo(o.shareBarLocation);for(var i=0,len=share_box_social_datas.length;i<len;i++){var data=share_box_social_datas[i];if(((o.faceBookLike==true)&&(data[0]=='facebook_like_share_box'))||((o.twitter==true)&&(data[0]=='twitter_share_box'))||((o.googlePlus==true)&&(data[0]=='google_plus_share_box'))||((o.pinterest==true)&&(data[0]=='pinterest_share_box'))||((o.linkedin==true)&&(data[0]=='linkedin_share_share_box'))||((o.email==true)&&(data[0]=='email_share_box'))||((o.thumbsup==true)&&(data[0]=='thumbsup_share_box'))){li=$("<li></li>").addClass(data[2]).appendTo(ul);var html="<div class=\"gallery-sharebox-container\">";var imgTag='<img src="'+o.imgDir+data[3]+'"'+'id="gallery-share-'+(i+1)+'">';var shareText='<span  class="gallery-share-box-text">'+data[1]+'</span>';var link=data[4].replace('{sitename}',o.sitename).replace('{object}',o.object).replace('{objectid}',o.objectid).replace('{site}',o.site).replace('{url}',o.url).replace('{title}',o.title).replace('{via}',o.via).replace('{defaultImg}',o.defaultImg);var galleryLink=data[5].replace('{sitename}',o.sitename).replace('{object}',o.object).replace('{objectid}',o.objectid).replace('{site}',o.site).replace('{galleryUrl}',o.galleryUrl).replace('{galleryTitle}',o.galleryTitle.replace(/'/g,"\\'")).replace('{via}',o.via).replace('{defaultImg}',o.defaultImg);html+=imgTag;html+='<ul id="share-details-'+(i+1)+'"'+'class="gallery-share-details"'+'style="display: none;"'+'>';html+='<li>'
html+=shareText;html+="</li>"
html+='<li>';html+=link;html+='</li>';html+='<li>';html+=galleryLink;html+='</ul></div>';$(html).appendTo(li);}
if((o.photogrid==true)&&(data[0]=='photogrid_share_box')){li2=$("<li><div class=\"gallery-sharebox-container\"><div class=\"gallery-share-slide-counter\"></div><img id='gallery-share-8' src='/img/hdn/pages/slideshow/item/btn_count_32x32.png'></div></li>").addClass(data[2]).appendTo('.'+o.socialMediaUlClass);}
if((o.comments==true)&&(data[0]=='comments_share_box')){li2=$("<li><div class=\"gallery-sharebox-container\"><img id='gallery-share-6' src='/img/hdn/pages/slideshow/item/btn_comment_32x32.png'></div></li>").addClass(data[2]).appendTo('.'+o.socialMediaUlClass);}}
(function($){$.fn.clickToggle=function(func1,func2){var funcs=[func1,func2];this.data('toggleclicked',0);this.click(function(){var data=$(this).data();var tc=data.toggleclicked;$.proxy(funcs[tc],this)();data.toggleclicked=(tc+1)%2;});return this;};}(jQuery));$('#gallery-share-8').click(function(){$('.'+o.showAllClass).click();});$('#gallery-share-6').click(function(event){event.preventDefault();if(window.showPluckCommentBlock){$('html,body').animate({scrollTop:$("#HDNPluck_topCnt").offset().top},'slow');}});if('ontouchstart'in document.documentElement){$('div'+o.shareBarLocation+' .gallery-social-share img').clickToggle(function(event){self._showMenu($(this).parent());},function(event){self._hideMenu($(this).parent());});}
else{$('.gallery-social-share li').bind('mouseenter',function(e){self._showMenu($(this).children('div.gallery-sharebox-container'));}).bind('mouseleave',function(e){self._hideMenu($(this).children('div.gallery-sharebox-container'));});}
var obj=$(this);var html="";self._initCommentCounter();self._initSlideCounter();},_showMenu:function(elmContainer)
{var o=this.options;var objects=$(elmContainer).children("div"+o.shareBarLocation+" li .gallery-share-details");objects.stop().show();objects.animate({opacity:1,'padding-top':10,'padding-right':10,'padding-bottom':10,'padding-left':10},"fast");},_hideMenu:function(elmContainer)
{var o=this.options;var objects=$(elmContainer).children("div"+o.shareBarLocation+" li .gallery-share-details");objects.stop().fadeTo(300,0,function(){$(this).hide();$(this).css({'padding-right':'0','padding-left':'0'});});},_initCommentCounter:function()
{var vSharebox=$(".gallery-share-cm .gallery-sharebox-container");if(vSharebox.length>0){vSharebox.append('<div class="gallery-share-cm-counter"></div>');this.commentCounterEl=$(".gallery-share-cm .gallery-sharebox-container .gallery-share-cm-counter");this.commentCounterEl.click(function(){$(".gallery-share-cm .gallery-sharebox-container ").find('img').click();});}},_initSlideCounter:function()
{var self=this;var vbox=$(".gallery-share-slide-counter");if(vbox.length>0){this.slideCounterEl=vbox;this.slideCounterEl.click(function(){self.slideCounterEl.parent().find('img').click();});}},_setOption:function(option,value){$.Widget.prototype._setOption.apply(this,arguments);var el=this.element,cap=el.next(),self=this,capHeight=cap.outerHeight()-parseInt(cap.css("paddingTop"))+parseInt(cap.css("paddingBottom"));switch(option){case"commentCounter":if(this.commentCounterEl!=null){this.commentCounterEl.text(value);}
break;case"slideCounter":if(this.slideCounterEl!=null){this.slideCounterEl.text(value);}
break;case"url":var share_box_social_image_links=this.share_box_social_datas;var elems=$(".gallery-share-details >li:nth-child(2) >a");var arr=jQuery.makeArray(elems);for(var i=0,len=arr.length;i<len;i++){var data1=share_box_social_image_links[i];var className="."+$(elems[i]).attr('class');var link2=$(elems[i]).attr('href');if(((className=='.facebookshare share-box-imageshare')&&(data1[0]=='facebook_like_share_box'))||((className=='.twittershare share-box-imageshare')&&(data1[0]=='twitter_share_box'))||((className=='.googleplushare share-box-imageshare')&&(data1[0]=='google_plus_share_box'))||((className=='.pinterestshare share-box-imageshare')&&(data1[0]=='pinterest_share_box'))||((className=='.linkedinshare share-box-imageshare')&&(data1[0]=='linkedin_share_share_box'))||((className=='.commentsshare share-box-imageshare')&&(data1[0]=='comments_share_box'))||((className=='.emailshare share-box-imageshare')&&(data1[0]=='email_share_box'))||((className=='.thumbsupshare share-box-imageshare')&&(data1[0]=='thumbsup_share_box'))||((className=='.photogridshare share-box-imageshare')&&(data1[0]=='photogrid_share_box'))){if(!value.hasOwnProperty("sitename")){value.sitename=self.options.sitename;}
if(!value.hasOwnProperty("object")){value.object=self.options.object;}
if(!value.hasOwnProperty("objectid")){value.objectid=self.options.objectid;}
if(!value.hasOwnProperty("site")){value.site=self.options.site;}
if(!value.hasOwnProperty("via")){value.via=self.options.via;}
if(!value.hasOwnProperty("title")){value.title=self.options.title;}
if(!value.hasOwnProperty("defaultImg")){value.defaultImg=self.options.defaultImg;}
if(!value.hasOwnProperty("url")){value.url=self.options.url;}
link2=data1[4].replace('{sitename}',value.sitename).replace('{object}',value.object).replace('{objectid}',value.objectid).replace('{site}',value.site).replace('{url}',value.url).replace('{title}',value.title).replace('{via}',value.via).replace('{defaultImg}',value.defaultImg);className=className.replace(' share-box-imageshare','');$(".gallery-share-details >li:nth-child(2) "+className+"").replaceWith(link2);}}
break;}}});})(jQuery);(function($){$.fn.lightbox_me=function(options){return this.each(function(){var
opts=$.extend({},$.fn.lightbox_me.defaults,options),$overlay=$(),$self=$(this),$iframe=$('<iframe id="foo" style="z-index: '+(opts.zIndex+1)+';border: none; margin: 0; padding: 0; position: absolute; width: 100%; height: 100%; top: 0; left: 0; filter: mask();"/>'),ie6=($.browser.msie&&$.browser.version<7);if(opts.showOverlay){var $currentOverlays=$(".js_lb_overlay:visible");if($currentOverlays.length>0){$overlay=$('<div class="lb_overlay_clear js_lb_overlay"/>');}else{$overlay=$('<div class="'+opts.classPrefix+'_overlay js_lb_overlay"/>');}}
if(ie6){var src=/^https/i.test(window.location.href||'')?'javascript:false':'about:blank';$iframe.attr('src',src);$('body').append($iframe);}
$self.appendTo($('body'));$('body').append($overlay);if(opts.showOverlay){setOverlayHeight();$overlay.css({position:'absolute',width:'100%',top:0,left:0,right:0,bottom:0,zIndex:(opts.zIndex+2),display:'none'});if(!$overlay.hasClass('lb_overlay_clear')){$overlay.css(opts.overlayCSS);}}
if(opts.showOverlay){$overlay.fadeIn(opts.overlaySpeed,function(){setSelfPosition();$self[opts.appearEffect](opts.lightboxSpeed,function(){setOverlayHeight();setSelfPosition();opts.onLoad()});});}else{setSelfPosition();$self[opts.appearEffect](opts.lightboxSpeed,function(){opts.onLoad()});}
if(opts.parentLightbox){opts.parentLightbox.fadeOut(200);}
$(window).resize(setOverlayHeight).resize(setSelfPosition).scroll(setSelfPosition);$(window).bind('keyup.lightbox_me',observeKeyPress);if(opts.closeClick){$overlay.click(function(e){closeLightbox();e.preventDefault;});}
$self.delegate(opts.closeSelector,"click",function(e){closeLightbox();e.preventDefault();});$self.bind('close',closeLightbox);$self.bind('reposition',setSelfPosition);function closeLightbox(){var s=$self[0].style;if(opts.destroyOnClose){$self.add($overlay).remove();}else{$self.add($overlay).hide();}
if(opts.parentLightbox){opts.parentLightbox.fadeIn(200);}
$iframe.remove();$self.undelegate(opts.closeSelector,"click");$(window).unbind('reposition',setOverlayHeight);$(window).unbind('reposition',setSelfPosition);$(window).unbind('scroll',setSelfPosition);$(window).unbind('keyup.lightbox_me');if(ie6)
s.removeExpression('top');opts.onClose();}
function observeKeyPress(e){if((e.keyCode==27||(e.DOM_VK_ESCAPE==27&&e.which==0))&&opts.closeEsc)closeLightbox();}
function setOverlayHeight(){if($(window).height()<$(document).height()){$overlay.css({height:$(document).height()+'px'});$iframe.css({height:$(document).height()+'px'});}else{$overlay.css({height:'100%'});if(ie6){$('html,body').css('height','100%');$iframe.css('height','100%');}}}
function setSelfPosition(){var s=$self[0].style;$self.css({left:'50%',marginLeft:($self.outerWidth()/2)*-1,zIndex:(opts.zIndex+3)});if(($self.height()+80>=$(window).height())&&($self.css('position')!='absolute'||ie6)){var topOffset=$(document).scrollTop()+40;$self.css({position:'absolute',top:topOffset+'px',marginTop:0})
if(ie6){s.removeExpression('top');}}else if($self.height()+80<$(window).height()){if(ie6){s.position='absolute';if(opts.centered){s.setExpression('top','(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"')
s.marginTop=0;}else{var top=(opts.modalCSS&&opts.modalCSS.top)?parseInt(opts.modalCSS.top):0;s.setExpression('top','((blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + '+top+') + "px"')}}else{if(opts.centered){$self.css({position:'fixed',top:'50%',marginTop:($self.outerHeight()/2)*-1})}else{$self.css({position:'fixed'}).css(opts.modalCSS);}}}}});};$.fn.lightbox_me.defaults={appearEffect:"fadeIn",appearEase:"",overlaySpeed:250,lightboxSpeed:300,closeSelector:".close",closeClick:true,closeEsc:true,destroyOnClose:false,showOverlay:true,parentLightbox:false,onLoad:function(){},onClose:function(){},classPrefix:'lb',zIndex:999,centered:false,modalCSS:{top:'40px'},overlayCSS:{background:'black',opacity:.3}}})(jQuery);(function($){function isRGBACapable(){var $script=$('script:first'),color=$script.css('color'),result=false;if(/^rgba/.test(color)){result=true;}else{try{result=(color!=$script.css('color','rgba(0, 0, 0, 0.5)').css('color'));$script.css('color',color);}catch(e){}}
return result;}
$.extend(true,$,{support:{'rgba':isRGBACapable()}});var properties=['color','backgroundColor','borderBottomColor','borderLeftColor','borderRightColor','borderTopColor','outlineColor'];$.each(properties,function(i,property){$.fx.step[property]=function(fx){if(!fx.init){fx.begin=parseColor($(fx.elem).css(property));fx.end=parseColor(fx.end);fx.init=true;}
fx.elem.style[property]=calculateColor(fx.begin,fx.end,fx.pos);}});$.fx.step.borderColor=function(fx){if(!fx.init){fx.end=parseColor(fx.end);}
var borders=properties.slice(2,6);$.each(borders,function(i,property){if(!fx.init){fx[property]={begin:parseColor($(fx.elem).css(property))};}
fx.elem.style[property]=calculateColor(fx[property].begin,fx.end,fx.pos);});fx.init=true;}
function calculateColor(begin,end,pos){var color='rgb'+($.support['rgba']?'a':'')+'('
+parseInt((begin[0]+pos*(end[0]-begin[0])),10)+','
+parseInt((begin[1]+pos*(end[1]-begin[1])),10)+','
+parseInt((begin[2]+pos*(end[2]-begin[2])),10);if($.support['rgba']){color+=','+(begin&&end?parseFloat(begin[3]+pos*(end[3]-begin[3])):1);}
color+=')';return color;}
function parseColor(color){var match,triplet;if(match=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})/.exec(color)){triplet=[parseInt(match[1],16),parseInt(match[2],16),parseInt(match[3],16),1];}else if(match=/#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])/.exec(color)){triplet=[parseInt(match[1],16)*17,parseInt(match[2],16)*17,parseInt(match[3],16)*17,1];}else if(match=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(color)){triplet=[parseInt(match[1]),parseInt(match[2]),parseInt(match[3]),1];}else if(match=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9\.]*)\s*\)/.exec(color)){triplet=[parseInt(match[1],10),parseInt(match[2],10),parseInt(match[3],10),parseFloat(match[4])];}
return triplet;}})(jQuery);var HDNPluck=HDNPluck||{};function hstrot(n,s,domid,freq,jump,loop){this.numels=n;this.show=s;this.show_orig=s;if(this.show>this.numels){this.show=this.numels;}
this.stateids=new Array();this.tabids=new Array();this.timeout;this.domid=domid;this.freq=freq;this.loop=loop;this.numrot=1*n;this.currotnum=0;this.jump=jump;if(this.jump>this.show){this.jump=this.show;}
window[this.domid]=this;}
hstrot.prototype.getDomXEl=function(subel){return document.getElementById(this.domid+subel);}
hstrot.prototype.setup=function(){var lastTest=0;for(var i=1;i<=this.numels&&lastTest==0;i++){var el=this.getDomXEl(i);if(el==null){this.stateids[0]=null;lastTest=1;}else{this.stateids[i-1]=el;}}
lastTest=0;for(i=1;i<=this.numels&&lastTest==0;i++){el=this.getDomXEl('_tab'+i);if(el==null){this.tabids[0]=null;lastTest=1;}else{this.tabids[i-1]=el;}}
this.playb=this.getDomXEl('_play');this.pauseb=this.getDomXEl('_pause');this.nextben=this.getDomXEl('_next_en');this.prevben=this.getDomXEl('_prev_en');this.nextbdis=this.getDomXEl('_next_dis');this.prevbdis=this.getDomXEl('_prev_dis');this.showing=this.getDomXEl('_showing');this.idi=this.getDomXEl('_idi');this.pi=this.getDomXEl('_pi');this.showid(hstgifel(this.idi));if(this.show_orig>=this.numels){if(this.nextben){this.nextben.style.display='none';}
if(this.nextbdis){this.nextbdis.style.display='none';}
if(this.prevben){this.prevben.style.display='none';}
if(this.prevbdis){this.prevbdis.style.display='none';}
if(this.showing){this.showing.style.display='none';}}else{this.setnextprev(hstgifel(this.idi));}
if(!this.setshowing){this.setshowing=this.setshowingtext;}
this.setshowing(hstgifel(this.idi));this.rotate();}
hstrot.prototype.showid=function(id){if(this.loop){}else if(id<1||id>this.numels){return;}
id--;var i;var ns=this.show;if(this.stateids[0]!=null){for(i=id;i<this.numels;i++){if(ns>0){this.stateids[i].style.display='block';ns--;}else{this.stateids[i].style.display='none';}}
for(i=0;i<id;i++){if(this.freq!=0&&ns>0){this.stateids[i].style.display='block';ns--;}else{this.stateids[i].style.display='none';}}
try{if(this.stateids[id].id==this.domid+(id+1)&&this.stateids[id].id.indexOf('galleryitem')>-1){var hrst_pid=$('#'+this.stateids[id].id).attr('comment_id');var hrst_bid=hrst_pid.substring((hrst_pid.indexOf('-')+1));if(HDNPluck['artcontxt']=='slideshow'){if(HDNPluck.success_page.indexOf('?')>-1){HDNPluck.success_page=HDNPluck.success_page.substring(0,HDNPluck.success_page.indexOf('?'));}
HDNPluck.success_page+='?pid='+hrst_bid;HDNPluck.full_filepath=HDNPluck.success_page;HDNPluck.file=hrst_pid;HDNPluck.page_title=document.getElementById(hrst_pid+'-caption').innerHTML;try{document.getElementById('HDNPluck_page_title').innerHTML=document.getElementById(hrst_pid+'-caption').innerHTML;}catch(e){}
replaceCommentsTag(hrst_pid);}else if(typeof HDN.resetComments==='function'){HDN.resetComments($('#'+this.stateids[id].id).attr('comment_id'));}}}catch(e){}}
if(this.tabids[0]!=null){for(i=0;i<this.numels;i++){this.tabids[i].className='';}
this.tabids[id].className='selected';}
id=id+1;hstsitel(this.idi,id);}
hstrot.prototype.mshowid=function(id){this.stop();this.showid(id);}
hstrot.prototype.stop=function(){clearTimeout(this.timeout);hstsbtel(this.pi,false);if(this.playb){this.playb.style.display='block';}
if(this.pauseb){this.pauseb.style.display='none';}}
hstrot.prototype.play=function(){hstsbtel(this.pi,true);var cur=this.nextel(true);this.showid(cur);this.currotnum=1;this.rotate();}
hstrot.prototype.start=function(){if(this.playb){this.playb.style.display='none';}
if(this.pauseb){this.pauseb.style.display='block';}}
hstrot.prototype.rotate=function(){if(this.freq!=0&&hstgbfel(this.pi)&&this.currotnum<this.numrot){clearTimeout(this.timeout)
this.start();this.currotnum=this.currotnum+1;var cur=this.nextel(true);this.timeout=setTimeout(this.domid+'.showid('+cur+');'+this.domid+'.rotate();',this.freq);}else{this.stop();}}
hstrot.prototype.nextel=function(up){var cur=hstgifel(this.idi);if(typeof cur=="undefined"){cur=1;}else{if(up){cur=cur+this.jump;if(cur>this.numels){if(this.loop){cur=1;}else{cur=cur-this.numels;}}}else{cur=cur-this.jump;if(cur<1){if(this.loop){if((this.numels%this.jump)==0){cur=this.numels-this.jump+1;}else{cur=this.numels-(this.numels%this.jump)+1;}}else{cur=cur+this.numels;}}}}
return cur;}
hstrot.prototype.setnextprev=function(cur){if(this.loop){return;}
if(cur>(this.numels-this.show)){this.nonext=true;if(this.nextben){this.nextben.style.display='none';}
if(this.nextbdis){this.nextbdis.style.display='inline';}}else{this.nonext=false;if(this.nextben){this.nextben.style.display='inline';}
if(this.nextbdis){this.nextbdis.style.display='none';}}
if(cur>this.show){this.noprev=false;if(this.prevben){this.prevben.style.display='inline';}
if(this.prevbdis){this.prevbdis.style.display='none';}}else{this.noprev=true;if(this.prevben){this.prevben.style.display='none';}
if(this.prevbdis){this.prevbdis.style.display='inline';}}}
hstrot.prototype.next=function(){if(this.nextben){this.nextben.blur();}
if(this.nexbdis){this.nextbdis.blur();}
if(this.nonext){return;}
var cur=this.nextel(true);this.showid(cur);this.setnextprev(cur);this.setshowing(cur);}
hstrot.prototype.prev=function(){if(this.prevben){this.prevben.blur();}
if(this.prevbdis){this.prevbdis.blur();}
if(this.noprev){return;}
var cur=this.nextel(false);this.showid(cur);this.setnextprev(cur);this.setshowing(cur);}
hstrot.prototype.setshowingtext=function(cur){if(this.showing==null){return;}
var showing=hst_rotation_label+cur+'-';if(cur<=(this.numels-this.show)){var showend=cur+this.show-1;showing+=showend;}else{showing+=this.numels;}
if(this.show==1){showing=cur;}
showing+=' of '+this.numels;this.showing.innerHTML=showing;}
hstrot.prototype.showitem=function(seriesid,elid){seriesid.showid(elid);seriesid.setnextprev(elid);seriesid.setshowing(elid);}
function hstgifel(el){if(el){return parseInt(el.value);}
return 0;}
function hstsitel(el,num){hstsstel(el,num);}
function hstgbfel(el){if(el){if(el.value=="True"){return true;}}
return false;}
function hstsbtel(el,b){hstsstel(el,(b?"True":"False"));}
function hstgsfel(el){if(el){return el.value;}
return'';}
function hstsstel(el,s){if(el){el.value=s;}}
var gate_req;function gate_loadXMLDoc(url){if(window.XMLHttpRequest){gate_req=new XMLHttpRequest();}else if(window.ActiveXObject){gate_req=new ActiveXObject("Microsoft.XMLHTTP");}
if(gate_req){gate_req.onreadystatechange=gate_processReqChange;gate_req.open("GET",url,true);gate_req.send(null);}}
function gate_showAds(itemArray){if(itemArray.length>0){var i=0;for(i=0;i<itemArray.length;i++){El=document.getElementById(itemArray[i].elID);if(El){El.innerHTML=itemArray[i].adText;}}}}
function gateGetHTML(ads){var theAd;var itemArray=new Array();var adClickUrl;var adType;var skyAds=new Array();var bottomAds=new Array();var seenSky;var seenBottom;var seenads=false;for(var i=0;i<ads.length;i++){theAd=ads[i];var adTitle=theAd.attributes.getNamedItem('title').value;var seenads=false;if(adTitle){seenads=true;}
var adDesc=theAd.attributes.getNamedItem('description').value;var adSiteHost=theAd.attributes.getNamedItem('siteHost').value;var clickUrl=theAd.childNodes;if(navigator.appName.toLowerCase().indexOf('microsoft')==-1){var adClickUrlObj=clickUrl[1];adClickUrl=(new XMLSerializer()).serializeToString(adClickUrlObj).replace(new RegExp("<"+adClickUrlObj.nodeName+".*?>","g"),'').replace(new RegExp("</"+adClickUrlObj.nodeName+">","g"),'');adType=adClickUrlObj.attributes.getNamedItem('type').value;}else{var adClickUrlObj=clickUrl[0];adType=adClickUrlObj.attributes.getNamedItem('type').value;adClickUrl=adClickUrlObj.xml.replace(new RegExp("<"+adClickUrlObj.nodeName+".*?>","g"),'').replace(new RegExp("</?"+adClickUrlObj.nodeName+">","g"),'');}
var a=new gad(adTitle,adDesc,adSiteHost,adClickUrl,'text');seenSky=1;skyAds.push(a);}
itemArray.push(new gadPlacement("yahooSponsoredLinks",gate_doHTML(skyAds)));return itemArray;}
function gate_processReqChange(){if(gate_req.readyState==4){if(gate_req.status==200){response=gate_req.responseXML.documentElement;ads=response.getElementsByTagName('Listing');gate_showAds(gateGetHTML(ads));}}}
function gad(adTitle,adDesc,adSiteHost,adClickUrl,type){this.title=adTitle;this.desc=adDesc;this.clickUrl=adClickUrl;this.sitehost=adSiteHost;this.type=type;}
function gadPlacement(elID,adText){this.elID=elID;this.adText=adText;}
function gate_doHTML(google_ads){if(google_ads.length==0){return'';}
var s='';var i;var in_last=google_ads.length-1;s+='\n<div class="hst-contextualads">\n<div class="header">\n<h2>Sponsored Links</h2></div><ul>';for(i=0;i<google_ads.length;++i){var ahref='<a href="'+google_ads[i].clickUrl+'">';if(i==in_last){s+='<li class="last">\n';}else{s+='<li>\n';}
s+='<h4>'+ahref+google_ads[i].title+'</a></h4>\n';s+='<p>'+ahref+google_ads[i].desc+'</a></p>\n';s+='<p class="exit">'+ahref+'('+google_ads[i].sitehost
+')</a></p>\n</li>\n\n';}
s+='</ul></div><!-- end contextual ad -->\n';return s;}
(function($){$.fn.wunderground=function(zip){this.each(function(){var buildHtml=function(data){if(data.indexOf('|')==-1){return;}
data=data.split('|');$('#weatherloc').html('<a href="http://www.sfgate.com/weather/'+data[1].replace(" ","_")+'">'+data[1]+', '+data[2]+'</a>');$('#weatherFiveDay').html('<a href="http://www.sfgate.com/weather/'+data[1].replace(" ","_")+'" class="forecast" id="HwLink"><img src="/img/modules/siteheader/wea001/arrow.gif"> <span id="HwFDF">5 Day Forecast</span></a>');$('#weathertemp').html('<a href="http://www.sfgate.com/weather/'+data[1].replace(" ","_")+'" id="weathertemp">'+data[3]+'</a>');$('#weatherscale').html(data[4]);$('#weathercond').text(data[5]);$('#weatherTodayLow').text(data[7]);$('#weatherTodayHigh').text(data[8]);$('#weatherTodayClass').css('background','url(/img/modules/siteheader/weather/icons/'+(night?'nt_':'')+data[9]+'.png) no-repeat');$('#weatherTomorrowLow').text(data[10]);$('#weatherTomorrowHigh').text(data[11]);$('#weatherTomorrowClass').css('background','url(/img/modules/siteheader/weather/icons/'+(night?'nt_':'')+data[12]+'.png) no-repeat');$('#weatherTomorrowDay').text(data[13]+'.');$('#defaultLoc').text(data[0]);var img='/img/modules/siteheader/weather/'+(night?'nt_':'')+data[6]+'.png';$('#weatherbg').css('background','url('+img+') no-repeat 160px 5px transparent');if(window.DD_belatedPNG){DD_belatedPNG.fixPng($('#weatherbg').get(0));}}
var target=this;if(GetCookie('DefLoc')!=null){cZip=GetCookie('DefLoc');}else{cZip=HDN.zipcode;}
var wZip=(zip!='undefined')?zip:GetCookie('DefLoc');if(wZip){if(wZip.substr(0,5)!='00000'){wZip=wZip.substr(0,5);}}else{wZip=cZip;}
var wData=GetCookie('weatherData');var now=requestTime||new Date(),hour=String('0'+now.getHours()).slice(-2),min=String('0'+(Math.floor(now.getMinutes()/5)*5)).slice(-2),night=(hour<5||hour>19),file='/external/weather/'+wZip+'-'+hour+min+'.txt';if(wData&&wData.substr(0,wData.indexOf('|'))==wZip){buildHtml(wData);}else{$.get(file,function(data){buildHtml(data);if(data.indexOf('|')!=-1){SaveCookie('weatherData',data,300.0/86400.0);SaveCookie('DefLoc',wZip,60);}});}});return this;};})(jQuery);jQuery(function($){$('#row2').wunderground();$('#cityChange').click(function(){$('#weatherPopupMenu').show();});$('#weatherPopupMenu input[name="weatherBtn"]').each(function(ndx,elem){$(elem).click(function(){$('#row2').wunderground($(this).val());$('#weatherPopupMenu').hide();});});$('#weatherPopupMenu .close').each(function(ndx,elem){$(elem).click(function(){$('#weatherPopupMenu').hide();});})});function hdnToggleMobile(){var dP=location.hostname.split('.').reverse();var uR=[dP.shift()];uR.push(dP.shift());var d='.'+uR[1]+'.'+uR[0];var isMobile=false;if(dP.length&&dP[0].match(/^m$/i)){isMobile=true;dP.shift();if(dP.length){uR=uR.concat(dP);}else{uR.push('www');}}else{uR.push('m');if(dP.length&&dP[0].match(/^www$/i)){dP.shift();}
if(dP.length){uR=uR.concat(dP);}}
document.cookie='btype='+((isMobile)?'web':'mobile')+'; path=/; domain='+d;var newSearch=location.search;if(newSearch.length){if(newSearch.indexOf('forceMobile')>=0){if(isMobile){newSearch=newSearch.replace('forceMobile','forceWeb');}}else if(newSearch.indexOf('forceWeb')>=0){if(!isMobile){newSearch=newSearch.replace('forceWeb','forceMobile');}}else{newSearch+='&force'+((isMobile)?'Web':'Mobile')+'=1';}}else{newSearch='?force'+((isMobile)?'Web':'Mobile')+'=1';}
location.href=location.protocol+'//'+uR.reverse().join('.')+
location.pathname+
newSearch+
location.hash;}
function iPadShowPromos(){var ua=new String(navigator.userAgent);var np=new String(navigator.platform);if(ua.match(/Safari/i)&&np.match(/iPad/i)){$('div.container').prepend('<div id="iPadPromoWrapper"><a id="iPadPromoBar" href="'+HDN.siteUrl+'ipadapp/"><img src="/img/ads/ipadpromobar.png" /></a></div>');$('#iPadPromoBar').click(function(){linkTrack(this,'ipadblackbar','iPadpromos');});}}
var HDNPolling={};HDNPolling.pollResultURL="";HDNPolling.PollWidgetID="";HDNPolling.previewGen=false;HDNPolling.setCookie=function(name,value,seconds){if(seconds){var date=new Date();date.setTime(date.getTime()+(seconds*1000));var expires="; expires="+date.toGMTString();}
else var expires="";document.cookie=name+"="+value+expires+"; path=/";return null;}
HDNPolling.getCookie=function(name){var nameEQ=name+"=";var ca=document.cookie.split(';');for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==' ')c=c.substring(1,c.length);if(c.indexOf(nameEQ)==0)return c.substring(nameEQ.length,c.length);}
return null;}
HDNPolling.deleteCookie=function(name){setCookie(name,"",-1);}
HDNPolling.displayNoResults=function(){$("#content-"+HDNPolling.PollWidgetID+"").css('display','none');$("#results-"+HDNPolling.PollWidgetID+"").css('display','block');$("#vote-feedback-"+HDNPolling.PollWidgetID+"").css('display','block');}
HDNPolling.displayResults=function(resultset){var html="";if(resultset.question_header!=null)
$("#result-title-results-"+HDNPolling.PollWidgetID+"").text(""+resultset.question_header+"");html="";if(resultset.url!=null){html+='<a href="'+resultset.url+'" target="_blank">'+resultset.question+'</a>';}
else{html+=resultset.question;}
$("#result-question-results-"+HDNPolling.PollWidgetID+"").append(html);var item=0;var total=parseInt(resultset.total);var sDisplayValue='';for(i=0;i<resultset.choices.length;i++){var poll=resultset.choices[i];var question=poll.choice;var response=parseInt(poll.votes);var isWinner=parseInt(poll.isWinner);var winnerClass=(isWinner==1)?"winner":"";var percentage=(response==0)?0:((response/total)*100).toFixed(1);var scale=(response==0)?0:Math.round((response/total)*300);if(item>6){item=0;}
html="<tr> <td colspan='2'>";if(poll.url!=null){html+='<a href="'+poll.url+'" target="_blank">'+question+'</a>';}
else{html+=question;}
html+="</td>";html+="<tr><td width=\"99%\"><div class='pollResultBar"+item+"' style='width:"+percentage+"%;'></div></td>";html+="<td ";if(isWinner==1)
html+="class=winner ";html+="width=\"1%\" nowrap><div class=\"pollPercentageValue\">";if(resultset.display_type=="percentcount"){sDisplayValue=poll.votes+" ( "+percentage+"% ) ";}else if(resultset.display_type=="count"){sDisplayValue=poll.votes;}else{sDisplayValue=percentage+" %";}
html+=sDisplayValue+"</div></td></tr>";$("#result-list-results-"+HDNPolling.PollWidgetID+"").append(html);item++;}
$("#content-"+HDNPolling.PollWidgetID+"").css('display','none');$("#results-"+HDNPolling.PollWidgetID+"").css('display','block');};HDNPolling.submitVote=function(pollWidgetID){var pollId=$('#frm'+pollWidgetID+' input:hidden[name=pollId]').val();var choiceId=$('#frm'+pollWidgetID+' input:radio[name=choice]:checked').val();var serverPath=$("#frm"+pollWidgetID+"").attr("action");var hasWritein=$("#frm"+pollWidgetID+' input:text[name=writein]').length>0;var writein='';if(hasWritein){writein=$("#frm"+pollWidgetID+' input:text[name=writein]').val();}
HDNPolling.pollResultURL="/data/polls/poll-"+pollWidgetID+".json";$.ajaxSetup({"error":function(){HDNPolling.displayNoResults();}});var cookieName="poll-"+pollWidgetID+"";HDNPolling.PollWidgetID=pollWidgetID;if(HDNPolling.getCookie(cookieName)==null){var salt=Math.floor(Math.random()*(100000-1000+1)+1000);HDNPolling.setCookie('hdnpa',salt,30);$.post(serverPath,{'pollId':''+pollWidgetID+'','choice':''+choiceId+'','writein':''+encodeURI(writein)+'','hdnpa':''+salt+''});HDNPolling.setCookie(cookieName,cookieName,7*24*3600);}
else{}
var p="r"+Math.floor(Math.random()*10000);HDNPolling.pollResultURL+="?random="+p;var xhr=$.getJSON(HDNPolling.pollResultURL,function(data){HDNPolling.displayResults(data);});return false;};HDNPolling.getVotes=function(pollWidgetID){HDNPolling.PollWidgetID=pollWidgetID;var pollId=$('#frm'+pollWidgetID+' input:hidden[name=pollId]').val();HDNPolling.pollResultURL="/data/polls/poll-"+pollWidgetID+".json";$.ajaxSetup({"error":function(){HDNPolling.displayNoResults();}});var xhr=$.getJSON(HDNPolling.pollResultURL,function(data){HDNPolling.displayResults(data);});return false;};HDNPolling.displayPollDisabled=function(resultset,bPollIsClosed){if(bPollIsClosed||resultset.voting_past_close_date){var votingCompletedMessage=$('#frm-poll-voting-completed-'+HDNPolling.PollWidgetID);var t=resultset.close_date.split(/[- :]/);votingCompletedMessage.append("Voting closed on "+t[1]+"/"+t[2]+"/"+t[0]);votingCompletedMessage.show();HDNPolling.displayResults(resultset);}
else{var voteSubmitDiv=$('#frm-poll-votes-'+HDNPolling.PollWidgetID);voteSubmitDiv.hide();var notOpenMessage=$('#frm-poll-voting-disabled-'+HDNPolling.PollWidgetID);var t=resultset.open_date.split(/[- :]/);notOpenMessage.append("Voting starts "+t[1]+"/"+t[2]+"/"+t[0]);notOpenMessage.show();}}
$(document).ready(function(){if(HDNPolling.previewGen)return;$("div.PollContent").each(function(){var pollWidgetID=new String($(this).attr("id")).substring(8);var pollId=$('#frm'+pollWidgetID+' input:hidden[name=pollId]').val();var pollResultURL="/data/polls/poll-"+pollId+".json";$.getJSON(pollResultURL,function(data){var cookieName="poll-"+pollWidgetID+"";var bUserHasVoted=(HDNPolling.getCookie(cookieName)!=null);var bPollIsClosed=(data.status=='closed');HDNPolling.PollWidgetID=pollWidgetID;if(!data.voting_enabled){HDNPolling.displayPollDisabled(data,bPollIsClosed);return;}
if(bUserHasVoted||bPollIsClosed)
HDNPolling.displayResults(data);});});});var HDNPollingBQ={};HDNPollingBQ.polls={};HDNPollingBQ.setupPoll=function(pollId,totalVotes){var pollJsonUrl='/data/polls/poll-'+pollId+'.json';var jPollContainer=$('#bq_poll_'+pollId);HDNPollingBQ.polls['poll'+pollId]={totalVotes:totalVotes}
var pollClosed=jPollContainer.hasClass('poll-closed')?true:false;var userVote=HDNPollingBQ.getCookie(('poll-'+pollId));if(pollClosed){HDNPollingBQ.disablePoll(jPollContainer);}
if(userVote){HDNPollingBQ.disablePoll(jPollContainer,userVote);$('.vote-instructions',jPollContainer).html('You already voted.');}
if(!pollClosed&&!userVote){$('.bq-module-option',jPollContainer).click(function(){var jOptionBox=$(this).parent();var jOptionsContainer=jOptionBox.parent();var pollId=parseInt(jPollContainer.attr('id').replace('bq_poll_',''));var clickedChoiceId=jOptionBox.attr('id').replace('bq_choice_','');HDNPollingBQ.polls['poll'+pollId].totalVotes++;$('.bq-module-option-box',jOptionsContainer).each(function(){var choiceId=$(this).attr('id').replace('bq_choice_','');var choiceVotes=parseInt($('#bq_choice_'+choiceId+'_votes').html());if(clickedChoiceId==choiceId){choiceVotes++;$('#bq_choice_'+clickedChoiceId+'_votes').html(choiceVotes);if(choiceVotes==1){$('#bq_choice_'+clickedChoiceId+'_votes_str').html('vote');}else{$('#bq_choice_'+clickedChoiceId+'_votes_str').html('votes');}}
var percentage=(choiceVotes/HDNPollingBQ.polls['poll'+pollId].totalVotes)*100;percentage=Math.round(percentage);$('#bq_choice_'+choiceId+'_percentage').html(percentage);});HDNPollingBQ.disablePoll(jPollContainer,clickedChoiceId);$('.vote-instructions',jPollContainer).html('Your vote is being counted.');HDNPollingBQ.saveCookie(('poll-'+pollId),clickedChoiceId,365,true);var salt=Math.floor(Math.random()*(100000-1000+1)+1000);HDNPollingBQ.saveCookie('hdnpa',salt,1,false);var postUrl='/?controllerName=poll&context[id]='+pollId+'&action=submit';$.post(postUrl,{'pollId':''+pollId+'','choice':''+clickedChoiceId+'','writein':'','hdnpa':''+salt+''});});}
$.ajax({dataType:'json',url:pollJsonUrl,cache:true,success:function(data){data.total=parseInt(data.total);if(typeof data.id!=='undefined'&&(data.total>HDNPollingBQ.polls['poll'+data.id].totalVotes)){for(i=0;i<data.choices.length;i++){$('#bq_choice_'+data.choices[i].id+'_percentage').html(data.choices[i].percentage);$('#bq_choice_'+data.choices[i].id+'_votes').html(data.choices[i].votes);if(data.choices[i].votes==1){$('#bq_choice_'+data.choices[i].id+'_votes_str').html('vote');}else{$('#bq_choice_'+data.choices[i].id+'_votes_str').html('votes');}}
HDNPollingBQ.polls['poll'+data.id].totalVotes=data.total;}},error:function(request,status,error){}});}
HDNPollingBQ.disablePoll=function(jPollContainer,displayChoiceId){$('.bq-module-option-box',jPollContainer).removeClass('selected-on').addClass('selected-off');$('.bq-module-option',jPollContainer).unbind('click').css('cursor','default');if(typeof displayChoiceId!=='undefined'&&displayChoiceId){$('#bq_choice_'+displayChoiceId).removeClass('selected-off').addClass('selected-on');}}
HDNPollingBQ.getCookie=function(cookieName){var cookies=document.cookie;if(cookies.indexOf(cookieName+'=')==-1)return null;var start=cookies.indexOf(cookieName+'=')+(cookieName.length+1);var finish=cookies.substring(start,cookies.length);finish=(finish.indexOf(';')==-1)?cookies.length:start+finish.indexOf(';');return unescape(cookies.substring(start,finish));}
HDNPollingBQ.saveCookie=function(cookieName,cookieValue,days,rootDomain){var domainString='';if(rootDomain&&typeof HDN.cookieDomain!=='undefined'){domainString="; domain="+HDN.cookieDomain;};var expireDate=new Date();expireDate.setTime(expireDate.getTime()+(days*86400000));document.cookie=cookieName+'='+cookieValue+'; expires='+expireDate.toGMTString()+'; path=/'+domainString;}
$(document).ready(function(){$('#modal_signin_form').bind('submit',function(e){var $this=$(this);e.preventDefault();var data=$this.serialize()+'&_='+new Date().getTime()+'&callback=?';$.ajax({url:$this.attr('action'),data:data,dataType:'jsonp'}).done(function(respObj){if(respObj.status=='ok'){$('#modal_signin_div').hide();$('#modal_signin_password').val('');$('#modal_signin_error_div').hide();var eventMsg='User was logged in successfully.';if(typeof(getAtUser)!='undefined'){eventMsg=getAtUser();}
$.event.trigger({type:"hdnLoginSuccessful",message:eventMsg,time:new Date()});}else{$('#modal_signin_div').show()
$("#modal_signin_error_div").html(respObj.message);$("#modal_signin_error_div").show();$("#modal_signin_data_span").html("");}});});});jQuery(function($){var navIndex=$('#navIndex');$('#index').click(function(click){click.preventDefault();if($.browser.msie&&parseInt($.browser.version)==7){var zindex=1000;$('div').each(function(ndx,elem){elem.style.zIndex=zindex--;});}
if(navIndex.is(':visible')){navIndex.hide();}else{$('#navIndex-columns').load('/rest/block/item/navindex.html',function(){navIndex.toggle();});}});$('#navIndex-close').click(function(click){click.preventDefault();navIndex.hide();});});function sfg_SrchClear(newwindow){var term=document.forms['nav001_search_frm'].term;var radio=document.forms['nav001_search_frm'].st;if(term.value=='Search'){term.value='';}
for(var i=0;i<radio.length;i++){if(radio[i].checked){if(radio[i].value=='b'){if(newwindow){window.open('http://local.sfgate.com/search?keyword='+encodeURIComponent(term.value),'SFGate Search');}else{location.href='http://local.sfgate.com/search?keyword='+encodeURIComponent(term.value);}
return false;}}}
document.forms['nav001_search_frm'].submit();}
function sfg_SrchToggleOff(){var term=document.forms['nav001_search_frm'].term;if(term.value=='Search'){term.value='';term.className='textInput';}
return false;}
function sfg_SrchToggleOn(){var term=document.forms['nav001_search_frm'].term;if(!term.value){term.value='Search';term.className='textInputNote';}
return false;}
function sfgate_un(){var start=document.cookie.indexOf('hd=')
if(start==-1){return'';}
start+=3;var username=document.cookie.substr(start);var end=username.indexOf(';');if(end!=-1){username=username.substr(0,end);}
if(username.length==0){return'';}
end=username.indexOf('|');if(end==-1){return'';}
return username.substr(0,end);}
function print_sfgate_un(eleId){var encodedURL=escape(window.location);var sfgate_user=sfgate_un();var unOutput='';if(sfgate_user){unOutput='Hello, <span class="pipe"><a href="/profile/?plckPersonaPage=PersonaHome&amp;plckUserId='+sfgate_user+'&amp;User='+sfgate_user+'">'+sfgate_user+'</a>';unOutput+=' | <a href="/cgi-bin/webreg/user/account?user='+sfgate_user+'">My Account</a>';unOutput+=' | <a href="/cgi-bin/sso/action/logout">Sign Out</a></span>';}else{unOutput='<span class="pipe"><a href="/cgi-bin/sso/action/login">Sign In</a>';unOutput+=' | <a href="/cgi-bin/webreg/user/reg_cnt">Register</a></span>';}
if(typeof eleId!=='undefined'&&eleId!==''){document.getElementById(eleId).innerHTML=unOutput;}else{document.write(unOutput);}}
function print_sfgate_un_stacked(){var encodedURL=escape(window.location);var sfgate_user=sfgate_un();if(sfgate_user){document.write('Hello, <a href="/profile/?plckPersonaPage=PersonaHome&amp;plckUserId='+sfgate_user+'&amp;User='+sfgate_user+'">'+sfgate_user+'</a>');document.write('<span style="display:block;line-height:15px;"><a href="/cgi-bin/webreg/user/account?user='+sfgate_user+'">My Account</a></span>');document.write('<span style="display:block;line-height:15px;"><a href="/cgi-bin/sso/action/logout">Sign Out</a></span>');}else{document.write('<span style="display:block;line-height:15px;"><a href="/cgi-bin/sso/action/login">Sign In</a></span>');document.write('<span style="display:block;line-height:15px;"><a href="/cgi-bin/webreg/user/reg_cnt">Register</a></span>');}}
function sfgate_get_hd_cookie_username(){var start=document.cookie.indexOf('hd=')
if(start==-1){return'';}
start+=3;var username=document.cookie.substr(start);var end=username.indexOf(';');if(end!=-1){username=username.substr(0,end);}
if(username.length==0){return'';}
end=username.indexOf('|');if(end==-1){return'';}
return username.substr(0,end);}
function sfgate_get_at_cookie_username(){var start=document.cookie.indexOf('at=');if(start==-1){return'';}
start+=3;var username=document.cookie.substr(start);var end=username.indexOf(';');if(end!=-1){username=username.substr(0,end);}
username_found=0;allATCookieParams=username.split('&');for(i=0;i<allATCookieParams.length;i++){if(allATCookieParams[i].substr(0,2)=='u='){username=allATCookieParams[i].substr(2);username_found=1;i=allATCookieParams.length;}}
if(username_found!=1)
return'';var end2=username.indexOf('&');if(end2!=-1){username=username.substr(0,end2);}
var end=username.indexOf(';');if(end!=-1){username=username.substr(0,end);}
if(username.length==0){return'';}
end=username.indexOf('&');if(end!=-1){username=username.substr(0,end);}
return username;}
function print_sfgate_at_un(){var encodedURL=escape(window.location);var sfgate_user=sfgate_get_at_cookie_username();document.write('<div class="userlinks">');if(sfgate_user){document.write('Hello, <a href="http://www.sfgate.com/profile/?plckPersonaPage=PersonaHome&amp;plckUserId='+sfgate_user+'&amp;User='+sfgate_user+'">'+sfgate_user+'</a>');document.write(' <span class="pipe">|</span> <a href="http://www.sfgate.com/cgi-bin/webreg/user/account?user='+sfgate_user+'">My Account</a>');document.write(' <span class="pipe">|</span> <a href="http://www.sfgate.com/cgi-bin/sso/action/logout">Sign Out</a>');}else{document.write('<a href="http://www.sfgate.com/cgi-bin/sso/action/login?url=http://'+document.location.host+'">Sign In</a>');document.write(' <span class="pipe">|</span> <a href="http://www.sfgate.com/cgi-bin/webreg/user/reg_cnt?url=http://'+document.location.host+'">Register</a>');}
document.write('</div>');}
function sfgate_at_is_bad(){var start=document.cookie.indexOf('at=');if(start==-1){return 0;}
start+=3;var at=document.cookie.substr(start);var end=at.indexOf(';');if(end!=-1){at=at.substr(0,end);}
if(at.indexOf('pwd_md5_tmpl')!=-1){return 1;}
return 0;}
function sfg_ClearInnerLabel(input,label){if(input.value==label){input.value='';}
return true;}
function sfg_ToggleInnerLabel(input,label,on){var labelExists=(input.value==label?1:0);if(on&&!labelExists&&!input.value){input.value=label;input.className='textInputNote';}
if(!on&&labelExists){input.value='';input.className='textInput';}
return false;}
(function(e){var t=e.createElement("script");if(document.cookie.indexOf("nsghtn=dev")>-1){console.log("Ensighten DEV");t.src=e.location.protocol+"//nexus.ensighten.com/hearst/news-dev/Bootstrap.js"}else{console.log("Ensighten Prod");t.src=e.location.protocol+"//nexus.ensighten.com/hearst/news/Bootstrap.js"}t.async=true;e.getElementsByTagName("head")[0].appendChild(t)})(document)